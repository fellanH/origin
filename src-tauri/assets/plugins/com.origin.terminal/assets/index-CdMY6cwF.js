(function(){const Me=document.createElement("link").relList;if(Me&&Me.supports&&Me.supports("modulepreload"))return;for(const ce of document.querySelectorAll('link[rel="modulepreload"]'))X(ce);new MutationObserver(ce=>{for(const de of ce)if(de.type==="childList")for(const W of de.addedNodes)W.tagName==="LINK"&&W.rel==="modulepreload"&&X(W)}).observe(document,{childList:!0,subtree:!0});function me(ce){const de={};return ce.integrity&&(de.integrity=ce.integrity),ce.referrerPolicy&&(de.referrerPolicy=ce.referrerPolicy),ce.crossOrigin==="use-credentials"?de.credentials="include":ce.crossOrigin==="anonymous"?de.credentials="omit":de.credentials="same-origin",de}function X(ce){if(ce.ep)return;ce.ep=!0;const de=me(ce);fetch(ce.href,de)}})();var Co={exports:{}},qr={};var Df;function sv(){if(Df)return qr;Df=1;var oe=Symbol.for("react.transitional.element"),Me=Symbol.for("react.fragment");function me(X,ce,de){var W=null;if(de!==void 0&&(W=""+de),ce.key!==void 0&&(W=""+ce.key),"key"in ce){de={};for(var a in ce)a!=="key"&&(de[a]=ce[a])}else de=ce;return ce=de.ref,{$$typeof:oe,type:X,key:W,ref:ce!==void 0?ce:null,props:de}}return qr.Fragment=Me,qr.jsx=me,qr.jsxs=me,qr}var Mf;function rv(){return Mf||(Mf=1,Co.exports=sv()),Co.exports}var na=rv(),bo={exports:{}},be={};var Tf;function nv(){if(Tf)return be;Tf=1;var oe=Symbol.for("react.transitional.element"),Me=Symbol.for("react.portal"),me=Symbol.for("react.fragment"),X=Symbol.for("react.strict_mode"),ce=Symbol.for("react.profiler"),de=Symbol.for("react.consumer"),W=Symbol.for("react.context"),a=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),l=Symbol.for("react.activity"),g=Symbol.iterator;function y(R){return R===null||typeof R!="object"?null:(R=g&&R[g]||R["@@iterator"],typeof R=="function"?R:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},f=Object.assign,r={};function c(R,O,G){this.props=R,this.context=O,this.refs=r,this.updater=G||C}c.prototype.isReactComponent={},c.prototype.setState=function(R,O){if(typeof R!="object"&&typeof R!="function"&&R!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,R,O,"setState")},c.prototype.forceUpdate=function(R){this.updater.enqueueForceUpdate(this,R,"forceUpdate")};function o(){}o.prototype=c.prototype;function h(R,O,G){this.props=R,this.context=O,this.refs=r,this.updater=G||C}var m=h.prototype=new o;m.constructor=h,f(m,c.prototype),m.isPureReactComponent=!0;var w=Array.isArray;function S(){}var E={H:null,A:null,T:null,S:null},p=Object.prototype.hasOwnProperty;function b(R,O,G){var $=G.ref;return{$$typeof:oe,type:R,key:O,ref:$!==void 0?$:null,props:G}}function L(R,O){return b(R.type,O,R.props)}function B(R){return typeof R=="object"&&R!==null&&R.$$typeof===oe}function D(R){var O={"=":"=0",":":"=2"};return"$"+R.replace(/[=:]/g,function(G){return O[G]})}var M=/\/+/g;function z(R,O){return typeof R=="object"&&R!==null&&R.key!=null?D(""+R.key):O.toString(36)}function V(R){switch(R.status){case"fulfilled":return R.value;case"rejected":throw R.reason;default:switch(typeof R.status=="string"?R.then(S,S):(R.status="pending",R.then(function(O){R.status==="pending"&&(R.status="fulfilled",R.value=O)},function(O){R.status==="pending"&&(R.status="rejected",R.reason=O)})),R.status){case"fulfilled":return R.value;case"rejected":throw R.reason}}throw R}function U(R,O,G,$,ne){var ae=typeof R;(ae==="undefined"||ae==="boolean")&&(R=null);var P=!1;if(R===null)P=!0;else switch(ae){case"bigint":case"string":case"number":P=!0;break;case"object":switch(R.$$typeof){case oe:case Me:P=!0;break;case v:return P=R._init,U(P(R._payload),O,G,$,ne)}}if(P)return ne=ne(R),P=$===""?"."+z(R,0):$,w(ne)?(G="",P!=null&&(G=P.replace(M,"$&/")+"/"),U(ne,O,G,"",function(q){return q})):ne!=null&&(B(ne)&&(ne=L(ne,G+(ne.key==null||R&&R.key===ne.key?"":(""+ne.key).replace(M,"$&/")+"/")+P)),O.push(ne)),1;P=0;var H=$===""?".":$+":";if(w(R))for(var Q=0;Q<R.length;Q++)$=R[Q],ae=H+z($,Q),P+=U($,O,G,ae,ne);else if(Q=y(R),typeof Q=="function")for(R=Q.call(R),Q=0;!($=R.next()).done;)$=$.value,ae=H+z($,Q++),P+=U($,O,G,ae,ne);else if(ae==="object"){if(typeof R.then=="function")return U(V(R),O,G,$,ne);throw O=String(R),Error("Objects are not valid as a React child (found: "+(O==="[object Object]"?"object with keys {"+Object.keys(R).join(", ")+"}":O)+"). If you meant to render a collection of children, use an array instead.")}return P}function N(R,O,G){if(R==null)return R;var $=[],ne=0;return U(R,$,"","",function(ae){return O.call(G,ae,ne++)}),$}function F(R){if(R._status===-1){var O=R._result;O=O(),O.then(function(G){(R._status===0||R._status===-1)&&(R._status=1,R._result=G)},function(G){(R._status===0||R._status===-1)&&(R._status=2,R._result=G)}),R._status===-1&&(R._status=0,R._result=O)}if(R._status===1)return R._result.default;throw R._result}var x=typeof reportError=="function"?reportError:function(R){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var O=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof R=="object"&&R!==null&&typeof R.message=="string"?String(R.message):String(R),error:R});if(!window.dispatchEvent(O))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",R);return}console.error(R)},k={map:N,forEach:function(R,O,G){N(R,function(){O.apply(this,arguments)},G)},count:function(R){var O=0;return N(R,function(){O++}),O},toArray:function(R){return N(R,function(O){return O})||[]},only:function(R){if(!B(R))throw Error("React.Children.only expected to receive a single React element child.");return R}};return be.Activity=l,be.Children=k,be.Component=c,be.Fragment=me,be.Profiler=ce,be.PureComponent=h,be.StrictMode=X,be.Suspense=d,be.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=E,be.__COMPILER_RUNTIME={__proto__:null,c:function(R){return E.H.useMemoCache(R)}},be.cache=function(R){return function(){return R.apply(null,arguments)}},be.cacheSignal=function(){return null},be.cloneElement=function(R,O,G){if(R==null)throw Error("The argument must be a React element, but you passed "+R+".");var $=f({},R.props),ne=R.key;if(O!=null)for(ae in O.key!==void 0&&(ne=""+O.key),O)!p.call(O,ae)||ae==="key"||ae==="__self"||ae==="__source"||ae==="ref"&&O.ref===void 0||($[ae]=O[ae]);var ae=arguments.length-2;if(ae===1)$.children=G;else if(1<ae){for(var P=Array(ae),H=0;H<ae;H++)P[H]=arguments[H+2];$.children=P}return b(R.type,ne,$)},be.createContext=function(R){return R={$$typeof:W,_currentValue:R,_currentValue2:R,_threadCount:0,Provider:null,Consumer:null},R.Provider=R,R.Consumer={$$typeof:de,_context:R},R},be.createElement=function(R,O,G){var $,ne={},ae=null;if(O!=null)for($ in O.key!==void 0&&(ae=""+O.key),O)p.call(O,$)&&$!=="key"&&$!=="__self"&&$!=="__source"&&(ne[$]=O[$]);var P=arguments.length-2;if(P===1)ne.children=G;else if(1<P){for(var H=Array(P),Q=0;Q<P;Q++)H[Q]=arguments[Q+2];ne.children=H}if(R&&R.defaultProps)for($ in P=R.defaultProps,P)ne[$]===void 0&&(ne[$]=P[$]);return b(R,ae,ne)},be.createRef=function(){return{current:null}},be.forwardRef=function(R){return{$$typeof:a,render:R}},be.isValidElement=B,be.lazy=function(R){return{$$typeof:v,_payload:{_status:-1,_result:R},_init:F}},be.memo=function(R,O){return{$$typeof:_,type:R,compare:O===void 0?null:O}},be.startTransition=function(R){var O=E.T,G={};E.T=G;try{var $=R(),ne=E.S;ne!==null&&ne(G,$),typeof $=="object"&&$!==null&&typeof $.then=="function"&&$.then(S,x)}catch(ae){x(ae)}finally{O!==null&&G.types!==null&&(O.types=G.types),E.T=O}},be.unstable_useCacheRefresh=function(){return E.H.useCacheRefresh()},be.use=function(R){return E.H.use(R)},be.useActionState=function(R,O,G){return E.H.useActionState(R,O,G)},be.useCallback=function(R,O){return E.H.useCallback(R,O)},be.useContext=function(R){return E.H.useContext(R)},be.useDebugValue=function(){},be.useDeferredValue=function(R,O){return E.H.useDeferredValue(R,O)},be.useEffect=function(R,O){return E.H.useEffect(R,O)},be.useEffectEvent=function(R){return E.H.useEffectEvent(R)},be.useId=function(){return E.H.useId()},be.useImperativeHandle=function(R,O,G){return E.H.useImperativeHandle(R,O,G)},be.useInsertionEffect=function(R,O){return E.H.useInsertionEffect(R,O)},be.useLayoutEffect=function(R,O){return E.H.useLayoutEffect(R,O)},be.useMemo=function(R,O){return E.H.useMemo(R,O)},be.useOptimistic=function(R,O){return E.H.useOptimistic(R,O)},be.useReducer=function(R,O,G){return E.H.useReducer(R,O,G)},be.useRef=function(R){return E.H.useRef(R)},be.useState=function(R){return E.H.useState(R)},be.useSyncExternalStore=function(R,O,G){return E.H.useSyncExternalStore(R,O,G)},be.useTransition=function(){return E.H.useTransition()},be.version="19.2.4",be}var Bf;function To(){return Bf||(Bf=1,bo.exports=nv()),bo.exports}var Ks=To(),wo={exports:{}},jr={},Eo={exports:{}},Ao={};var Of;function av(){return Of||(Of=1,(function(oe){function Me(U,N){var F=U.length;U.push(N);e:for(;0<F;){var x=F-1>>>1,k=U[x];if(0<ce(k,N))U[x]=N,U[F]=k,F=x;else break e}}function me(U){return U.length===0?null:U[0]}function X(U){if(U.length===0)return null;var N=U[0],F=U.pop();if(F!==N){U[0]=F;e:for(var x=0,k=U.length,R=k>>>1;x<R;){var O=2*(x+1)-1,G=U[O],$=O+1,ne=U[$];if(0>ce(G,F))$<k&&0>ce(ne,G)?(U[x]=ne,U[$]=F,x=$):(U[x]=G,U[O]=F,x=O);else if($<k&&0>ce(ne,F))U[x]=ne,U[$]=F,x=$;else break e}}return N}function ce(U,N){var F=U.sortIndex-N.sortIndex;return F!==0?F:U.id-N.id}if(oe.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var de=performance;oe.unstable_now=function(){return de.now()}}else{var W=Date,a=W.now();oe.unstable_now=function(){return W.now()-a}}var d=[],_=[],v=1,l=null,g=3,y=!1,C=!1,f=!1,r=!1,c=typeof setTimeout=="function"?setTimeout:null,o=typeof clearTimeout=="function"?clearTimeout:null,h=typeof setImmediate<"u"?setImmediate:null;function m(U){for(var N=me(_);N!==null;){if(N.callback===null)X(_);else if(N.startTime<=U)X(_),N.sortIndex=N.expirationTime,Me(d,N);else break;N=me(_)}}function w(U){if(f=!1,m(U),!C)if(me(d)!==null)C=!0,S||(S=!0,D());else{var N=me(_);N!==null&&V(w,N.startTime-U)}}var S=!1,E=-1,p=5,b=-1;function L(){return r?!0:!(oe.unstable_now()-b<p)}function B(){if(r=!1,S){var U=oe.unstable_now();b=U;var N=!0;try{e:{C=!1,f&&(f=!1,o(E),E=-1),y=!0;var F=g;try{t:{for(m(U),l=me(d);l!==null&&!(l.expirationTime>U&&L());){var x=l.callback;if(typeof x=="function"){l.callback=null,g=l.priorityLevel;var k=x(l.expirationTime<=U);if(U=oe.unstable_now(),typeof k=="function"){l.callback=k,m(U),N=!0;break t}l===me(d)&&X(d),m(U)}else X(d);l=me(d)}if(l!==null)N=!0;else{var R=me(_);R!==null&&V(w,R.startTime-U),N=!1}}break e}finally{l=null,g=F,y=!1}N=void 0}}finally{N?D():S=!1}}}var D;if(typeof h=="function")D=function(){h(B)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,z=M.port2;M.port1.onmessage=B,D=function(){z.postMessage(null)}}else D=function(){c(B,0)};function V(U,N){E=c(function(){U(oe.unstable_now())},N)}oe.unstable_IdlePriority=5,oe.unstable_ImmediatePriority=1,oe.unstable_LowPriority=4,oe.unstable_NormalPriority=3,oe.unstable_Profiling=null,oe.unstable_UserBlockingPriority=2,oe.unstable_cancelCallback=function(U){U.callback=null},oe.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):p=0<U?Math.floor(1e3/U):5},oe.unstable_getCurrentPriorityLevel=function(){return g},oe.unstable_next=function(U){switch(g){case 1:case 2:case 3:var N=3;break;default:N=g}var F=g;g=N;try{return U()}finally{g=F}},oe.unstable_requestPaint=function(){r=!0},oe.unstable_runWithPriority=function(U,N){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var F=g;g=U;try{return N()}finally{g=F}},oe.unstable_scheduleCallback=function(U,N,F){var x=oe.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?x+F:x):F=x,U){case 1:var k=-1;break;case 2:k=250;break;case 5:k=1073741823;break;case 4:k=1e4;break;default:k=5e3}return k=F+k,U={id:v++,callback:N,priorityLevel:U,startTime:F,expirationTime:k,sortIndex:-1},F>x?(U.sortIndex=F,Me(_,U),me(d)===null&&U===me(_)&&(f?(o(E),E=-1):f=!0,V(w,F-x))):(U.sortIndex=k,Me(d,U),C||y||(C=!0,S||(S=!0,D()))),U},oe.unstable_shouldYield=L,oe.unstable_wrapCallback=function(U){var N=g;return function(){var F=g;g=N;try{return U.apply(this,arguments)}finally{g=F}}}})(Ao)),Ao}var kf;function lv(){return kf||(kf=1,Eo.exports=av()),Eo.exports}var Lo={exports:{}},pt={};var Hf;function ov(){if(Hf)return pt;Hf=1;var oe=To();function Me(d){var _="https://react.dev/errors/"+d;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)_+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+d+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function me(){}var X={d:{f:me,r:function(){throw Error(Me(522))},D:me,C:me,L:me,m:me,X:me,S:me,M:me},p:0,findDOMNode:null},ce=Symbol.for("react.portal");function de(d,_,v){var l=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ce,key:l==null?null:""+l,children:d,containerInfo:_,implementation:v}}var W=oe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function a(d,_){if(d==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return pt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=X,pt.createPortal=function(d,_){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(Me(299));return de(d,_,null,v)},pt.flushSync=function(d){var _=W.T,v=X.p;try{if(W.T=null,X.p=2,d)return d()}finally{W.T=_,X.p=v,X.d.f()}},pt.preconnect=function(d,_){typeof d=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,X.d.C(d,_))},pt.prefetchDNS=function(d){typeof d=="string"&&X.d.D(d)},pt.preinit=function(d,_){if(typeof d=="string"&&_&&typeof _.as=="string"){var v=_.as,l=a(v,_.crossOrigin),g=typeof _.integrity=="string"?_.integrity:void 0,y=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;v==="style"?X.d.S(d,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:l,integrity:g,fetchPriority:y}):v==="script"&&X.d.X(d,{crossOrigin:l,integrity:g,fetchPriority:y,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},pt.preinitModule=function(d,_){if(typeof d=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var v=a(_.as,_.crossOrigin);X.d.M(d,{crossOrigin:v,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&X.d.M(d)},pt.preload=function(d,_){if(typeof d=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var v=_.as,l=a(v,_.crossOrigin);X.d.L(d,v,{crossOrigin:l,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},pt.preloadModule=function(d,_){if(typeof d=="string")if(_){var v=a(_.as,_.crossOrigin);X.d.m(d,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:v,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else X.d.m(d)},pt.requestFormReset=function(d){X.d.r(d)},pt.unstable_batchedUpdates=function(d,_){return d(_)},pt.useFormState=function(d,_,v){return W.H.useFormState(d,_,v)},pt.useFormStatus=function(){return W.H.useHostTransitionStatus()},pt.version="19.2.4",pt}var zf;function cv(){if(zf)return Lo.exports;zf=1;function oe(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(oe)}catch(Me){console.error(Me)}}return oe(),Lo.exports=ov(),Lo.exports}var Uf;function hv(){if(Uf)return jr;Uf=1;var oe=lv(),Me=To(),me=cv();function X(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var i=2;i<arguments.length;i++)t+="&args[]="+encodeURIComponent(arguments[i])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function ce(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function de(e){var t=e,i=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(i=t.return),e=t.return;while(e)}return t.tag===3?i:null}function W(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function a(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function d(e){if(de(e)!==e)throw Error(X(188))}function _(e){var t=e.alternate;if(!t){if(t=de(e),t===null)throw Error(X(188));return t!==e?null:e}for(var i=e,s=t;;){var n=i.return;if(n===null)break;var u=n.alternate;if(u===null){if(s=n.return,s!==null){i=s;continue}break}if(n.child===u.child){for(u=n.child;u;){if(u===i)return d(n),e;if(u===s)return d(n),t;u=u.sibling}throw Error(X(188))}if(i.return!==s.return)i=n,s=u;else{for(var A=!1,T=n.child;T;){if(T===i){A=!0,i=n,s=u;break}if(T===s){A=!0,s=n,i=u;break}T=T.sibling}if(!A){for(T=u.child;T;){if(T===i){A=!0,i=u,s=n;break}if(T===s){A=!0,s=u,i=n;break}T=T.sibling}if(!A)throw Error(X(189))}}if(i.alternate!==s)throw Error(X(190))}if(i.tag!==3)throw Error(X(188));return i.stateNode.current===i?e:t}function v(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=v(e),t!==null)return t;e=e.sibling}return null}var l=Object.assign,g=Symbol.for("react.element"),y=Symbol.for("react.transitional.element"),C=Symbol.for("react.portal"),f=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),w=Symbol.for("react.suspense"),S=Symbol.for("react.suspense_list"),E=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),L=Symbol.for("react.memo_cache_sentinel"),B=Symbol.iterator;function D(e){return e===null||typeof e!="object"?null:(e=B&&e[B]||e["@@iterator"],typeof e=="function"?e:null)}var M=Symbol.for("react.client.reference");function z(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===M?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case f:return"Fragment";case c:return"Profiler";case r:return"StrictMode";case w:return"Suspense";case S:return"SuspenseList";case b:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case C:return"Portal";case h:return e.displayName||"Context";case o:return(e._context.displayName||"Context")+".Consumer";case m:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case E:return t=e.displayName||null,t!==null?t:z(e.type)||"Memo";case p:t=e._payload,e=e._init;try{return z(e(t))}catch{}}return null}var V=Array.isArray,U=Me.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,N=me.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,F={pending:!1,data:null,method:null,action:null},x=[],k=-1;function R(e){return{current:e}}function O(e){0>k||(e.current=x[k],x[k]=null,k--)}function G(e,t){k++,x[k]=e.current,e.current=t}var $=R(null),ne=R(null),ae=R(null),P=R(null);function H(e,t){switch(G(ae,t),G(ne,e),G($,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Zu(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Zu(t),e=Qu(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}O($),G($,e)}function Q(){O($),O(ne),O(ae)}function q(e){e.memoizedState!==null&&G(P,e);var t=$.current,i=Qu(t,e.type);t!==i&&(G(ne,e),G($,i))}function te(e){ne.current===e&&(O($),O(ne)),P.current===e&&(O(P),Nr._currentValue=F)}var le,pe;function fe(e){if(le===void 0)try{throw Error()}catch(i){var t=i.stack.trim().match(/\n( *(at )?)/);le=t&&t[1]||"",pe=-1<i.stack.indexOf(`
    at`)?" (<anonymous>)":-1<i.stack.indexOf("@")?"@unknown:0:0":""}return`
`+le+e+pe}var Ce=!1;function Fe(e,t){if(!e||Ce)return"";Ce=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(t){var re=function(){throw Error()};if(Object.defineProperty(re.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(re,[])}catch(ee){var J=ee}Reflect.construct(e,[],re)}else{try{re.call()}catch(ee){J=ee}e.call(re.prototype)}}else{try{throw Error()}catch(ee){J=ee}(re=e())&&typeof re.catch=="function"&&re.catch(function(){})}}catch(ee){if(ee&&J&&typeof ee.stack=="string")return[ee.stack,J.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var n=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");n&&n.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var u=s.DetermineComponentFrameRoot(),A=u[0],T=u[1];if(A&&T){var I=A.split(`
`),Z=T.split(`
`);for(n=s=0;s<I.length&&!I[s].includes("DetermineComponentFrameRoot");)s++;for(;n<Z.length&&!Z[n].includes("DetermineComponentFrameRoot");)n++;if(s===I.length||n===Z.length)for(s=I.length-1,n=Z.length-1;1<=s&&0<=n&&I[s]!==Z[n];)n--;for(;1<=s&&0<=n;s--,n--)if(I[s]!==Z[n]){if(s!==1||n!==1)do if(s--,n--,0>n||I[s]!==Z[n]){var ie=`
`+I[s].replace(" at new "," at ");return e.displayName&&ie.includes("<anonymous>")&&(ie=ie.replace("<anonymous>",e.displayName)),ie}while(1<=s&&0<=n);break}}}finally{Ce=!1,Error.prepareStackTrace=i}return(i=e?e.displayName||e.name:"")?fe(i):""}function ve(e,t){switch(e.tag){case 26:case 27:case 5:return fe(e.type);case 16:return fe("Lazy");case 13:return e.child!==t&&t!==null?fe("Suspense Fallback"):fe("Suspense");case 19:return fe("SuspenseList");case 0:case 15:return Fe(e.type,!1);case 11:return Fe(e.type.render,!1);case 1:return Fe(e.type,!0);case 31:return fe("Activity");default:return""}}function Rt(e){try{var t="",i=null;do t+=ve(e,i),i=e,e=e.return;while(e);return t}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}var Zt=Object.prototype.hasOwnProperty,Te=oe.unstable_scheduleCallback,Ae=oe.unstable_cancelCallback,Re=oe.unstable_shouldYield,he=oe.unstable_requestPaint,ye=oe.unstable_now,$e=oe.unstable_getCurrentPriorityLevel,Pe=oe.unstable_ImmediatePriority,zt=oe.unstable_UserBlockingPriority,at=oe.unstable_NormalPriority,St=oe.unstable_LowPriority,Ze=oe.unstable_IdlePriority,qe=oe.log,Le=oe.unstable_setDisableYieldValue,Yt=null,ot=null;function xt(e){if(typeof qe=="function"&&Le(e),ot&&typeof ot.setStrictMode=="function")try{ot.setStrictMode(Yt,e)}catch{}}var gt=Math.clz32?Math.clz32:la,us=Math.log,aa=Math.LN2;function la(e){return e>>>=0,e===0?32:31-(us(e)/aa|0)|0}var Ci=256,Xi=262144,Yi=4194304;function ii(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Gr(e,t,i){var s=e.pendingLanes;if(s===0)return 0;var n=0,u=e.suspendedLanes,A=e.pingedLanes;e=e.warmLanes;var T=s&134217727;return T!==0?(s=T&~u,s!==0?n=ii(s):(A&=T,A!==0?n=ii(A):i||(i=T&~e,i!==0&&(n=ii(i))))):(T=s&~u,T!==0?n=ii(T):A!==0?n=ii(A):i||(i=s&~e,i!==0&&(n=ii(i)))),n===0?0:t!==0&&t!==n&&(t&u)===0&&(u=n&-n,i=t&-t,u>=i||u===32&&(i&4194048)!==0)?t:n}function Zs(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Gf(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Bo(){var e=Yi;return Yi<<=1,(Yi&62914560)===0&&(Yi=4194304),e}function oa(e){for(var t=[],i=0;31>i;i++)t.push(e);return t}function Qs(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Wf(e,t,i,s,n,u){var A=e.pendingLanes;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=i,e.entangledLanes&=i,e.errorRecoveryDisabledLanes&=i,e.shellSuspendCounter=0;var T=e.entanglements,I=e.expirationTimes,Z=e.hiddenUpdates;for(i=A&~i;0<i;){var ie=31-gt(i),re=1<<ie;T[ie]=0,I[ie]=-1;var J=Z[ie];if(J!==null)for(Z[ie]=null,ie=0;ie<J.length;ie++){var ee=J[ie];ee!==null&&(ee.lane&=-536870913)}i&=~re}s!==0&&Oo(e,s,0),u!==0&&n===0&&e.tag!==0&&(e.suspendedLanes|=u&~(A&~t))}function Oo(e,t,i){e.pendingLanes|=t,e.suspendedLanes&=~t;var s=31-gt(t);e.entangledLanes|=t,e.entanglements[s]=e.entanglements[s]|1073741824|i&261930}function ko(e,t){var i=e.entangledLanes|=t;for(e=e.entanglements;i;){var s=31-gt(i),n=1<<s;n&t|e[s]&t&&(e[s]|=t),i&=~n}}function Ho(e,t){var i=t&-t;return i=(i&42)!==0?1:ca(i),(i&(e.suspendedLanes|t))!==0?0:i}function ca(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function ha(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function zo(){var e=N.p;return e!==0?e:(e=window.event,e===void 0?32:bf(e.type))}function Uo(e,t){var i=N.p;try{return N.p=e,t()}finally{N.p=i}}var bi=Math.random().toString(36).slice(2),ut="__reactFiber$"+bi,yt="__reactProps$"+bi,fs="__reactContainer$"+bi,ua="__reactEvents$"+bi,Xf="__reactListeners$"+bi,Yf="__reactHandles$"+bi,No="__reactResources$"+bi,Js="__reactMarker$"+bi;function fa(e){delete e[ut],delete e[yt],delete e[ua],delete e[Xf],delete e[Yf]}function ds(e){var t=e[ut];if(t)return t;for(var i=e.parentNode;i;){if(t=i[fs]||i[ut]){if(i=t.alternate,t.child!==null||i!==null&&i.child!==null)for(e=af(e);e!==null;){if(i=e[ut])return i;e=af(e)}return t}e=i,i=e.parentNode}return null}function _s(e){if(e=e[ut]||e[fs]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function er(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(X(33))}function vs(e){var t=e[No];return t||(t=e[No]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function ct(e){e[Js]=!0}var Io=new Set,Fo={};function Vi(e,t){gs(e,t),gs(e+"Capture",t)}function gs(e,t){for(Fo[e]=t,e=0;e<t.length;e++)Io.add(t[e])}var Vf=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Po={},qo={};function $f(e){return Zt.call(qo,e)?!0:Zt.call(Po,e)?!1:Vf.test(e)?qo[e]=!0:(Po[e]=!0,!1)}function Wr(e,t,i){if($f(t))if(i===null)e.removeAttribute(t);else{switch(typeof i){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var s=t.toLowerCase().slice(0,5);if(s!=="data-"&&s!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+i)}}function Xr(e,t,i){if(i===null)e.removeAttribute(t);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+i)}}function si(e,t,i,s){if(s===null)e.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttributeNS(t,i,""+s)}}function Ut(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function jo(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Kf(e,t,i){var s=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var n=s.get,u=s.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return n.call(this)},set:function(A){i=""+A,u.call(this,A)}}),Object.defineProperty(e,t,{enumerable:s.enumerable}),{getValue:function(){return i},setValue:function(A){i=""+A},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function da(e){if(!e._valueTracker){var t=jo(e)?"checked":"value";e._valueTracker=Kf(e,t,""+e[t])}}function Go(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var i=t.getValue(),s="";return e&&(s=jo(e)?e.checked?"true":"false":e.value),e=s,e!==i?(t.setValue(e),!0):!1}function Yr(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Zf=/[\n"\\]/g;function Nt(e){return e.replace(Zf,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function _a(e,t,i,s,n,u,A,T){e.name="",A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?e.type=A:e.removeAttribute("type"),t!=null?A==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Ut(t)):e.value!==""+Ut(t)&&(e.value=""+Ut(t)):A!=="submit"&&A!=="reset"||e.removeAttribute("value"),t!=null?va(e,A,Ut(t)):i!=null?va(e,A,Ut(i)):s!=null&&e.removeAttribute("value"),n==null&&u!=null&&(e.defaultChecked=!!u),n!=null&&(e.checked=n&&typeof n!="function"&&typeof n!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.name=""+Ut(T):e.removeAttribute("name")}function Wo(e,t,i,s,n,u,A,T){if(u!=null&&typeof u!="function"&&typeof u!="symbol"&&typeof u!="boolean"&&(e.type=u),t!=null||i!=null){if(!(u!=="submit"&&u!=="reset"||t!=null)){da(e);return}i=i!=null?""+Ut(i):"",t=t!=null?""+Ut(t):i,T||t===e.value||(e.value=t),e.defaultValue=t}s=s??n,s=typeof s!="function"&&typeof s!="symbol"&&!!s,e.checked=T?e.checked:!!s,e.defaultChecked=!!s,A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"&&(e.name=A),da(e)}function va(e,t,i){t==="number"&&Yr(e.ownerDocument)===e||e.defaultValue===""+i||(e.defaultValue=""+i)}function ps(e,t,i,s){if(e=e.options,t){t={};for(var n=0;n<i.length;n++)t["$"+i[n]]=!0;for(i=0;i<e.length;i++)n=t.hasOwnProperty("$"+e[i].value),e[i].selected!==n&&(e[i].selected=n),n&&s&&(e[i].defaultSelected=!0)}else{for(i=""+Ut(i),t=null,n=0;n<e.length;n++){if(e[n].value===i){e[n].selected=!0,s&&(e[n].defaultSelected=!0);return}t!==null||e[n].disabled||(t=e[n])}t!==null&&(t.selected=!0)}}function Xo(e,t,i){if(t!=null&&(t=""+Ut(t),t!==e.value&&(e.value=t),i==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=i!=null?""+Ut(i):""}function Yo(e,t,i,s){if(t==null){if(s!=null){if(i!=null)throw Error(X(92));if(V(s)){if(1<s.length)throw Error(X(93));s=s[0]}i=s}i==null&&(i=""),t=i}i=Ut(t),e.defaultValue=i,s=e.textContent,s===i&&s!==""&&s!==null&&(e.value=s),da(e)}function ms(e,t){if(t){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=t;return}}e.textContent=t}var Qf=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Vo(e,t,i){var s=t.indexOf("--")===0;i==null||typeof i=="boolean"||i===""?s?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":s?e.setProperty(t,i):typeof i!="number"||i===0||Qf.has(t)?t==="float"?e.cssFloat=i:e[t]=(""+i).trim():e[t]=i+"px"}function $o(e,t,i){if(t!=null&&typeof t!="object")throw Error(X(62));if(e=e.style,i!=null){for(var s in i)!i.hasOwnProperty(s)||t!=null&&t.hasOwnProperty(s)||(s.indexOf("--")===0?e.setProperty(s,""):s==="float"?e.cssFloat="":e[s]="");for(var n in t)s=t[n],t.hasOwnProperty(n)&&i[n]!==s&&Vo(e,n,s)}else for(var u in t)t.hasOwnProperty(u)&&Vo(e,u,t[u])}function ga(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Jf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ed=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Vr(e){return ed.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function ri(){}var pa=null;function ma(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ss=null,ys=null;function Ko(e){var t=_s(e);if(t&&(e=t.stateNode)){var i=e[yt]||null;e:switch(e=t.stateNode,t.type){case"input":if(_a(e,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name),t=i.name,i.type==="radio"&&t!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll('input[name="'+Nt(""+t)+'"][type="radio"]'),t=0;t<i.length;t++){var s=i[t];if(s!==e&&s.form===e.form){var n=s[yt]||null;if(!n)throw Error(X(90));_a(s,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name)}}for(t=0;t<i.length;t++)s=i[t],s.form===e.form&&Go(s)}break e;case"textarea":Xo(e,i.value,i.defaultValue);break e;case"select":t=i.value,t!=null&&ps(e,!!i.multiple,t,!1)}}}var Sa=!1;function Zo(e,t,i){if(Sa)return e(t,i);Sa=!0;try{var s=e(t);return s}finally{if(Sa=!1,(Ss!==null||ys!==null)&&(zn(),Ss&&(t=Ss,e=ys,ys=Ss=null,Ko(t),e)))for(t=0;t<e.length;t++)Ko(e[t])}}function tr(e,t){var i=e.stateNode;if(i===null)return null;var s=i[yt]||null;if(s===null)return null;i=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(X(231,t,typeof i));return i}var ni=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ya=!1;if(ni)try{var ir={};Object.defineProperty(ir,"passive",{get:function(){ya=!0}}),window.addEventListener("test",ir,ir),window.removeEventListener("test",ir,ir)}catch{ya=!1}var wi=null,Ca=null,$r=null;function Qo(){if($r)return $r;var e,t=Ca,i=t.length,s,n="value"in wi?wi.value:wi.textContent,u=n.length;for(e=0;e<i&&t[e]===n[e];e++);var A=i-e;for(s=1;s<=A&&t[i-s]===n[u-s];s++);return $r=n.slice(e,1<s?1-s:void 0)}function Kr(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Zr(){return!0}function Jo(){return!1}function Ct(e){function t(i,s,n,u,A){this._reactName=i,this._targetInst=n,this.type=s,this.nativeEvent=u,this.target=A,this.currentTarget=null;for(var T in e)e.hasOwnProperty(T)&&(i=e[T],this[T]=i?i(u):u[T]);return this.isDefaultPrevented=(u.defaultPrevented!=null?u.defaultPrevented:u.returnValue===!1)?Zr:Jo,this.isPropagationStopped=Jo,this}return l(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=Zr)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=Zr)},persist:function(){},isPersistent:Zr}),t}var $i={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Qr=Ct($i),sr=l({},$i,{view:0,detail:0}),td=Ct(sr),ba,wa,rr,Jr=l({},sr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Aa,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==rr&&(rr&&e.type==="mousemove"?(ba=e.screenX-rr.screenX,wa=e.screenY-rr.screenY):wa=ba=0,rr=e),ba)},movementY:function(e){return"movementY"in e?e.movementY:wa}}),ec=Ct(Jr),id=l({},Jr,{dataTransfer:0}),sd=Ct(id),rd=l({},sr,{relatedTarget:0}),Ea=Ct(rd),nd=l({},$i,{animationName:0,elapsedTime:0,pseudoElement:0}),ad=Ct(nd),ld=l({},$i,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),od=Ct(ld),cd=l({},$i,{data:0}),tc=Ct(cd),hd={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ud={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fd={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function dd(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=fd[e])?!!t[e]:!1}function Aa(){return dd}var _d=l({},sr,{key:function(e){if(e.key){var t=hd[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Kr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?ud[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Aa,charCode:function(e){return e.type==="keypress"?Kr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Kr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),vd=Ct(_d),gd=l({},Jr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ic=Ct(gd),pd=l({},sr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Aa}),md=Ct(pd),Sd=l({},$i,{propertyName:0,elapsedTime:0,pseudoElement:0}),yd=Ct(Sd),Cd=l({},Jr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),bd=Ct(Cd),wd=l({},$i,{newState:0,oldState:0}),Ed=Ct(wd),Ad=[9,13,27,32],La=ni&&"CompositionEvent"in window,nr=null;ni&&"documentMode"in document&&(nr=document.documentMode);var Ld=ni&&"TextEvent"in window&&!nr,sc=ni&&(!La||nr&&8<nr&&11>=nr),rc=" ",nc=!1;function ac(e,t){switch(e){case"keyup":return Ad.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function lc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Cs=!1;function Rd(e,t){switch(e){case"compositionend":return lc(t);case"keypress":return t.which!==32?null:(nc=!0,rc);case"textInput":return e=t.data,e===rc&&nc?null:e;default:return null}}function xd(e,t){if(Cs)return e==="compositionend"||!La&&ac(e,t)?(e=Qo(),$r=Ca=wi=null,Cs=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return sc&&t.locale!=="ko"?null:t.data;default:return null}}var Dd={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function oc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Dd[e.type]:t==="textarea"}function cc(e,t,i,s){Ss?ys?ys.push(s):ys=[s]:Ss=s,t=jn(t,"onChange"),0<t.length&&(i=new Qr("onChange","change",null,i,s),e.push({event:i,listeners:t}))}var ar=null,lr=null;function Md(e){Wu(e,0)}function en(e){var t=er(e);if(Go(t))return e}function hc(e,t){if(e==="change")return t}var uc=!1;if(ni){var Ra;if(ni){var xa="oninput"in document;if(!xa){var fc=document.createElement("div");fc.setAttribute("oninput","return;"),xa=typeof fc.oninput=="function"}Ra=xa}else Ra=!1;uc=Ra&&(!document.documentMode||9<document.documentMode)}function dc(){ar&&(ar.detachEvent("onpropertychange",_c),lr=ar=null)}function _c(e){if(e.propertyName==="value"&&en(lr)){var t=[];cc(t,lr,e,ma(e)),Zo(Md,t)}}function Td(e,t,i){e==="focusin"?(dc(),ar=t,lr=i,ar.attachEvent("onpropertychange",_c)):e==="focusout"&&dc()}function Bd(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return en(lr)}function Od(e,t){if(e==="click")return en(t)}function kd(e,t){if(e==="input"||e==="change")return en(t)}function Hd(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Dt=typeof Object.is=="function"?Object.is:Hd;function or(e,t){if(Dt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var i=Object.keys(e),s=Object.keys(t);if(i.length!==s.length)return!1;for(s=0;s<i.length;s++){var n=i[s];if(!Zt.call(t,n)||!Dt(e[n],t[n]))return!1}return!0}function vc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function gc(e,t){var i=vc(e);e=0;for(var s;i;){if(i.nodeType===3){if(s=e+i.textContent.length,e<=t&&s>=t)return{node:i,offset:t-e};e=s}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=vc(i)}}function pc(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?pc(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function mc(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Yr(e.document);t instanceof e.HTMLIFrameElement;){try{var i=typeof t.contentWindow.location.href=="string"}catch{i=!1}if(i)e=t.contentWindow;else break;t=Yr(e.document)}return t}function Da(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var zd=ni&&"documentMode"in document&&11>=document.documentMode,bs=null,Ma=null,cr=null,Ta=!1;function Sc(e,t,i){var s=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;Ta||bs==null||bs!==Yr(s)||(s=bs,"selectionStart"in s&&Da(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),cr&&or(cr,s)||(cr=s,s=jn(Ma,"onSelect"),0<s.length&&(t=new Qr("onSelect","select",null,t,i),e.push({event:t,listeners:s}),t.target=bs)))}function Ki(e,t){var i={};return i[e.toLowerCase()]=t.toLowerCase(),i["Webkit"+e]="webkit"+t,i["Moz"+e]="moz"+t,i}var ws={animationend:Ki("Animation","AnimationEnd"),animationiteration:Ki("Animation","AnimationIteration"),animationstart:Ki("Animation","AnimationStart"),transitionrun:Ki("Transition","TransitionRun"),transitionstart:Ki("Transition","TransitionStart"),transitioncancel:Ki("Transition","TransitionCancel"),transitionend:Ki("Transition","TransitionEnd")},Ba={},yc={};ni&&(yc=document.createElement("div").style,"AnimationEvent"in window||(delete ws.animationend.animation,delete ws.animationiteration.animation,delete ws.animationstart.animation),"TransitionEvent"in window||delete ws.transitionend.transition);function Zi(e){if(Ba[e])return Ba[e];if(!ws[e])return e;var t=ws[e],i;for(i in t)if(t.hasOwnProperty(i)&&i in yc)return Ba[e]=t[i];return e}var Cc=Zi("animationend"),bc=Zi("animationiteration"),wc=Zi("animationstart"),Ud=Zi("transitionrun"),Nd=Zi("transitionstart"),Id=Zi("transitioncancel"),Ec=Zi("transitionend"),Ac=new Map,Oa="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Oa.push("scrollEnd");function Vt(e,t){Ac.set(e,t),Vi(t,[e])}var tn=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},It=[],Es=0,ka=0;function sn(){for(var e=Es,t=ka=Es=0;t<e;){var i=It[t];It[t++]=null;var s=It[t];It[t++]=null;var n=It[t];It[t++]=null;var u=It[t];if(It[t++]=null,s!==null&&n!==null){var A=s.pending;A===null?n.next=n:(n.next=A.next,A.next=n),s.pending=n}u!==0&&Lc(i,n,u)}}function rn(e,t,i,s){It[Es++]=e,It[Es++]=t,It[Es++]=i,It[Es++]=s,ka|=s,e.lanes|=s,e=e.alternate,e!==null&&(e.lanes|=s)}function Ha(e,t,i,s){return rn(e,t,i,s),nn(e)}function Qi(e,t){return rn(e,null,null,t),nn(e)}function Lc(e,t,i){e.lanes|=i;var s=e.alternate;s!==null&&(s.lanes|=i);for(var n=!1,u=e.return;u!==null;)u.childLanes|=i,s=u.alternate,s!==null&&(s.childLanes|=i),u.tag===22&&(e=u.stateNode,e===null||e._visibility&1||(n=!0)),e=u,u=u.return;return e.tag===3?(u=e.stateNode,n&&t!==null&&(n=31-gt(i),e=u.hiddenUpdates,s=e[n],s===null?e[n]=[t]:s.push(t),t.lane=i|536870912),u):null}function nn(e){if(50<Tr)throw Tr=0,Gl=null,Error(X(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var As={};function Fd(e,t,i,s){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mt(e,t,i,s){return new Fd(e,t,i,s)}function za(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ai(e,t){var i=e.alternate;return i===null?(i=Mt(e.tag,t,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=t,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&65011712,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,t=e.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i.refCleanup=e.refCleanup,i}function Rc(e,t){e.flags&=65011714;var i=e.alternate;return i===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=i.childLanes,e.lanes=i.lanes,e.child=i.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=i.memoizedProps,e.memoizedState=i.memoizedState,e.updateQueue=i.updateQueue,e.type=i.type,t=i.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function an(e,t,i,s,n,u){var A=0;if(s=e,typeof e=="function")za(e)&&(A=1);else if(typeof e=="string")A=W_(e,i,$.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case b:return e=Mt(31,i,t,n),e.elementType=b,e.lanes=u,e;case f:return Ji(i.children,n,u,t);case r:A=8,n|=24;break;case c:return e=Mt(12,i,t,n|2),e.elementType=c,e.lanes=u,e;case w:return e=Mt(13,i,t,n),e.elementType=w,e.lanes=u,e;case S:return e=Mt(19,i,t,n),e.elementType=S,e.lanes=u,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case h:A=10;break e;case o:A=9;break e;case m:A=11;break e;case E:A=14;break e;case p:A=16,s=null;break e}A=29,i=Error(X(130,e===null?"null":typeof e,"")),s=null}return t=Mt(A,i,t,n),t.elementType=e,t.type=s,t.lanes=u,t}function Ji(e,t,i,s){return e=Mt(7,e,s,t),e.lanes=i,e}function Ua(e,t,i){return e=Mt(6,e,null,t),e.lanes=i,e}function xc(e){var t=Mt(18,null,null,0);return t.stateNode=e,t}function Na(e,t,i){return t=Mt(4,e.children!==null?e.children:[],e.key,t),t.lanes=i,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Dc=new WeakMap;function Ft(e,t){if(typeof e=="object"&&e!==null){var i=Dc.get(e);return i!==void 0?i:(t={value:e,source:t,stack:Rt(t)},Dc.set(e,t),t)}return{value:e,source:t,stack:Rt(t)}}var Ls=[],Rs=0,ln=null,hr=0,Pt=[],qt=0,Ei=null,Qt=1,Jt="";function li(e,t){Ls[Rs++]=hr,Ls[Rs++]=ln,ln=e,hr=t}function Mc(e,t,i){Pt[qt++]=Qt,Pt[qt++]=Jt,Pt[qt++]=Ei,Ei=e;var s=Qt;e=Jt;var n=32-gt(s)-1;s&=~(1<<n),i+=1;var u=32-gt(t)+n;if(30<u){var A=n-n%5;u=(s&(1<<A)-1).toString(32),s>>=A,n-=A,Qt=1<<32-gt(t)+n|i<<n|s,Jt=u+e}else Qt=1<<u|i<<n|s,Jt=e}function Ia(e){e.return!==null&&(li(e,1),Mc(e,1,0))}function Fa(e){for(;e===ln;)ln=Ls[--Rs],Ls[Rs]=null,hr=Ls[--Rs],Ls[Rs]=null;for(;e===Ei;)Ei=Pt[--qt],Pt[qt]=null,Jt=Pt[--qt],Pt[qt]=null,Qt=Pt[--qt],Pt[qt]=null}function Tc(e,t){Pt[qt++]=Qt,Pt[qt++]=Jt,Pt[qt++]=Ei,Qt=t.id,Jt=t.overflow,Ei=e}var ft=null,Ye=null,ke=!1,Ai=null,jt=!1,Pa=Error(X(519));function Li(e){var t=Error(X(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ur(Ft(t,e)),Pa}function Bc(e){var t=e.stateNode,i=e.type,s=e.memoizedProps;switch(t[ut]=e,t[yt]=s,i){case"dialog":De("cancel",t),De("close",t);break;case"iframe":case"object":case"embed":De("load",t);break;case"video":case"audio":for(i=0;i<Or.length;i++)De(Or[i],t);break;case"source":De("error",t);break;case"img":case"image":case"link":De("error",t),De("load",t);break;case"details":De("toggle",t);break;case"input":De("invalid",t),Wo(t,s.value,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name,!0);break;case"select":De("invalid",t);break;case"textarea":De("invalid",t),Yo(t,s.value,s.defaultValue,s.children)}i=s.children,typeof i!="string"&&typeof i!="number"&&typeof i!="bigint"||t.textContent===""+i||s.suppressHydrationWarning===!0||$u(t.textContent,i)?(s.popover!=null&&(De("beforetoggle",t),De("toggle",t)),s.onScroll!=null&&De("scroll",t),s.onScrollEnd!=null&&De("scrollend",t),s.onClick!=null&&(t.onclick=ri),t=!0):t=!1,t||Li(e,!0)}function Oc(e){for(ft=e.return;ft;)switch(ft.tag){case 5:case 31:case 13:jt=!1;return;case 27:case 3:jt=!0;return;default:ft=ft.return}}function xs(e){if(e!==ft)return!1;if(!ke)return Oc(e),ke=!0,!1;var t=e.tag,i;if((i=t!==3&&t!==27)&&((i=t===5)&&(i=e.type,i=!(i!=="form"&&i!=="button")||no(e.type,e.memoizedProps)),i=!i),i&&Ye&&Li(e),Oc(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(X(317));Ye=nf(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(X(317));Ye=nf(e)}else t===27?(t=Ye,Fi(e.type)?(e=ho,ho=null,Ye=e):Ye=t):Ye=ft?Wt(e.stateNode.nextSibling):null;return!0}function es(){Ye=ft=null,ke=!1}function qa(){var e=Ai;return e!==null&&(At===null?At=e:At.push.apply(At,e),Ai=null),e}function ur(e){Ai===null?Ai=[e]:Ai.push(e)}var ja=R(null),ts=null,oi=null;function Ri(e,t,i){G(ja,t._currentValue),t._currentValue=i}function ci(e){e._currentValue=ja.current,O(ja)}function Ga(e,t,i){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===i)break;e=e.return}}function Wa(e,t,i,s){var n=e.child;for(n!==null&&(n.return=e);n!==null;){var u=n.dependencies;if(u!==null){var A=n.child;u=u.firstContext;e:for(;u!==null;){var T=u;u=n;for(var I=0;I<t.length;I++)if(T.context===t[I]){u.lanes|=i,T=u.alternate,T!==null&&(T.lanes|=i),Ga(u.return,i,e),s||(A=null);break e}u=T.next}}else if(n.tag===18){if(A=n.return,A===null)throw Error(X(341));A.lanes|=i,u=A.alternate,u!==null&&(u.lanes|=i),Ga(A,i,e),A=null}else A=n.child;if(A!==null)A.return=n;else for(A=n;A!==null;){if(A===e){A=null;break}if(n=A.sibling,n!==null){n.return=A.return,A=n;break}A=A.return}n=A}}function Ds(e,t,i,s){e=null;for(var n=t,u=!1;n!==null;){if(!u){if((n.flags&524288)!==0)u=!0;else if((n.flags&262144)!==0)break}if(n.tag===10){var A=n.alternate;if(A===null)throw Error(X(387));if(A=A.memoizedProps,A!==null){var T=n.type;Dt(n.pendingProps.value,A.value)||(e!==null?e.push(T):e=[T])}}else if(n===P.current){if(A=n.alternate,A===null)throw Error(X(387));A.memoizedState.memoizedState!==n.memoizedState.memoizedState&&(e!==null?e.push(Nr):e=[Nr])}n=n.return}e!==null&&Wa(t,e,i,s),t.flags|=262144}function on(e){for(e=e.firstContext;e!==null;){if(!Dt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function is(e){ts=e,oi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function dt(e){return kc(ts,e)}function cn(e,t){return ts===null&&is(e),kc(e,t)}function kc(e,t){var i=t._currentValue;if(t={context:t,memoizedValue:i,next:null},oi===null){if(e===null)throw Error(X(308));oi=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else oi=oi.next=t;return i}var Pd=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(i,s){e.push(s)}};this.abort=function(){t.aborted=!0,e.forEach(function(i){return i()})}},qd=oe.unstable_scheduleCallback,jd=oe.unstable_NormalPriority,it={$$typeof:h,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Xa(){return{controller:new Pd,data:new Map,refCount:0}}function fr(e){e.refCount--,e.refCount===0&&qd(jd,function(){e.controller.abort()})}var dr=null,Ya=0,Ms=0,Ts=null;function Gd(e,t){if(dr===null){var i=dr=[];Ya=0,Ms=Kl(),Ts={status:"pending",value:void 0,then:function(s){i.push(s)}}}return Ya++,t.then(Hc,Hc),t}function Hc(){if(--Ya===0&&dr!==null){Ts!==null&&(Ts.status="fulfilled");var e=dr;dr=null,Ms=0,Ts=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function Wd(e,t){var i=[],s={status:"pending",value:null,reason:null,then:function(n){i.push(n)}};return e.then(function(){s.status="fulfilled",s.value=t;for(var n=0;n<i.length;n++)(0,i[n])(t)},function(n){for(s.status="rejected",s.reason=n,n=0;n<i.length;n++)(0,i[n])(void 0)}),s}var zc=U.S;U.S=function(e,t){Su=ye(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&Gd(e,t),zc!==null&&zc(e,t)};var ss=R(null);function Va(){var e=ss.current;return e!==null?e:Xe.pooledCache}function hn(e,t){t===null?G(ss,ss.current):G(ss,t.pool)}function Uc(){var e=Va();return e===null?null:{parent:it._currentValue,pool:e}}var Bs=Error(X(460)),$a=Error(X(474)),un=Error(X(542)),fn={then:function(){}};function Nc(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Ic(e,t,i){switch(i=e[i],i===void 0?e.push(t):i!==t&&(t.then(ri,ri),t=i),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Pc(e),e;default:if(typeof t.status=="string")t.then(ri,ri);else{if(e=Xe,e!==null&&100<e.shellSuspendCounter)throw Error(X(482));e=t,e.status="pending",e.then(function(s){if(t.status==="pending"){var n=t;n.status="fulfilled",n.value=s}},function(s){if(t.status==="pending"){var n=t;n.status="rejected",n.reason=s}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Pc(e),e}throw ns=t,Bs}}function rs(e){try{var t=e._init;return t(e._payload)}catch(i){throw i!==null&&typeof i=="object"&&typeof i.then=="function"?(ns=i,Bs):i}}var ns=null;function Fc(){if(ns===null)throw Error(X(459));var e=ns;return ns=null,e}function Pc(e){if(e===Bs||e===un)throw Error(X(483))}var Os=null,_r=0;function dn(e){var t=_r;return _r+=1,Os===null&&(Os=[]),Ic(Os,e,t)}function vr(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function _n(e,t){throw t.$$typeof===g?Error(X(525)):(e=Object.prototype.toString.call(t),Error(X(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function qc(e){function t(Y,j){if(e){var K=Y.deletions;K===null?(Y.deletions=[j],Y.flags|=16):K.push(j)}}function i(Y,j){if(!e)return null;for(;j!==null;)t(Y,j),j=j.sibling;return null}function s(Y){for(var j=new Map;Y!==null;)Y.key!==null?j.set(Y.key,Y):j.set(Y.index,Y),Y=Y.sibling;return j}function n(Y,j){return Y=ai(Y,j),Y.index=0,Y.sibling=null,Y}function u(Y,j,K){return Y.index=K,e?(K=Y.alternate,K!==null?(K=K.index,K<j?(Y.flags|=67108866,j):K):(Y.flags|=67108866,j)):(Y.flags|=1048576,j)}function A(Y){return e&&Y.alternate===null&&(Y.flags|=67108866),Y}function T(Y,j,K,se){return j===null||j.tag!==6?(j=Ua(K,Y.mode,se),j.return=Y,j):(j=n(j,K),j.return=Y,j)}function I(Y,j,K,se){var ge=K.type;return ge===f?ie(Y,j,K.props.children,se,K.key):j!==null&&(j.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===p&&rs(ge)===j.type)?(j=n(j,K.props),vr(j,K),j.return=Y,j):(j=an(K.type,K.key,K.props,null,Y.mode,se),vr(j,K),j.return=Y,j)}function Z(Y,j,K,se){return j===null||j.tag!==4||j.stateNode.containerInfo!==K.containerInfo||j.stateNode.implementation!==K.implementation?(j=Na(K,Y.mode,se),j.return=Y,j):(j=n(j,K.children||[]),j.return=Y,j)}function ie(Y,j,K,se,ge){return j===null||j.tag!==7?(j=Ji(K,Y.mode,se,ge),j.return=Y,j):(j=n(j,K),j.return=Y,j)}function re(Y,j,K){if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return j=Ua(""+j,Y.mode,K),j.return=Y,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case y:return K=an(j.type,j.key,j.props,null,Y.mode,K),vr(K,j),K.return=Y,K;case C:return j=Na(j,Y.mode,K),j.return=Y,j;case p:return j=rs(j),re(Y,j,K)}if(V(j)||D(j))return j=Ji(j,Y.mode,K,null),j.return=Y,j;if(typeof j.then=="function")return re(Y,dn(j),K);if(j.$$typeof===h)return re(Y,cn(Y,j),K);_n(Y,j)}return null}function J(Y,j,K,se){var ge=j!==null?j.key:null;if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return ge!==null?null:T(Y,j,""+K,se);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case y:return K.key===ge?I(Y,j,K,se):null;case C:return K.key===ge?Z(Y,j,K,se):null;case p:return K=rs(K),J(Y,j,K,se)}if(V(K)||D(K))return ge!==null?null:ie(Y,j,K,se,null);if(typeof K.then=="function")return J(Y,j,dn(K),se);if(K.$$typeof===h)return J(Y,j,cn(Y,K),se);_n(Y,K)}return null}function ee(Y,j,K,se,ge){if(typeof se=="string"&&se!==""||typeof se=="number"||typeof se=="bigint")return Y=Y.get(K)||null,T(j,Y,""+se,ge);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case y:return Y=Y.get(se.key===null?K:se.key)||null,I(j,Y,se,ge);case C:return Y=Y.get(se.key===null?K:se.key)||null,Z(j,Y,se,ge);case p:return se=rs(se),ee(Y,j,K,se,ge)}if(V(se)||D(se))return Y=Y.get(K)||null,ie(j,Y,se,ge,null);if(typeof se.then=="function")return ee(Y,j,K,dn(se),ge);if(se.$$typeof===h)return ee(Y,j,K,cn(j,se),ge);_n(j,se)}return null}function ue(Y,j,K,se){for(var ge=null,He=null,_e=j,Ee=j=0,Oe=null;_e!==null&&Ee<K.length;Ee++){_e.index>Ee?(Oe=_e,_e=null):Oe=_e.sibling;var ze=J(Y,_e,K[Ee],se);if(ze===null){_e===null&&(_e=Oe);break}e&&_e&&ze.alternate===null&&t(Y,_e),j=u(ze,j,Ee),He===null?ge=ze:He.sibling=ze,He=ze,_e=Oe}if(Ee===K.length)return i(Y,_e),ke&&li(Y,Ee),ge;if(_e===null){for(;Ee<K.length;Ee++)_e=re(Y,K[Ee],se),_e!==null&&(j=u(_e,j,Ee),He===null?ge=_e:He.sibling=_e,He=_e);return ke&&li(Y,Ee),ge}for(_e=s(_e);Ee<K.length;Ee++)Oe=ee(_e,Y,Ee,K[Ee],se),Oe!==null&&(e&&Oe.alternate!==null&&_e.delete(Oe.key===null?Ee:Oe.key),j=u(Oe,j,Ee),He===null?ge=Oe:He.sibling=Oe,He=Oe);return e&&_e.forEach(function(Wi){return t(Y,Wi)}),ke&&li(Y,Ee),ge}function Se(Y,j,K,se){if(K==null)throw Error(X(151));for(var ge=null,He=null,_e=j,Ee=j=0,Oe=null,ze=K.next();_e!==null&&!ze.done;Ee++,ze=K.next()){_e.index>Ee?(Oe=_e,_e=null):Oe=_e.sibling;var Wi=J(Y,_e,ze.value,se);if(Wi===null){_e===null&&(_e=Oe);break}e&&_e&&Wi.alternate===null&&t(Y,_e),j=u(Wi,j,Ee),He===null?ge=Wi:He.sibling=Wi,He=Wi,_e=Oe}if(ze.done)return i(Y,_e),ke&&li(Y,Ee),ge;if(_e===null){for(;!ze.done;Ee++,ze=K.next())ze=re(Y,ze.value,se),ze!==null&&(j=u(ze,j,Ee),He===null?ge=ze:He.sibling=ze,He=ze);return ke&&li(Y,Ee),ge}for(_e=s(_e);!ze.done;Ee++,ze=K.next())ze=ee(_e,Y,Ee,ze.value,se),ze!==null&&(e&&ze.alternate!==null&&_e.delete(ze.key===null?Ee:ze.key),j=u(ze,j,Ee),He===null?ge=ze:He.sibling=ze,He=ze);return e&&_e.forEach(function(iv){return t(Y,iv)}),ke&&li(Y,Ee),ge}function We(Y,j,K,se){if(typeof K=="object"&&K!==null&&K.type===f&&K.key===null&&(K=K.props.children),typeof K=="object"&&K!==null){switch(K.$$typeof){case y:e:{for(var ge=K.key;j!==null;){if(j.key===ge){if(ge=K.type,ge===f){if(j.tag===7){i(Y,j.sibling),se=n(j,K.props.children),se.return=Y,Y=se;break e}}else if(j.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===p&&rs(ge)===j.type){i(Y,j.sibling),se=n(j,K.props),vr(se,K),se.return=Y,Y=se;break e}i(Y,j);break}else t(Y,j);j=j.sibling}K.type===f?(se=Ji(K.props.children,Y.mode,se,K.key),se.return=Y,Y=se):(se=an(K.type,K.key,K.props,null,Y.mode,se),vr(se,K),se.return=Y,Y=se)}return A(Y);case C:e:{for(ge=K.key;j!==null;){if(j.key===ge)if(j.tag===4&&j.stateNode.containerInfo===K.containerInfo&&j.stateNode.implementation===K.implementation){i(Y,j.sibling),se=n(j,K.children||[]),se.return=Y,Y=se;break e}else{i(Y,j);break}else t(Y,j);j=j.sibling}se=Na(K,Y.mode,se),se.return=Y,Y=se}return A(Y);case p:return K=rs(K),We(Y,j,K,se)}if(V(K))return ue(Y,j,K,se);if(D(K)){if(ge=D(K),typeof ge!="function")throw Error(X(150));return K=ge.call(K),Se(Y,j,K,se)}if(typeof K.then=="function")return We(Y,j,dn(K),se);if(K.$$typeof===h)return We(Y,j,cn(Y,K),se);_n(Y,K)}return typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint"?(K=""+K,j!==null&&j.tag===6?(i(Y,j.sibling),se=n(j,K),se.return=Y,Y=se):(i(Y,j),se=Ua(K,Y.mode,se),se.return=Y,Y=se),A(Y)):i(Y,j)}return function(Y,j,K,se){try{_r=0;var ge=We(Y,j,K,se);return Os=null,ge}catch(_e){if(_e===Bs||_e===un)throw _e;var He=Mt(29,_e,null,Y.mode);return He.lanes=se,He.return=Y,He}}}var as=qc(!0),jc=qc(!1),xi=!1;function Ka(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Za(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Di(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Mi(e,t,i){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,(Ue&2)!==0){var n=s.pending;return n===null?t.next=t:(t.next=n.next,n.next=t),s.pending=t,t=nn(e),Lc(e,null,i),t}return rn(e,s,t,i),nn(e)}function gr(e,t,i){if(t=t.updateQueue,t!==null&&(t=t.shared,(i&4194048)!==0)){var s=t.lanes;s&=e.pendingLanes,i|=s,t.lanes=i,ko(e,i)}}function Qa(e,t){var i=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,i===s)){var n=null,u=null;if(i=i.firstBaseUpdate,i!==null){do{var A={lane:i.lane,tag:i.tag,payload:i.payload,callback:null,next:null};u===null?n=u=A:u=u.next=A,i=i.next}while(i!==null);u===null?n=u=t:u=u.next=t}else n=u=t;i={baseState:s.baseState,firstBaseUpdate:n,lastBaseUpdate:u,shared:s.shared,callbacks:s.callbacks},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=t:e.next=t,i.lastBaseUpdate=t}var Ja=!1;function pr(){if(Ja){var e=Ts;if(e!==null)throw e}}function mr(e,t,i,s){Ja=!1;var n=e.updateQueue;xi=!1;var u=n.firstBaseUpdate,A=n.lastBaseUpdate,T=n.shared.pending;if(T!==null){n.shared.pending=null;var I=T,Z=I.next;I.next=null,A===null?u=Z:A.next=Z,A=I;var ie=e.alternate;ie!==null&&(ie=ie.updateQueue,T=ie.lastBaseUpdate,T!==A&&(T===null?ie.firstBaseUpdate=Z:T.next=Z,ie.lastBaseUpdate=I))}if(u!==null){var re=n.baseState;A=0,ie=Z=I=null,T=u;do{var J=T.lane&-536870913,ee=J!==T.lane;if(ee?(Be&J)===J:(s&J)===J){J!==0&&J===Ms&&(Ja=!0),ie!==null&&(ie=ie.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var ue=e,Se=T;J=t;var We=i;switch(Se.tag){case 1:if(ue=Se.payload,typeof ue=="function"){re=ue.call(We,re,J);break e}re=ue;break e;case 3:ue.flags=ue.flags&-65537|128;case 0:if(ue=Se.payload,J=typeof ue=="function"?ue.call(We,re,J):ue,J==null)break e;re=l({},re,J);break e;case 2:xi=!0}}J=T.callback,J!==null&&(e.flags|=64,ee&&(e.flags|=8192),ee=n.callbacks,ee===null?n.callbacks=[J]:ee.push(J))}else ee={lane:J,tag:T.tag,payload:T.payload,callback:T.callback,next:null},ie===null?(Z=ie=ee,I=re):ie=ie.next=ee,A|=J;if(T=T.next,T===null){if(T=n.shared.pending,T===null)break;ee=T,T=ee.next,ee.next=null,n.lastBaseUpdate=ee,n.shared.pending=null}}while(!0);ie===null&&(I=re),n.baseState=I,n.firstBaseUpdate=Z,n.lastBaseUpdate=ie,u===null&&(n.shared.lanes=0),Hi|=A,e.lanes=A,e.memoizedState=re}}function Gc(e,t){if(typeof e!="function")throw Error(X(191,e));e.call(t)}function Wc(e,t){var i=e.callbacks;if(i!==null)for(e.callbacks=null,e=0;e<i.length;e++)Gc(i[e],t)}var ks=R(null),vn=R(0);function Xc(e,t){e=mi,G(vn,e),G(ks,t),mi=e|t.baseLanes}function el(){G(vn,mi),G(ks,ks.current)}function tl(){mi=vn.current,O(ks),O(vn)}var Tt=R(null),Gt=null;function Ti(e){var t=e.alternate;G(et,et.current&1),G(Tt,e),Gt===null&&(t===null||ks.current!==null||t.memoizedState!==null)&&(Gt=e)}function il(e){G(et,et.current),G(Tt,e),Gt===null&&(Gt=e)}function Yc(e){e.tag===22?(G(et,et.current),G(Tt,e),Gt===null&&(Gt=e)):Bi()}function Bi(){G(et,et.current),G(Tt,Tt.current)}function Bt(e){O(Tt),Gt===e&&(Gt=null),O(et)}var et=R(0);function gn(e){for(var t=e;t!==null;){if(t.tag===13){var i=t.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||oo(i)||co(i)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var hi=0,we=null,je=null,st=null,pn=!1,Hs=!1,ls=!1,mn=0,Sr=0,zs=null,Xd=0;function Qe(){throw Error(X(321))}function sl(e,t){if(t===null)return!1;for(var i=0;i<t.length&&i<e.length;i++)if(!Dt(e[i],t[i]))return!1;return!0}function rl(e,t,i,s,n,u){return hi=u,we=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,U.H=e===null||e.memoizedState===null?Mh:Sl,ls=!1,u=i(s,n),ls=!1,Hs&&(u=$c(t,i,s,n)),Vc(e),u}function Vc(e){U.H=br;var t=je!==null&&je.next!==null;if(hi=0,st=je=we=null,pn=!1,Sr=0,zs=null,t)throw Error(X(300));e===null||rt||(e=e.dependencies,e!==null&&on(e)&&(rt=!0))}function $c(e,t,i,s){we=e;var n=0;do{if(Hs&&(zs=null),Sr=0,Hs=!1,25<=n)throw Error(X(301));if(n+=1,st=je=null,e.updateQueue!=null){var u=e.updateQueue;u.lastEffect=null,u.events=null,u.stores=null,u.memoCache!=null&&(u.memoCache.index=0)}U.H=Th,u=t(i,s)}while(Hs);return u}function Yd(){var e=U.H,t=e.useState()[0];return t=typeof t.then=="function"?yr(t):t,e=e.useState()[0],(je!==null?je.memoizedState:null)!==e&&(we.flags|=1024),t}function nl(){var e=mn!==0;return mn=0,e}function al(e,t,i){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i}function ll(e){if(pn){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}pn=!1}hi=0,st=je=we=null,Hs=!1,Sr=mn=0,zs=null}function mt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return st===null?we.memoizedState=st=e:st=st.next=e,st}function tt(){if(je===null){var e=we.alternate;e=e!==null?e.memoizedState:null}else e=je.next;var t=st===null?we.memoizedState:st.next;if(t!==null)st=t,je=e;else{if(e===null)throw we.alternate===null?Error(X(467)):Error(X(310));je=e,e={memoizedState:je.memoizedState,baseState:je.baseState,baseQueue:je.baseQueue,queue:je.queue,next:null},st===null?we.memoizedState=st=e:st=st.next=e}return st}function Sn(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function yr(e){var t=Sr;return Sr+=1,zs===null&&(zs=[]),e=Ic(zs,e,t),t=we,(st===null?t.memoizedState:st.next)===null&&(t=t.alternate,U.H=t===null||t.memoizedState===null?Mh:Sl),e}function yn(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return yr(e);if(e.$$typeof===h)return dt(e)}throw Error(X(438,String(e)))}function ol(e){var t=null,i=we.updateQueue;if(i!==null&&(t=i.memoCache),t==null){var s=we.alternate;s!==null&&(s=s.updateQueue,s!==null&&(s=s.memoCache,s!=null&&(t={data:s.data.map(function(n){return n.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),i===null&&(i=Sn(),we.updateQueue=i),i.memoCache=t,i=t.data[t.index],i===void 0)for(i=t.data[t.index]=Array(e),s=0;s<e;s++)i[s]=L;return t.index++,i}function ui(e,t){return typeof t=="function"?t(e):t}function Cn(e){var t=tt();return cl(t,je,e)}function cl(e,t,i){var s=e.queue;if(s===null)throw Error(X(311));s.lastRenderedReducer=i;var n=e.baseQueue,u=s.pending;if(u!==null){if(n!==null){var A=n.next;n.next=u.next,u.next=A}t.baseQueue=n=u,s.pending=null}if(u=e.baseState,n===null)e.memoizedState=u;else{t=n.next;var T=A=null,I=null,Z=t,ie=!1;do{var re=Z.lane&-536870913;if(re!==Z.lane?(Be&re)===re:(hi&re)===re){var J=Z.revertLane;if(J===0)I!==null&&(I=I.next={lane:0,revertLane:0,gesture:null,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null}),re===Ms&&(ie=!0);else if((hi&J)===J){Z=Z.next,J===Ms&&(ie=!0);continue}else re={lane:0,revertLane:Z.revertLane,gesture:null,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},I===null?(T=I=re,A=u):I=I.next=re,we.lanes|=J,Hi|=J;re=Z.action,ls&&i(u,re),u=Z.hasEagerState?Z.eagerState:i(u,re)}else J={lane:re,revertLane:Z.revertLane,gesture:Z.gesture,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},I===null?(T=I=J,A=u):I=I.next=J,we.lanes|=re,Hi|=re;Z=Z.next}while(Z!==null&&Z!==t);if(I===null?A=u:I.next=T,!Dt(u,e.memoizedState)&&(rt=!0,ie&&(i=Ts,i!==null)))throw i;e.memoizedState=u,e.baseState=A,e.baseQueue=I,s.lastRenderedState=u}return n===null&&(s.lanes=0),[e.memoizedState,s.dispatch]}function hl(e){var t=tt(),i=t.queue;if(i===null)throw Error(X(311));i.lastRenderedReducer=e;var s=i.dispatch,n=i.pending,u=t.memoizedState;if(n!==null){i.pending=null;var A=n=n.next;do u=e(u,A.action),A=A.next;while(A!==n);Dt(u,t.memoizedState)||(rt=!0),t.memoizedState=u,t.baseQueue===null&&(t.baseState=u),i.lastRenderedState=u}return[u,s]}function Kc(e,t,i){var s=we,n=tt(),u=ke;if(u){if(i===void 0)throw Error(X(407));i=i()}else i=t();var A=!Dt((je||n).memoizedState,i);if(A&&(n.memoizedState=i,rt=!0),n=n.queue,dl(Jc.bind(null,s,n,e),[e]),n.getSnapshot!==t||A||st!==null&&st.memoizedState.tag&1){if(s.flags|=2048,Us(9,{destroy:void 0},Qc.bind(null,s,n,i,t),null),Xe===null)throw Error(X(349));u||(hi&127)!==0||Zc(s,t,i)}return i}function Zc(e,t,i){e.flags|=16384,e={getSnapshot:t,value:i},t=we.updateQueue,t===null?(t=Sn(),we.updateQueue=t,t.stores=[e]):(i=t.stores,i===null?t.stores=[e]:i.push(e))}function Qc(e,t,i,s){t.value=i,t.getSnapshot=s,eh(t)&&th(e)}function Jc(e,t,i){return i(function(){eh(t)&&th(e)})}function eh(e){var t=e.getSnapshot;e=e.value;try{var i=t();return!Dt(e,i)}catch{return!0}}function th(e){var t=Qi(e,2);t!==null&&Lt(t,e,2)}function ul(e){var t=mt();if(typeof e=="function"){var i=e;if(e=i(),ls){xt(!0);try{i()}finally{xt(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ui,lastRenderedState:e},t}function ih(e,t,i,s){return e.baseState=i,cl(e,je,typeof s=="function"?s:ui)}function Vd(e,t,i,s,n){if(En(e))throw Error(X(485));if(e=t.action,e!==null){var u={payload:n,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(A){u.listeners.push(A)}};U.T!==null?i(!0):u.isTransition=!1,s(u),i=t.pending,i===null?(u.next=t.pending=u,sh(t,u)):(u.next=i.next,t.pending=i.next=u)}}function sh(e,t){var i=t.action,s=t.payload,n=e.state;if(t.isTransition){var u=U.T,A={};U.T=A;try{var T=i(n,s),I=U.S;I!==null&&I(A,T),rh(e,t,T)}catch(Z){fl(e,t,Z)}finally{u!==null&&A.types!==null&&(u.types=A.types),U.T=u}}else try{u=i(n,s),rh(e,t,u)}catch(Z){fl(e,t,Z)}}function rh(e,t,i){i!==null&&typeof i=="object"&&typeof i.then=="function"?i.then(function(s){nh(e,t,s)},function(s){return fl(e,t,s)}):nh(e,t,i)}function nh(e,t,i){t.status="fulfilled",t.value=i,ah(t),e.state=i,t=e.pending,t!==null&&(i=t.next,i===t?e.pending=null:(i=i.next,t.next=i,sh(e,i)))}function fl(e,t,i){var s=e.pending;if(e.pending=null,s!==null){s=s.next;do t.status="rejected",t.reason=i,ah(t),t=t.next;while(t!==s)}e.action=null}function ah(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function lh(e,t){return t}function oh(e,t){if(ke){var i=Xe.formState;if(i!==null){e:{var s=we;if(ke){if(Ye){t:{for(var n=Ye,u=jt;n.nodeType!==8;){if(!u){n=null;break t}if(n=Wt(n.nextSibling),n===null){n=null;break t}}u=n.data,n=u==="F!"||u==="F"?n:null}if(n){Ye=Wt(n.nextSibling),s=n.data==="F!";break e}}Li(s)}s=!1}s&&(t=i[0])}}return i=mt(),i.memoizedState=i.baseState=t,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:lh,lastRenderedState:t},i.queue=s,i=Rh.bind(null,we,s),s.dispatch=i,s=ul(!1),u=ml.bind(null,we,!1,s.queue),s=mt(),n={state:t,dispatch:null,action:e,pending:null},s.queue=n,i=Vd.bind(null,we,n,u,i),n.dispatch=i,s.memoizedState=e,[t,i,!1]}function ch(e){var t=tt();return hh(t,je,e)}function hh(e,t,i){if(t=cl(e,t,lh)[0],e=Cn(ui)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var s=yr(t)}catch(A){throw A===Bs?un:A}else s=t;t=tt();var n=t.queue,u=n.dispatch;return i!==t.memoizedState&&(we.flags|=2048,Us(9,{destroy:void 0},$d.bind(null,n,i),null)),[s,u,e]}function $d(e,t){e.action=t}function uh(e){var t=tt(),i=je;if(i!==null)return hh(t,i,e);tt(),t=t.memoizedState,i=tt();var s=i.queue.dispatch;return i.memoizedState=e,[t,s,!1]}function Us(e,t,i,s){return e={tag:e,create:i,deps:s,inst:t,next:null},t=we.updateQueue,t===null&&(t=Sn(),we.updateQueue=t),i=t.lastEffect,i===null?t.lastEffect=e.next=e:(s=i.next,i.next=e,e.next=s,t.lastEffect=e),e}function fh(){return tt().memoizedState}function bn(e,t,i,s){var n=mt();we.flags|=e,n.memoizedState=Us(1|t,{destroy:void 0},i,s===void 0?null:s)}function wn(e,t,i,s){var n=tt();s=s===void 0?null:s;var u=n.memoizedState.inst;je!==null&&s!==null&&sl(s,je.memoizedState.deps)?n.memoizedState=Us(t,u,i,s):(we.flags|=e,n.memoizedState=Us(1|t,u,i,s))}function dh(e,t){bn(8390656,8,e,t)}function dl(e,t){wn(2048,8,e,t)}function Kd(e){we.flags|=4;var t=we.updateQueue;if(t===null)t=Sn(),we.updateQueue=t,t.events=[e];else{var i=t.events;i===null?t.events=[e]:i.push(e)}}function _h(e){var t=tt().memoizedState;return Kd({ref:t,nextImpl:e}),function(){if((Ue&2)!==0)throw Error(X(440));return t.impl.apply(void 0,arguments)}}function vh(e,t){return wn(4,2,e,t)}function gh(e,t){return wn(4,4,e,t)}function ph(e,t){if(typeof t=="function"){e=e();var i=t(e);return function(){typeof i=="function"?i():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function mh(e,t,i){i=i!=null?i.concat([e]):null,wn(4,4,ph.bind(null,t,e),i)}function _l(){}function Sh(e,t){var i=tt();t=t===void 0?null:t;var s=i.memoizedState;return t!==null&&sl(t,s[1])?s[0]:(i.memoizedState=[e,t],e)}function yh(e,t){var i=tt();t=t===void 0?null:t;var s=i.memoizedState;if(t!==null&&sl(t,s[1]))return s[0];if(s=e(),ls){xt(!0);try{e()}finally{xt(!1)}}return i.memoizedState=[s,t],s}function vl(e,t,i){return i===void 0||(hi&1073741824)!==0&&(Be&261930)===0?e.memoizedState=t:(e.memoizedState=i,e=Cu(),we.lanes|=e,Hi|=e,i)}function Ch(e,t,i,s){return Dt(i,t)?i:ks.current!==null?(e=vl(e,i,s),Dt(e,t)||(rt=!0),e):(hi&42)===0||(hi&1073741824)!==0&&(Be&261930)===0?(rt=!0,e.memoizedState=i):(e=Cu(),we.lanes|=e,Hi|=e,t)}function bh(e,t,i,s,n){var u=N.p;N.p=u!==0&&8>u?u:8;var A=U.T,T={};U.T=T,ml(e,!1,t,i);try{var I=n(),Z=U.S;if(Z!==null&&Z(T,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var ie=Wd(I,s);Cr(e,t,ie,Ht(e))}else Cr(e,t,s,Ht(e))}catch(re){Cr(e,t,{then:function(){},status:"rejected",reason:re},Ht())}finally{N.p=u,A!==null&&T.types!==null&&(A.types=T.types),U.T=A}}function Zd(){}function gl(e,t,i,s){if(e.tag!==5)throw Error(X(476));var n=wh(e).queue;bh(e,n,t,F,i===null?Zd:function(){return Eh(e),i(s)})}function wh(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:F,baseState:F,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ui,lastRenderedState:F},next:null};var i={};return t.next={memoizedState:i,baseState:i,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ui,lastRenderedState:i},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Eh(e){var t=wh(e);t.next===null&&(t=e.alternate.memoizedState),Cr(e,t.next.queue,{},Ht())}function pl(){return dt(Nr)}function Ah(){return tt().memoizedState}function Lh(){return tt().memoizedState}function Qd(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var i=Ht();e=Di(i);var s=Mi(t,e,i);s!==null&&(Lt(s,t,i),gr(s,t,i)),t={cache:Xa()},e.payload=t;return}t=t.return}}function Jd(e,t,i){var s=Ht();i={lane:s,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},En(e)?xh(t,i):(i=Ha(e,t,i,s),i!==null&&(Lt(i,e,s),Dh(i,t,s)))}function Rh(e,t,i){var s=Ht();Cr(e,t,i,s)}function Cr(e,t,i,s){var n={lane:s,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null};if(En(e))xh(t,n);else{var u=e.alternate;if(e.lanes===0&&(u===null||u.lanes===0)&&(u=t.lastRenderedReducer,u!==null))try{var A=t.lastRenderedState,T=u(A,i);if(n.hasEagerState=!0,n.eagerState=T,Dt(T,A))return rn(e,t,n,0),Xe===null&&sn(),!1}catch{}if(i=Ha(e,t,n,s),i!==null)return Lt(i,e,s),Dh(i,t,s),!0}return!1}function ml(e,t,i,s){if(s={lane:2,revertLane:Kl(),gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},En(e)){if(t)throw Error(X(479))}else t=Ha(e,i,s,2),t!==null&&Lt(t,e,2)}function En(e){var t=e.alternate;return e===we||t!==null&&t===we}function xh(e,t){Hs=pn=!0;var i=e.pending;i===null?t.next=t:(t.next=i.next,i.next=t),e.pending=t}function Dh(e,t,i){if((i&4194048)!==0){var s=t.lanes;s&=e.pendingLanes,i|=s,t.lanes=i,ko(e,i)}}var br={readContext:dt,use:yn,useCallback:Qe,useContext:Qe,useEffect:Qe,useImperativeHandle:Qe,useLayoutEffect:Qe,useInsertionEffect:Qe,useMemo:Qe,useReducer:Qe,useRef:Qe,useState:Qe,useDebugValue:Qe,useDeferredValue:Qe,useTransition:Qe,useSyncExternalStore:Qe,useId:Qe,useHostTransitionStatus:Qe,useFormState:Qe,useActionState:Qe,useOptimistic:Qe,useMemoCache:Qe,useCacheRefresh:Qe};br.useEffectEvent=Qe;var Mh={readContext:dt,use:yn,useCallback:function(e,t){return mt().memoizedState=[e,t===void 0?null:t],e},useContext:dt,useEffect:dh,useImperativeHandle:function(e,t,i){i=i!=null?i.concat([e]):null,bn(4194308,4,ph.bind(null,t,e),i)},useLayoutEffect:function(e,t){return bn(4194308,4,e,t)},useInsertionEffect:function(e,t){bn(4,2,e,t)},useMemo:function(e,t){var i=mt();t=t===void 0?null:t;var s=e();if(ls){xt(!0);try{e()}finally{xt(!1)}}return i.memoizedState=[s,t],s},useReducer:function(e,t,i){var s=mt();if(i!==void 0){var n=i(t);if(ls){xt(!0);try{i(t)}finally{xt(!1)}}}else n=t;return s.memoizedState=s.baseState=n,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},s.queue=e,e=e.dispatch=Jd.bind(null,we,e),[s.memoizedState,e]},useRef:function(e){var t=mt();return e={current:e},t.memoizedState=e},useState:function(e){e=ul(e);var t=e.queue,i=Rh.bind(null,we,t);return t.dispatch=i,[e.memoizedState,i]},useDebugValue:_l,useDeferredValue:function(e,t){var i=mt();return vl(i,e,t)},useTransition:function(){var e=ul(!1);return e=bh.bind(null,we,e.queue,!0,!1),mt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,i){var s=we,n=mt();if(ke){if(i===void 0)throw Error(X(407));i=i()}else{if(i=t(),Xe===null)throw Error(X(349));(Be&127)!==0||Zc(s,t,i)}n.memoizedState=i;var u={value:i,getSnapshot:t};return n.queue=u,dh(Jc.bind(null,s,u,e),[e]),s.flags|=2048,Us(9,{destroy:void 0},Qc.bind(null,s,u,i,t),null),i},useId:function(){var e=mt(),t=Xe.identifierPrefix;if(ke){var i=Jt,s=Qt;i=(s&~(1<<32-gt(s)-1)).toString(32)+i,t="_"+t+"R_"+i,i=mn++,0<i&&(t+="H"+i.toString(32)),t+="_"}else i=Xd++,t="_"+t+"r_"+i.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:pl,useFormState:oh,useActionState:oh,useOptimistic:function(e){var t=mt();t.memoizedState=t.baseState=e;var i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=i,t=ml.bind(null,we,!0,i),i.dispatch=t,[e,t]},useMemoCache:ol,useCacheRefresh:function(){return mt().memoizedState=Qd.bind(null,we)},useEffectEvent:function(e){var t=mt(),i={impl:e};return t.memoizedState=i,function(){if((Ue&2)!==0)throw Error(X(440));return i.impl.apply(void 0,arguments)}}},Sl={readContext:dt,use:yn,useCallback:Sh,useContext:dt,useEffect:dl,useImperativeHandle:mh,useInsertionEffect:vh,useLayoutEffect:gh,useMemo:yh,useReducer:Cn,useRef:fh,useState:function(){return Cn(ui)},useDebugValue:_l,useDeferredValue:function(e,t){var i=tt();return Ch(i,je.memoizedState,e,t)},useTransition:function(){var e=Cn(ui)[0],t=tt().memoizedState;return[typeof e=="boolean"?e:yr(e),t]},useSyncExternalStore:Kc,useId:Ah,useHostTransitionStatus:pl,useFormState:ch,useActionState:ch,useOptimistic:function(e,t){var i=tt();return ih(i,je,e,t)},useMemoCache:ol,useCacheRefresh:Lh};Sl.useEffectEvent=_h;var Th={readContext:dt,use:yn,useCallback:Sh,useContext:dt,useEffect:dl,useImperativeHandle:mh,useInsertionEffect:vh,useLayoutEffect:gh,useMemo:yh,useReducer:hl,useRef:fh,useState:function(){return hl(ui)},useDebugValue:_l,useDeferredValue:function(e,t){var i=tt();return je===null?vl(i,e,t):Ch(i,je.memoizedState,e,t)},useTransition:function(){var e=hl(ui)[0],t=tt().memoizedState;return[typeof e=="boolean"?e:yr(e),t]},useSyncExternalStore:Kc,useId:Ah,useHostTransitionStatus:pl,useFormState:uh,useActionState:uh,useOptimistic:function(e,t){var i=tt();return je!==null?ih(i,je,e,t):(i.baseState=e,[e,i.queue.dispatch])},useMemoCache:ol,useCacheRefresh:Lh};Th.useEffectEvent=_h;function yl(e,t,i,s){t=e.memoizedState,i=i(s,t),i=i==null?t:l({},t,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var Cl={enqueueSetState:function(e,t,i){e=e._reactInternals;var s=Ht(),n=Di(s);n.payload=t,i!=null&&(n.callback=i),t=Mi(e,n,s),t!==null&&(Lt(t,e,s),gr(t,e,s))},enqueueReplaceState:function(e,t,i){e=e._reactInternals;var s=Ht(),n=Di(s);n.tag=1,n.payload=t,i!=null&&(n.callback=i),t=Mi(e,n,s),t!==null&&(Lt(t,e,s),gr(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var i=Ht(),s=Di(i);s.tag=2,t!=null&&(s.callback=t),t=Mi(e,s,i),t!==null&&(Lt(t,e,i),gr(t,e,i))}};function Bh(e,t,i,s,n,u,A){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,u,A):t.prototype&&t.prototype.isPureReactComponent?!or(i,s)||!or(n,u):!0}function Oh(e,t,i,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(i,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(i,s),t.state!==e&&Cl.enqueueReplaceState(t,t.state,null)}function os(e,t){var i=t;if("ref"in t){i={};for(var s in t)s!=="ref"&&(i[s]=t[s])}if(e=e.defaultProps){i===t&&(i=l({},i));for(var n in e)i[n]===void 0&&(i[n]=e[n])}return i}function kh(e){tn(e)}function Hh(e){console.error(e)}function zh(e){tn(e)}function An(e,t){try{var i=e.onUncaughtError;i(t.value,{componentStack:t.stack})}catch(s){setTimeout(function(){throw s})}}function Uh(e,t,i){try{var s=e.onCaughtError;s(i.value,{componentStack:i.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(n){setTimeout(function(){throw n})}}function bl(e,t,i){return i=Di(i),i.tag=3,i.payload={element:null},i.callback=function(){An(e,t)},i}function Nh(e){return e=Di(e),e.tag=3,e}function Ih(e,t,i,s){var n=i.type.getDerivedStateFromError;if(typeof n=="function"){var u=s.value;e.payload=function(){return n(u)},e.callback=function(){Uh(t,i,s)}}var A=i.stateNode;A!==null&&typeof A.componentDidCatch=="function"&&(e.callback=function(){Uh(t,i,s),typeof n!="function"&&(zi===null?zi=new Set([this]):zi.add(this));var T=s.stack;this.componentDidCatch(s.value,{componentStack:T!==null?T:""})})}function e_(e,t,i,s,n){if(i.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){if(t=i.alternate,t!==null&&Ds(t,i,n,!0),i=Tt.current,i!==null){switch(i.tag){case 31:case 13:return Gt===null?Un():i.alternate===null&&Je===0&&(Je=3),i.flags&=-257,i.flags|=65536,i.lanes=n,s===fn?i.flags|=16384:(t=i.updateQueue,t===null?i.updateQueue=new Set([s]):t.add(s),Yl(e,s,n)),!1;case 22:return i.flags|=65536,s===fn?i.flags|=16384:(t=i.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([s])},i.updateQueue=t):(i=t.retryQueue,i===null?t.retryQueue=new Set([s]):i.add(s)),Yl(e,s,n)),!1}throw Error(X(435,i.tag))}return Yl(e,s,n),Un(),!1}if(ke)return t=Tt.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=n,s!==Pa&&(e=Error(X(422),{cause:s}),ur(Ft(e,i)))):(s!==Pa&&(t=Error(X(423),{cause:s}),ur(Ft(t,i))),e=e.current.alternate,e.flags|=65536,n&=-n,e.lanes|=n,s=Ft(s,i),n=bl(e.stateNode,s,n),Qa(e,n),Je!==4&&(Je=2)),!1;var u=Error(X(520),{cause:s});if(u=Ft(u,i),Mr===null?Mr=[u]:Mr.push(u),Je!==4&&(Je=2),t===null)return!0;s=Ft(s,i),i=t;do{switch(i.tag){case 3:return i.flags|=65536,e=n&-n,i.lanes|=e,e=bl(i.stateNode,s,e),Qa(i,e),!1;case 1:if(t=i.type,u=i.stateNode,(i.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||u!==null&&typeof u.componentDidCatch=="function"&&(zi===null||!zi.has(u))))return i.flags|=65536,n&=-n,i.lanes|=n,n=Nh(n),Ih(n,e,i,s),Qa(i,n),!1}i=i.return}while(i!==null);return!1}var wl=Error(X(461)),rt=!1;function _t(e,t,i,s){t.child=e===null?jc(t,null,i,s):as(t,e.child,i,s)}function Fh(e,t,i,s,n){i=i.render;var u=t.ref;if("ref"in s){var A={};for(var T in s)T!=="ref"&&(A[T]=s[T])}else A=s;return is(t),s=rl(e,t,i,A,u,n),T=nl(),e!==null&&!rt?(al(e,t,n),fi(e,t,n)):(ke&&T&&Ia(t),t.flags|=1,_t(e,t,s,n),t.child)}function Ph(e,t,i,s,n){if(e===null){var u=i.type;return typeof u=="function"&&!za(u)&&u.defaultProps===void 0&&i.compare===null?(t.tag=15,t.type=u,qh(e,t,u,s,n)):(e=an(i.type,null,s,t,t.mode,n),e.ref=t.ref,e.return=t,t.child=e)}if(u=e.child,!Tl(e,n)){var A=u.memoizedProps;if(i=i.compare,i=i!==null?i:or,i(A,s)&&e.ref===t.ref)return fi(e,t,n)}return t.flags|=1,e=ai(u,s),e.ref=t.ref,e.return=t,t.child=e}function qh(e,t,i,s,n){if(e!==null){var u=e.memoizedProps;if(or(u,s)&&e.ref===t.ref)if(rt=!1,t.pendingProps=s=u,Tl(e,n))(e.flags&131072)!==0&&(rt=!0);else return t.lanes=e.lanes,fi(e,t,n)}return El(e,t,i,s,n)}function jh(e,t,i,s){var n=s.children,u=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.mode==="hidden"){if((t.flags&128)!==0){if(u=u!==null?u.baseLanes|i:i,e!==null){for(s=t.child=e.child,n=0;s!==null;)n=n|s.lanes|s.childLanes,s=s.sibling;s=n&~u}else s=0,t.child=null;return Gh(e,t,u,i,s)}if((i&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&hn(t,u!==null?u.cachePool:null),u!==null?Xc(t,u):el(),Yc(t);else return s=t.lanes=536870912,Gh(e,t,u!==null?u.baseLanes|i:i,i,s)}else u!==null?(hn(t,u.cachePool),Xc(t,u),Bi(),t.memoizedState=null):(e!==null&&hn(t,null),el(),Bi());return _t(e,t,n,i),t.child}function wr(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Gh(e,t,i,s,n){var u=Va();return u=u===null?null:{parent:it._currentValue,pool:u},t.memoizedState={baseLanes:i,cachePool:u},e!==null&&hn(t,null),el(),Yc(t),e!==null&&Ds(e,t,s,!0),t.childLanes=n,null}function Ln(e,t){return t=xn({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Wh(e,t,i){return as(t,e.child,null,i),e=Ln(t,t.pendingProps),e.flags|=2,Bt(t),t.memoizedState=null,e}function t_(e,t,i){var s=t.pendingProps,n=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(ke){if(s.mode==="hidden")return e=Ln(t,s),t.lanes=536870912,wr(null,e);if(il(t),(e=Ye)?(e=rf(e,jt),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Ei!==null?{id:Qt,overflow:Jt}:null,retryLane:536870912,hydrationErrors:null},i=xc(e),i.return=t,t.child=i,ft=t,Ye=null)):e=null,e===null)throw Li(t);return t.lanes=536870912,null}return Ln(t,s)}var u=e.memoizedState;if(u!==null){var A=u.dehydrated;if(il(t),n)if(t.flags&256)t.flags&=-257,t=Wh(e,t,i);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(X(558));else if(rt||Ds(e,t,i,!1),n=(i&e.childLanes)!==0,rt||n){if(s=Xe,s!==null&&(A=Ho(s,i),A!==0&&A!==u.retryLane))throw u.retryLane=A,Qi(e,A),Lt(s,e,A),wl;Un(),t=Wh(e,t,i)}else e=u.treeContext,Ye=Wt(A.nextSibling),ft=t,ke=!0,Ai=null,jt=!1,e!==null&&Tc(t,e),t=Ln(t,s),t.flags|=4096;return t}return e=ai(e.child,{mode:s.mode,children:s.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Rn(e,t){var i=t.ref;if(i===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof i!="function"&&typeof i!="object")throw Error(X(284));(e===null||e.ref!==i)&&(t.flags|=4194816)}}function El(e,t,i,s,n){return is(t),i=rl(e,t,i,s,void 0,n),s=nl(),e!==null&&!rt?(al(e,t,n),fi(e,t,n)):(ke&&s&&Ia(t),t.flags|=1,_t(e,t,i,n),t.child)}function Xh(e,t,i,s,n,u){return is(t),t.updateQueue=null,i=$c(t,s,i,n),Vc(e),s=nl(),e!==null&&!rt?(al(e,t,u),fi(e,t,u)):(ke&&s&&Ia(t),t.flags|=1,_t(e,t,i,u),t.child)}function Yh(e,t,i,s,n){if(is(t),t.stateNode===null){var u=As,A=i.contextType;typeof A=="object"&&A!==null&&(u=dt(A)),u=new i(s,u),t.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=Cl,t.stateNode=u,u._reactInternals=t,u=t.stateNode,u.props=s,u.state=t.memoizedState,u.refs={},Ka(t),A=i.contextType,u.context=typeof A=="object"&&A!==null?dt(A):As,u.state=t.memoizedState,A=i.getDerivedStateFromProps,typeof A=="function"&&(yl(t,i,A,s),u.state=t.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof u.getSnapshotBeforeUpdate=="function"||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(A=u.state,typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount(),A!==u.state&&Cl.enqueueReplaceState(u,u.state,null),mr(t,s,u,n),pr(),u.state=t.memoizedState),typeof u.componentDidMount=="function"&&(t.flags|=4194308),s=!0}else if(e===null){u=t.stateNode;var T=t.memoizedProps,I=os(i,T);u.props=I;var Z=u.context,ie=i.contextType;A=As,typeof ie=="object"&&ie!==null&&(A=dt(ie));var re=i.getDerivedStateFromProps;ie=typeof re=="function"||typeof u.getSnapshotBeforeUpdate=="function",T=t.pendingProps!==T,ie||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(T||Z!==A)&&Oh(t,u,s,A),xi=!1;var J=t.memoizedState;u.state=J,mr(t,s,u,n),pr(),Z=t.memoizedState,T||J!==Z||xi?(typeof re=="function"&&(yl(t,i,re,s),Z=t.memoizedState),(I=xi||Bh(t,i,I,s,J,Z,A))?(ie||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount()),typeof u.componentDidMount=="function"&&(t.flags|=4194308)):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=Z),u.props=s,u.state=Z,u.context=A,s=I):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{u=t.stateNode,Za(e,t),A=t.memoizedProps,ie=os(i,A),u.props=ie,re=t.pendingProps,J=u.context,Z=i.contextType,I=As,typeof Z=="object"&&Z!==null&&(I=dt(Z)),T=i.getDerivedStateFromProps,(Z=typeof T=="function"||typeof u.getSnapshotBeforeUpdate=="function")||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(A!==re||J!==I)&&Oh(t,u,s,I),xi=!1,J=t.memoizedState,u.state=J,mr(t,s,u,n),pr();var ee=t.memoizedState;A!==re||J!==ee||xi||e!==null&&e.dependencies!==null&&on(e.dependencies)?(typeof T=="function"&&(yl(t,i,T,s),ee=t.memoizedState),(ie=xi||Bh(t,i,ie,s,J,ee,I)||e!==null&&e.dependencies!==null&&on(e.dependencies))?(Z||typeof u.UNSAFE_componentWillUpdate!="function"&&typeof u.componentWillUpdate!="function"||(typeof u.componentWillUpdate=="function"&&u.componentWillUpdate(s,ee,I),typeof u.UNSAFE_componentWillUpdate=="function"&&u.UNSAFE_componentWillUpdate(s,ee,I)),typeof u.componentDidUpdate=="function"&&(t.flags|=4),typeof u.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof u.componentDidUpdate!="function"||A===e.memoizedProps&&J===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||A===e.memoizedProps&&J===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=ee),u.props=s,u.state=ee,u.context=I,s=ie):(typeof u.componentDidUpdate!="function"||A===e.memoizedProps&&J===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||A===e.memoizedProps&&J===e.memoizedState||(t.flags|=1024),s=!1)}return u=s,Rn(e,t),s=(t.flags&128)!==0,u||s?(u=t.stateNode,i=s&&typeof i.getDerivedStateFromError!="function"?null:u.render(),t.flags|=1,e!==null&&s?(t.child=as(t,e.child,null,n),t.child=as(t,null,i,n)):_t(e,t,i,n),t.memoizedState=u.state,e=t.child):e=fi(e,t,n),e}function Vh(e,t,i,s){return es(),t.flags|=256,_t(e,t,i,s),t.child}var Al={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ll(e){return{baseLanes:e,cachePool:Uc()}}function Rl(e,t,i){return e=e!==null?e.childLanes&~i:0,t&&(e|=kt),e}function $h(e,t,i){var s=t.pendingProps,n=!1,u=(t.flags&128)!==0,A;if((A=u)||(A=e!==null&&e.memoizedState===null?!1:(et.current&2)!==0),A&&(n=!0,t.flags&=-129),A=(t.flags&32)!==0,t.flags&=-33,e===null){if(ke){if(n?Ti(t):Bi(),(e=Ye)?(e=rf(e,jt),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Ei!==null?{id:Qt,overflow:Jt}:null,retryLane:536870912,hydrationErrors:null},i=xc(e),i.return=t,t.child=i,ft=t,Ye=null)):e=null,e===null)throw Li(t);return co(e)?t.lanes=32:t.lanes=536870912,null}var T=s.children;return s=s.fallback,n?(Bi(),n=t.mode,T=xn({mode:"hidden",children:T},n),s=Ji(s,n,i,null),T.return=t,s.return=t,T.sibling=s,t.child=T,s=t.child,s.memoizedState=Ll(i),s.childLanes=Rl(e,A,i),t.memoizedState=Al,wr(null,s)):(Ti(t),xl(t,T))}var I=e.memoizedState;if(I!==null&&(T=I.dehydrated,T!==null)){if(u)t.flags&256?(Ti(t),t.flags&=-257,t=Dl(e,t,i)):t.memoizedState!==null?(Bi(),t.child=e.child,t.flags|=128,t=null):(Bi(),T=s.fallback,n=t.mode,s=xn({mode:"visible",children:s.children},n),T=Ji(T,n,i,null),T.flags|=2,s.return=t,T.return=t,s.sibling=T,t.child=s,as(t,e.child,null,i),s=t.child,s.memoizedState=Ll(i),s.childLanes=Rl(e,A,i),t.memoizedState=Al,t=wr(null,s));else if(Ti(t),co(T)){if(A=T.nextSibling&&T.nextSibling.dataset,A)var Z=A.dgst;A=Z,s=Error(X(419)),s.stack="",s.digest=A,ur({value:s,source:null,stack:null}),t=Dl(e,t,i)}else if(rt||Ds(e,t,i,!1),A=(i&e.childLanes)!==0,rt||A){if(A=Xe,A!==null&&(s=Ho(A,i),s!==0&&s!==I.retryLane))throw I.retryLane=s,Qi(e,s),Lt(A,e,s),wl;oo(T)||Un(),t=Dl(e,t,i)}else oo(T)?(t.flags|=192,t.child=e.child,t=null):(e=I.treeContext,Ye=Wt(T.nextSibling),ft=t,ke=!0,Ai=null,jt=!1,e!==null&&Tc(t,e),t=xl(t,s.children),t.flags|=4096);return t}return n?(Bi(),T=s.fallback,n=t.mode,I=e.child,Z=I.sibling,s=ai(I,{mode:"hidden",children:s.children}),s.subtreeFlags=I.subtreeFlags&65011712,Z!==null?T=ai(Z,T):(T=Ji(T,n,i,null),T.flags|=2),T.return=t,s.return=t,s.sibling=T,t.child=s,wr(null,s),s=t.child,T=e.child.memoizedState,T===null?T=Ll(i):(n=T.cachePool,n!==null?(I=it._currentValue,n=n.parent!==I?{parent:I,pool:I}:n):n=Uc(),T={baseLanes:T.baseLanes|i,cachePool:n}),s.memoizedState=T,s.childLanes=Rl(e,A,i),t.memoizedState=Al,wr(e.child,s)):(Ti(t),i=e.child,e=i.sibling,i=ai(i,{mode:"visible",children:s.children}),i.return=t,i.sibling=null,e!==null&&(A=t.deletions,A===null?(t.deletions=[e],t.flags|=16):A.push(e)),t.child=i,t.memoizedState=null,i)}function xl(e,t){return t=xn({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function xn(e,t){return e=Mt(22,e,null,t),e.lanes=0,e}function Dl(e,t,i){return as(t,e.child,null,i),e=xl(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Kh(e,t,i){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),Ga(e.return,t,i)}function Ml(e,t,i,s,n,u){var A=e.memoizedState;A===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:i,tailMode:n,treeForkCount:u}:(A.isBackwards=t,A.rendering=null,A.renderingStartTime=0,A.last=s,A.tail=i,A.tailMode=n,A.treeForkCount=u)}function Zh(e,t,i){var s=t.pendingProps,n=s.revealOrder,u=s.tail;s=s.children;var A=et.current,T=(A&2)!==0;if(T?(A=A&1|2,t.flags|=128):A&=1,G(et,A),_t(e,t,s,i),s=ke?hr:0,!T&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Kh(e,i,t);else if(e.tag===19)Kh(e,i,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(n){case"forwards":for(i=t.child,n=null;i!==null;)e=i.alternate,e!==null&&gn(e)===null&&(n=i),i=i.sibling;i=n,i===null?(n=t.child,t.child=null):(n=i.sibling,i.sibling=null),Ml(t,!1,n,i,u,s);break;case"backwards":case"unstable_legacy-backwards":for(i=null,n=t.child,t.child=null;n!==null;){if(e=n.alternate,e!==null&&gn(e)===null){t.child=n;break}e=n.sibling,n.sibling=i,i=n,n=e}Ml(t,!0,i,null,u,s);break;case"together":Ml(t,!1,null,null,void 0,s);break;default:t.memoizedState=null}return t.child}function fi(e,t,i){if(e!==null&&(t.dependencies=e.dependencies),Hi|=t.lanes,(i&t.childLanes)===0)if(e!==null){if(Ds(e,t,i,!1),(i&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(X(153));if(t.child!==null){for(e=t.child,i=ai(e,e.pendingProps),t.child=i,i.return=t;e.sibling!==null;)e=e.sibling,i=i.sibling=ai(e,e.pendingProps),i.return=t;i.sibling=null}return t.child}function Tl(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&on(e)))}function i_(e,t,i){switch(t.tag){case 3:H(t,t.stateNode.containerInfo),Ri(t,it,e.memoizedState.cache),es();break;case 27:case 5:q(t);break;case 4:H(t,t.stateNode.containerInfo);break;case 10:Ri(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,il(t),null;break;case 13:var s=t.memoizedState;if(s!==null)return s.dehydrated!==null?(Ti(t),t.flags|=128,null):(i&t.child.childLanes)!==0?$h(e,t,i):(Ti(t),e=fi(e,t,i),e!==null?e.sibling:null);Ti(t);break;case 19:var n=(e.flags&128)!==0;if(s=(i&t.childLanes)!==0,s||(Ds(e,t,i,!1),s=(i&t.childLanes)!==0),n){if(s)return Zh(e,t,i);t.flags|=128}if(n=t.memoizedState,n!==null&&(n.rendering=null,n.tail=null,n.lastEffect=null),G(et,et.current),s)break;return null;case 22:return t.lanes=0,jh(e,t,i,t.pendingProps);case 24:Ri(t,it,e.memoizedState.cache)}return fi(e,t,i)}function Qh(e,t,i){if(e!==null)if(e.memoizedProps!==t.pendingProps)rt=!0;else{if(!Tl(e,i)&&(t.flags&128)===0)return rt=!1,i_(e,t,i);rt=(e.flags&131072)!==0}else rt=!1,ke&&(t.flags&1048576)!==0&&Mc(t,hr,t.index);switch(t.lanes=0,t.tag){case 16:e:{var s=t.pendingProps;if(e=rs(t.elementType),t.type=e,typeof e=="function")za(e)?(s=os(e,s),t.tag=1,t=Yh(null,t,e,s,i)):(t.tag=0,t=El(null,t,e,s,i));else{if(e!=null){var n=e.$$typeof;if(n===m){t.tag=11,t=Fh(null,t,e,s,i);break e}else if(n===E){t.tag=14,t=Ph(null,t,e,s,i);break e}}throw t=z(e)||e,Error(X(306,t,""))}}return t;case 0:return El(e,t,t.type,t.pendingProps,i);case 1:return s=t.type,n=os(s,t.pendingProps),Yh(e,t,s,n,i);case 3:e:{if(H(t,t.stateNode.containerInfo),e===null)throw Error(X(387));s=t.pendingProps;var u=t.memoizedState;n=u.element,Za(e,t),mr(t,s,null,i);var A=t.memoizedState;if(s=A.cache,Ri(t,it,s),s!==u.cache&&Wa(t,[it],i,!0),pr(),s=A.element,u.isDehydrated)if(u={element:s,isDehydrated:!1,cache:A.cache},t.updateQueue.baseState=u,t.memoizedState=u,t.flags&256){t=Vh(e,t,s,i);break e}else if(s!==n){n=Ft(Error(X(424)),t),ur(n),t=Vh(e,t,s,i);break e}else for(e=t.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,Ye=Wt(e.firstChild),ft=t,ke=!0,Ai=null,jt=!0,i=jc(t,null,s,i),t.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling;else{if(es(),s===n){t=fi(e,t,i);break e}_t(e,t,s,i)}t=t.child}return t;case 26:return Rn(e,t),e===null?(i=hf(t.type,null,t.pendingProps,null))?t.memoizedState=i:ke||(i=t.type,e=t.pendingProps,s=Gn(ae.current).createElement(i),s[ut]=t,s[yt]=e,vt(s,i,e),ct(s),t.stateNode=s):t.memoizedState=hf(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return q(t),e===null&&ke&&(s=t.stateNode=lf(t.type,t.pendingProps,ae.current),ft=t,jt=!0,n=Ye,Fi(t.type)?(ho=n,Ye=Wt(s.firstChild)):Ye=n),_t(e,t,t.pendingProps.children,i),Rn(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&ke&&((n=s=Ye)&&(s=B_(s,t.type,t.pendingProps,jt),s!==null?(t.stateNode=s,ft=t,Ye=Wt(s.firstChild),jt=!1,n=!0):n=!1),n||Li(t)),q(t),n=t.type,u=t.pendingProps,A=e!==null?e.memoizedProps:null,s=u.children,no(n,u)?s=null:A!==null&&no(n,A)&&(t.flags|=32),t.memoizedState!==null&&(n=rl(e,t,Yd,null,null,i),Nr._currentValue=n),Rn(e,t),_t(e,t,s,i),t.child;case 6:return e===null&&ke&&((e=i=Ye)&&(i=O_(i,t.pendingProps,jt),i!==null?(t.stateNode=i,ft=t,Ye=null,e=!0):e=!1),e||Li(t)),null;case 13:return $h(e,t,i);case 4:return H(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=as(t,null,s,i):_t(e,t,s,i),t.child;case 11:return Fh(e,t,t.type,t.pendingProps,i);case 7:return _t(e,t,t.pendingProps,i),t.child;case 8:return _t(e,t,t.pendingProps.children,i),t.child;case 12:return _t(e,t,t.pendingProps.children,i),t.child;case 10:return s=t.pendingProps,Ri(t,t.type,s.value),_t(e,t,s.children,i),t.child;case 9:return n=t.type._context,s=t.pendingProps.children,is(t),n=dt(n),s=s(n),t.flags|=1,_t(e,t,s,i),t.child;case 14:return Ph(e,t,t.type,t.pendingProps,i);case 15:return qh(e,t,t.type,t.pendingProps,i);case 19:return Zh(e,t,i);case 31:return t_(e,t,i);case 22:return jh(e,t,i,t.pendingProps);case 24:return is(t),s=dt(it),e===null?(n=Va(),n===null&&(n=Xe,u=Xa(),n.pooledCache=u,u.refCount++,u!==null&&(n.pooledCacheLanes|=i),n=u),t.memoizedState={parent:s,cache:n},Ka(t),Ri(t,it,n)):((e.lanes&i)!==0&&(Za(e,t),mr(t,null,null,i),pr()),n=e.memoizedState,u=t.memoizedState,n.parent!==s?(n={parent:s,cache:s},t.memoizedState=n,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=n),Ri(t,it,s)):(s=u.cache,Ri(t,it,s),s!==n.cache&&Wa(t,[it],i,!0))),_t(e,t,t.pendingProps.children,i),t.child;case 29:throw t.pendingProps}throw Error(X(156,t.tag))}function di(e){e.flags|=4}function Bl(e,t,i,s,n){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(n&335544128)===n)if(e.stateNode.complete)e.flags|=8192;else if(Au())e.flags|=8192;else throw ns=fn,$a}else e.flags&=-16777217}function Jh(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!vf(t))if(Au())e.flags|=8192;else throw ns=fn,$a}function Dn(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Bo():536870912,e.lanes|=t,Ps|=t)}function Er(e,t){if(!ke)switch(e.tailMode){case"hidden":t=e.tail;for(var i=null;t!==null;)t.alternate!==null&&(i=t),t=t.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var s=null;i!==null;)i.alternate!==null&&(s=i),i=i.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function Ve(e){var t=e.alternate!==null&&e.alternate.child===e.child,i=0,s=0;if(t)for(var n=e.child;n!==null;)i|=n.lanes|n.childLanes,s|=n.subtreeFlags&65011712,s|=n.flags&65011712,n.return=e,n=n.sibling;else for(n=e.child;n!==null;)i|=n.lanes|n.childLanes,s|=n.subtreeFlags,s|=n.flags,n.return=e,n=n.sibling;return e.subtreeFlags|=s,e.childLanes=i,t}function s_(e,t,i){var s=t.pendingProps;switch(Fa(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ve(t),null;case 1:return Ve(t),null;case 3:return i=t.stateNode,s=null,e!==null&&(s=e.memoizedState.cache),t.memoizedState.cache!==s&&(t.flags|=2048),ci(it),Q(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(xs(t)?di(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,qa())),Ve(t),null;case 26:var n=t.type,u=t.memoizedState;return e===null?(di(t),u!==null?(Ve(t),Jh(t,u)):(Ve(t),Bl(t,n,null,s,i))):u?u!==e.memoizedState?(di(t),Ve(t),Jh(t,u)):(Ve(t),t.flags&=-16777217):(e=e.memoizedProps,e!==s&&di(t),Ve(t),Bl(t,n,e,s,i)),null;case 27:if(te(t),i=ae.current,n=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==s&&di(t);else{if(!s){if(t.stateNode===null)throw Error(X(166));return Ve(t),null}e=$.current,xs(t)?Bc(t):(e=lf(n,s,i),t.stateNode=e,di(t))}return Ve(t),null;case 5:if(te(t),n=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==s&&di(t);else{if(!s){if(t.stateNode===null)throw Error(X(166));return Ve(t),null}if(u=$.current,xs(t))Bc(t);else{var A=Gn(ae.current);switch(u){case 1:u=A.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:u=A.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":u=A.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":u=A.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":u=A.createElement("div"),u.innerHTML="<script><\/script>",u=u.removeChild(u.firstChild);break;case"select":u=typeof s.is=="string"?A.createElement("select",{is:s.is}):A.createElement("select"),s.multiple?u.multiple=!0:s.size&&(u.size=s.size);break;default:u=typeof s.is=="string"?A.createElement(n,{is:s.is}):A.createElement(n)}}u[ut]=t,u[yt]=s;e:for(A=t.child;A!==null;){if(A.tag===5||A.tag===6)u.appendChild(A.stateNode);else if(A.tag!==4&&A.tag!==27&&A.child!==null){A.child.return=A,A=A.child;continue}if(A===t)break e;for(;A.sibling===null;){if(A.return===null||A.return===t)break e;A=A.return}A.sibling.return=A.return,A=A.sibling}t.stateNode=u;e:switch(vt(u,n,s),n){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&di(t)}}return Ve(t),Bl(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,i),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==s&&di(t);else{if(typeof s!="string"&&t.stateNode===null)throw Error(X(166));if(e=ae.current,xs(t)){if(e=t.stateNode,i=t.memoizedProps,s=null,n=ft,n!==null)switch(n.tag){case 27:case 5:s=n.memoizedProps}e[ut]=t,e=!!(e.nodeValue===i||s!==null&&s.suppressHydrationWarning===!0||$u(e.nodeValue,i)),e||Li(t,!0)}else e=Gn(e).createTextNode(s),e[ut]=t,t.stateNode=e}return Ve(t),null;case 31:if(i=t.memoizedState,e===null||e.memoizedState!==null){if(s=xs(t),i!==null){if(e===null){if(!s)throw Error(X(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(X(557));e[ut]=t}else es(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ve(t),e=!1}else i=qa(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=i),e=!0;if(!e)return t.flags&256?(Bt(t),t):(Bt(t),null);if((t.flags&128)!==0)throw Error(X(558))}return Ve(t),null;case 13:if(s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(n=xs(t),s!==null&&s.dehydrated!==null){if(e===null){if(!n)throw Error(X(318));if(n=t.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(X(317));n[ut]=t}else es(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ve(t),n=!1}else n=qa(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),n=!0;if(!n)return t.flags&256?(Bt(t),t):(Bt(t),null)}return Bt(t),(t.flags&128)!==0?(t.lanes=i,t):(i=s!==null,e=e!==null&&e.memoizedState!==null,i&&(s=t.child,n=null,s.alternate!==null&&s.alternate.memoizedState!==null&&s.alternate.memoizedState.cachePool!==null&&(n=s.alternate.memoizedState.cachePool.pool),u=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),u!==n&&(s.flags|=2048)),i!==e&&i&&(t.child.flags|=8192),Dn(t,t.updateQueue),Ve(t),null);case 4:return Q(),e===null&&eo(t.stateNode.containerInfo),Ve(t),null;case 10:return ci(t.type),Ve(t),null;case 19:if(O(et),s=t.memoizedState,s===null)return Ve(t),null;if(n=(t.flags&128)!==0,u=s.rendering,u===null)if(n)Er(s,!1);else{if(Je!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(u=gn(e),u!==null){for(t.flags|=128,Er(s,!1),e=u.updateQueue,t.updateQueue=e,Dn(t,e),t.subtreeFlags=0,e=i,i=t.child;i!==null;)Rc(i,e),i=i.sibling;return G(et,et.current&1|2),ke&&li(t,s.treeForkCount),t.child}e=e.sibling}s.tail!==null&&ye()>kn&&(t.flags|=128,n=!0,Er(s,!1),t.lanes=4194304)}else{if(!n)if(e=gn(u),e!==null){if(t.flags|=128,n=!0,e=e.updateQueue,t.updateQueue=e,Dn(t,e),Er(s,!0),s.tail===null&&s.tailMode==="hidden"&&!u.alternate&&!ke)return Ve(t),null}else 2*ye()-s.renderingStartTime>kn&&i!==536870912&&(t.flags|=128,n=!0,Er(s,!1),t.lanes=4194304);s.isBackwards?(u.sibling=t.child,t.child=u):(e=s.last,e!==null?e.sibling=u:t.child=u,s.last=u)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=ye(),e.sibling=null,i=et.current,G(et,n?i&1|2:i&1),ke&&li(t,s.treeForkCount),e):(Ve(t),null);case 22:case 23:return Bt(t),tl(),s=t.memoizedState!==null,e!==null?e.memoizedState!==null!==s&&(t.flags|=8192):s&&(t.flags|=8192),s?(i&536870912)!==0&&(t.flags&128)===0&&(Ve(t),t.subtreeFlags&6&&(t.flags|=8192)):Ve(t),i=t.updateQueue,i!==null&&Dn(t,i.retryQueue),i=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),s=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),s!==i&&(t.flags|=2048),e!==null&&O(ss),null;case 24:return i=null,e!==null&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),ci(it),Ve(t),null;case 25:return null;case 30:return null}throw Error(X(156,t.tag))}function r_(e,t){switch(Fa(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ci(it),Q(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return te(t),null;case 31:if(t.memoizedState!==null){if(Bt(t),t.alternate===null)throw Error(X(340));es()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Bt(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(X(340));es()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return O(et),null;case 4:return Q(),null;case 10:return ci(t.type),null;case 22:case 23:return Bt(t),tl(),e!==null&&O(ss),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return ci(it),null;case 25:return null;default:return null}}function eu(e,t){switch(Fa(t),t.tag){case 3:ci(it),Q();break;case 26:case 27:case 5:te(t);break;case 4:Q();break;case 31:t.memoizedState!==null&&Bt(t);break;case 13:Bt(t);break;case 19:O(et);break;case 10:ci(t.type);break;case 22:case 23:Bt(t),tl(),e!==null&&O(ss);break;case 24:ci(it)}}function Ar(e,t){try{var i=t.updateQueue,s=i!==null?i.lastEffect:null;if(s!==null){var n=s.next;i=n;do{if((i.tag&e)===e){s=void 0;var u=i.create,A=i.inst;s=u(),A.destroy=s}i=i.next}while(i!==n)}}catch(T){Ie(t,t.return,T)}}function Oi(e,t,i){try{var s=t.updateQueue,n=s!==null?s.lastEffect:null;if(n!==null){var u=n.next;s=u;do{if((s.tag&e)===e){var A=s.inst,T=A.destroy;if(T!==void 0){A.destroy=void 0,n=t;var I=i,Z=T;try{Z()}catch(ie){Ie(n,I,ie)}}}s=s.next}while(s!==u)}}catch(ie){Ie(t,t.return,ie)}}function tu(e){var t=e.updateQueue;if(t!==null){var i=e.stateNode;try{Wc(t,i)}catch(s){Ie(e,e.return,s)}}}function iu(e,t,i){i.props=os(e.type,e.memoizedProps),i.state=e.memoizedState;try{i.componentWillUnmount()}catch(s){Ie(e,t,s)}}function Lr(e,t){try{var i=e.ref;if(i!==null){switch(e.tag){case 26:case 27:case 5:var s=e.stateNode;break;case 30:s=e.stateNode;break;default:s=e.stateNode}typeof i=="function"?e.refCleanup=i(s):i.current=s}}catch(n){Ie(e,t,n)}}function ei(e,t){var i=e.ref,s=e.refCleanup;if(i!==null)if(typeof s=="function")try{s()}catch(n){Ie(e,t,n)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof i=="function")try{i(null)}catch(n){Ie(e,t,n)}else i.current=null}function su(e){var t=e.type,i=e.memoizedProps,s=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":i.autoFocus&&s.focus();break e;case"img":i.src?s.src=i.src:i.srcSet&&(s.srcset=i.srcSet)}}catch(n){Ie(e,e.return,n)}}function Ol(e,t,i){try{var s=e.stateNode;L_(s,e.type,i,t),s[yt]=t}catch(n){Ie(e,e.return,n)}}function ru(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Fi(e.type)||e.tag===4}function kl(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||ru(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Fi(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Hl(e,t,i){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i).insertBefore(e,t):(t=i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,t.appendChild(e),i=i._reactRootContainer,i!=null||t.onclick!==null||(t.onclick=ri));else if(s!==4&&(s===27&&Fi(e.type)&&(i=e.stateNode,t=null),e=e.child,e!==null))for(Hl(e,t,i),e=e.sibling;e!==null;)Hl(e,t,i),e=e.sibling}function Mn(e,t,i){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?i.insertBefore(e,t):i.appendChild(e);else if(s!==4&&(s===27&&Fi(e.type)&&(i=e.stateNode),e=e.child,e!==null))for(Mn(e,t,i),e=e.sibling;e!==null;)Mn(e,t,i),e=e.sibling}function nu(e){var t=e.stateNode,i=e.memoizedProps;try{for(var s=e.type,n=t.attributes;n.length;)t.removeAttributeNode(n[0]);vt(t,s,i),t[ut]=e,t[yt]=i}catch(u){Ie(e,e.return,u)}}var _i=!1,nt=!1,zl=!1,au=typeof WeakSet=="function"?WeakSet:Set,ht=null;function n_(e,t){if(e=e.containerInfo,so=Zn,e=mc(e),Da(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var s=i.getSelection&&i.getSelection();if(s&&s.rangeCount!==0){i=s.anchorNode;var n=s.anchorOffset,u=s.focusNode;s=s.focusOffset;try{i.nodeType,u.nodeType}catch{i=null;break e}var A=0,T=-1,I=-1,Z=0,ie=0,re=e,J=null;t:for(;;){for(var ee;re!==i||n!==0&&re.nodeType!==3||(T=A+n),re!==u||s!==0&&re.nodeType!==3||(I=A+s),re.nodeType===3&&(A+=re.nodeValue.length),(ee=re.firstChild)!==null;)J=re,re=ee;for(;;){if(re===e)break t;if(J===i&&++Z===n&&(T=A),J===u&&++ie===s&&(I=A),(ee=re.nextSibling)!==null)break;re=J,J=re.parentNode}re=ee}i=T===-1||I===-1?null:{start:T,end:I}}else i=null}i=i||{start:0,end:0}}else i=null;for(ro={focusedElem:e,selectionRange:i},Zn=!1,ht=t;ht!==null;)if(t=ht,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ht=e;else for(;ht!==null;){switch(t=ht,u=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(i=0;i<e.length;i++)n=e[i],n.ref.impl=n.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&u!==null){e=void 0,i=t,n=u.memoizedProps,u=u.memoizedState,s=i.stateNode;try{var ue=os(i.type,n);e=s.getSnapshotBeforeUpdate(ue,u),s.__reactInternalSnapshotBeforeUpdate=e}catch(Se){Ie(i,i.return,Se)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,i=e.nodeType,i===9)lo(e);else if(i===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":lo(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(X(163))}if(e=t.sibling,e!==null){e.return=t.return,ht=e;break}ht=t.return}}function lu(e,t,i){var s=i.flags;switch(i.tag){case 0:case 11:case 15:gi(e,i),s&4&&Ar(5,i);break;case 1:if(gi(e,i),s&4)if(e=i.stateNode,t===null)try{e.componentDidMount()}catch(A){Ie(i,i.return,A)}else{var n=os(i.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(n,t,e.__reactInternalSnapshotBeforeUpdate)}catch(A){Ie(i,i.return,A)}}s&64&&tu(i),s&512&&Lr(i,i.return);break;case 3:if(gi(e,i),s&64&&(e=i.updateQueue,e!==null)){if(t=null,i.child!==null)switch(i.child.tag){case 27:case 5:t=i.child.stateNode;break;case 1:t=i.child.stateNode}try{Wc(e,t)}catch(A){Ie(i,i.return,A)}}break;case 27:t===null&&s&4&&nu(i);case 26:case 5:gi(e,i),t===null&&s&4&&su(i),s&512&&Lr(i,i.return);break;case 12:gi(e,i);break;case 31:gi(e,i),s&4&&hu(e,i);break;case 13:gi(e,i),s&4&&uu(e,i),s&64&&(e=i.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(i=__.bind(null,i),k_(e,i))));break;case 22:if(s=i.memoizedState!==null||_i,!s){t=t!==null&&t.memoizedState!==null||nt,n=_i;var u=nt;_i=s,(nt=t)&&!u?pi(e,i,(i.subtreeFlags&8772)!==0):gi(e,i),_i=n,nt=u}break;case 30:break;default:gi(e,i)}}function ou(e){var t=e.alternate;t!==null&&(e.alternate=null,ou(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&fa(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ke=null,bt=!1;function vi(e,t,i){for(i=i.child;i!==null;)cu(e,t,i),i=i.sibling}function cu(e,t,i){if(ot&&typeof ot.onCommitFiberUnmount=="function")try{ot.onCommitFiberUnmount(Yt,i)}catch{}switch(i.tag){case 26:nt||ei(i,t),vi(e,t,i),i.memoizedState?i.memoizedState.count--:i.stateNode&&(i=i.stateNode,i.parentNode.removeChild(i));break;case 27:nt||ei(i,t);var s=Ke,n=bt;Fi(i.type)&&(Ke=i.stateNode,bt=!1),vi(e,t,i),Hr(i.stateNode),Ke=s,bt=n;break;case 5:nt||ei(i,t);case 6:if(s=Ke,n=bt,Ke=null,vi(e,t,i),Ke=s,bt=n,Ke!==null)if(bt)try{(Ke.nodeType===9?Ke.body:Ke.nodeName==="HTML"?Ke.ownerDocument.body:Ke).removeChild(i.stateNode)}catch(u){Ie(i,t,u)}else try{Ke.removeChild(i.stateNode)}catch(u){Ie(i,t,u)}break;case 18:Ke!==null&&(bt?(e=Ke,tf(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,i.stateNode),$s(e)):tf(Ke,i.stateNode));break;case 4:s=Ke,n=bt,Ke=i.stateNode.containerInfo,bt=!0,vi(e,t,i),Ke=s,bt=n;break;case 0:case 11:case 14:case 15:Oi(2,i,t),nt||Oi(4,i,t),vi(e,t,i);break;case 1:nt||(ei(i,t),s=i.stateNode,typeof s.componentWillUnmount=="function"&&iu(i,t,s)),vi(e,t,i);break;case 21:vi(e,t,i);break;case 22:nt=(s=nt)||i.memoizedState!==null,vi(e,t,i),nt=s;break;default:vi(e,t,i)}}function hu(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{$s(e)}catch(i){Ie(t,t.return,i)}}}function uu(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{$s(e)}catch(i){Ie(t,t.return,i)}}function a_(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new au),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new au),t;default:throw Error(X(435,e.tag))}}function Tn(e,t){var i=a_(e);t.forEach(function(s){if(!i.has(s)){i.add(s);var n=v_.bind(null,e,s);s.then(n,n)}})}function wt(e,t){var i=t.deletions;if(i!==null)for(var s=0;s<i.length;s++){var n=i[s],u=e,A=t,T=A;e:for(;T!==null;){switch(T.tag){case 27:if(Fi(T.type)){Ke=T.stateNode,bt=!1;break e}break;case 5:Ke=T.stateNode,bt=!1;break e;case 3:case 4:Ke=T.stateNode.containerInfo,bt=!0;break e}T=T.return}if(Ke===null)throw Error(X(160));cu(u,A,n),Ke=null,bt=!1,u=n.alternate,u!==null&&(u.return=null),n.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)fu(t,e),t=t.sibling}var $t=null;function fu(e,t){var i=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:wt(t,e),Et(e),s&4&&(Oi(3,e,e.return),Ar(3,e),Oi(5,e,e.return));break;case 1:wt(t,e),Et(e),s&512&&(nt||i===null||ei(i,i.return)),s&64&&_i&&(e=e.updateQueue,e!==null&&(s=e.callbacks,s!==null&&(i=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=i===null?s:i.concat(s))));break;case 26:var n=$t;if(wt(t,e),Et(e),s&512&&(nt||i===null||ei(i,i.return)),s&4){var u=i!==null?i.memoizedState:null;if(s=e.memoizedState,i===null)if(s===null)if(e.stateNode===null){e:{s=e.type,i=e.memoizedProps,n=n.ownerDocument||n;t:switch(s){case"title":u=n.getElementsByTagName("title")[0],(!u||u[Js]||u[ut]||u.namespaceURI==="http://www.w3.org/2000/svg"||u.hasAttribute("itemprop"))&&(u=n.createElement(s),n.head.insertBefore(u,n.querySelector("head > title"))),vt(u,s,i),u[ut]=e,ct(u),s=u;break e;case"link":var A=df("link","href",n).get(s+(i.href||""));if(A){for(var T=0;T<A.length;T++)if(u=A[T],u.getAttribute("href")===(i.href==null||i.href===""?null:i.href)&&u.getAttribute("rel")===(i.rel==null?null:i.rel)&&u.getAttribute("title")===(i.title==null?null:i.title)&&u.getAttribute("crossorigin")===(i.crossOrigin==null?null:i.crossOrigin)){A.splice(T,1);break t}}u=n.createElement(s),vt(u,s,i),n.head.appendChild(u);break;case"meta":if(A=df("meta","content",n).get(s+(i.content||""))){for(T=0;T<A.length;T++)if(u=A[T],u.getAttribute("content")===(i.content==null?null:""+i.content)&&u.getAttribute("name")===(i.name==null?null:i.name)&&u.getAttribute("property")===(i.property==null?null:i.property)&&u.getAttribute("http-equiv")===(i.httpEquiv==null?null:i.httpEquiv)&&u.getAttribute("charset")===(i.charSet==null?null:i.charSet)){A.splice(T,1);break t}}u=n.createElement(s),vt(u,s,i),n.head.appendChild(u);break;default:throw Error(X(468,s))}u[ut]=e,ct(u),s=u}e.stateNode=s}else _f(n,e.type,e.stateNode);else e.stateNode=ff(n,s,e.memoizedProps);else u!==s?(u===null?i.stateNode!==null&&(i=i.stateNode,i.parentNode.removeChild(i)):u.count--,s===null?_f(n,e.type,e.stateNode):ff(n,s,e.memoizedProps)):s===null&&e.stateNode!==null&&Ol(e,e.memoizedProps,i.memoizedProps)}break;case 27:wt(t,e),Et(e),s&512&&(nt||i===null||ei(i,i.return)),i!==null&&s&4&&Ol(e,e.memoizedProps,i.memoizedProps);break;case 5:if(wt(t,e),Et(e),s&512&&(nt||i===null||ei(i,i.return)),e.flags&32){n=e.stateNode;try{ms(n,"")}catch(ue){Ie(e,e.return,ue)}}s&4&&e.stateNode!=null&&(n=e.memoizedProps,Ol(e,n,i!==null?i.memoizedProps:n)),s&1024&&(zl=!0);break;case 6:if(wt(t,e),Et(e),s&4){if(e.stateNode===null)throw Error(X(162));s=e.memoizedProps,i=e.stateNode;try{i.nodeValue=s}catch(ue){Ie(e,e.return,ue)}}break;case 3:if(Yn=null,n=$t,$t=Wn(t.containerInfo),wt(t,e),$t=n,Et(e),s&4&&i!==null&&i.memoizedState.isDehydrated)try{$s(t.containerInfo)}catch(ue){Ie(e,e.return,ue)}zl&&(zl=!1,du(e));break;case 4:s=$t,$t=Wn(e.stateNode.containerInfo),wt(t,e),Et(e),$t=s;break;case 12:wt(t,e),Et(e);break;case 31:wt(t,e),Et(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,Tn(e,s)));break;case 13:wt(t,e),Et(e),e.child.flags&8192&&e.memoizedState!==null!=(i!==null&&i.memoizedState!==null)&&(On=ye()),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,Tn(e,s)));break;case 22:n=e.memoizedState!==null;var I=i!==null&&i.memoizedState!==null,Z=_i,ie=nt;if(_i=Z||n,nt=ie||I,wt(t,e),nt=ie,_i=Z,Et(e),s&8192)e:for(t=e.stateNode,t._visibility=n?t._visibility&-2:t._visibility|1,n&&(i===null||I||_i||nt||cs(e)),i=null,t=e;;){if(t.tag===5||t.tag===26){if(i===null){I=i=t;try{if(u=I.stateNode,n)A=u.style,typeof A.setProperty=="function"?A.setProperty("display","none","important"):A.display="none";else{T=I.stateNode;var re=I.memoizedProps.style,J=re!=null&&re.hasOwnProperty("display")?re.display:null;T.style.display=J==null||typeof J=="boolean"?"":(""+J).trim()}}catch(ue){Ie(I,I.return,ue)}}}else if(t.tag===6){if(i===null){I=t;try{I.stateNode.nodeValue=n?"":I.memoizedProps}catch(ue){Ie(I,I.return,ue)}}}else if(t.tag===18){if(i===null){I=t;try{var ee=I.stateNode;n?sf(ee,!0):sf(I.stateNode,!1)}catch(ue){Ie(I,I.return,ue)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;i===t&&(i=null),t=t.return}i===t&&(i=null),t.sibling.return=t.return,t=t.sibling}s&4&&(s=e.updateQueue,s!==null&&(i=s.retryQueue,i!==null&&(s.retryQueue=null,Tn(e,i))));break;case 19:wt(t,e),Et(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,Tn(e,s)));break;case 30:break;case 21:break;default:wt(t,e),Et(e)}}function Et(e){var t=e.flags;if(t&2){try{for(var i,s=e.return;s!==null;){if(ru(s)){i=s;break}s=s.return}if(i==null)throw Error(X(160));switch(i.tag){case 27:var n=i.stateNode,u=kl(e);Mn(e,u,n);break;case 5:var A=i.stateNode;i.flags&32&&(ms(A,""),i.flags&=-33);var T=kl(e);Mn(e,T,A);break;case 3:case 4:var I=i.stateNode.containerInfo,Z=kl(e);Hl(e,Z,I);break;default:throw Error(X(161))}}catch(ie){Ie(e,e.return,ie)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function du(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;du(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function gi(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)lu(e,t.alternate,t),t=t.sibling}function cs(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Oi(4,t,t.return),cs(t);break;case 1:ei(t,t.return);var i=t.stateNode;typeof i.componentWillUnmount=="function"&&iu(t,t.return,i),cs(t);break;case 27:Hr(t.stateNode);case 26:case 5:ei(t,t.return),cs(t);break;case 22:t.memoizedState===null&&cs(t);break;case 30:cs(t);break;default:cs(t)}e=e.sibling}}function pi(e,t,i){for(i=i&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var s=t.alternate,n=e,u=t,A=u.flags;switch(u.tag){case 0:case 11:case 15:pi(n,u,i),Ar(4,u);break;case 1:if(pi(n,u,i),s=u,n=s.stateNode,typeof n.componentDidMount=="function")try{n.componentDidMount()}catch(Z){Ie(s,s.return,Z)}if(s=u,n=s.updateQueue,n!==null){var T=s.stateNode;try{var I=n.shared.hiddenCallbacks;if(I!==null)for(n.shared.hiddenCallbacks=null,n=0;n<I.length;n++)Gc(I[n],T)}catch(Z){Ie(s,s.return,Z)}}i&&A&64&&tu(u),Lr(u,u.return);break;case 27:nu(u);case 26:case 5:pi(n,u,i),i&&s===null&&A&4&&su(u),Lr(u,u.return);break;case 12:pi(n,u,i);break;case 31:pi(n,u,i),i&&A&4&&hu(n,u);break;case 13:pi(n,u,i),i&&A&4&&uu(n,u);break;case 22:u.memoizedState===null&&pi(n,u,i),Lr(u,u.return);break;case 30:break;default:pi(n,u,i)}t=t.sibling}}function Ul(e,t){var i=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==i&&(e!=null&&e.refCount++,i!=null&&fr(i))}function Nl(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&fr(e))}function Kt(e,t,i,s){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)_u(e,t,i,s),t=t.sibling}function _u(e,t,i,s){var n=t.flags;switch(t.tag){case 0:case 11:case 15:Kt(e,t,i,s),n&2048&&Ar(9,t);break;case 1:Kt(e,t,i,s);break;case 3:Kt(e,t,i,s),n&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&fr(e)));break;case 12:if(n&2048){Kt(e,t,i,s),e=t.stateNode;try{var u=t.memoizedProps,A=u.id,T=u.onPostCommit;typeof T=="function"&&T(A,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(I){Ie(t,t.return,I)}}else Kt(e,t,i,s);break;case 31:Kt(e,t,i,s);break;case 13:Kt(e,t,i,s);break;case 23:break;case 22:u=t.stateNode,A=t.alternate,t.memoizedState!==null?u._visibility&2?Kt(e,t,i,s):Rr(e,t):u._visibility&2?Kt(e,t,i,s):(u._visibility|=2,Ns(e,t,i,s,(t.subtreeFlags&10256)!==0||!1)),n&2048&&Ul(A,t);break;case 24:Kt(e,t,i,s),n&2048&&Nl(t.alternate,t);break;default:Kt(e,t,i,s)}}function Ns(e,t,i,s,n){for(n=n&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var u=e,A=t,T=i,I=s,Z=A.flags;switch(A.tag){case 0:case 11:case 15:Ns(u,A,T,I,n),Ar(8,A);break;case 23:break;case 22:var ie=A.stateNode;A.memoizedState!==null?ie._visibility&2?Ns(u,A,T,I,n):Rr(u,A):(ie._visibility|=2,Ns(u,A,T,I,n)),n&&Z&2048&&Ul(A.alternate,A);break;case 24:Ns(u,A,T,I,n),n&&Z&2048&&Nl(A.alternate,A);break;default:Ns(u,A,T,I,n)}t=t.sibling}}function Rr(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var i=e,s=t,n=s.flags;switch(s.tag){case 22:Rr(i,s),n&2048&&Ul(s.alternate,s);break;case 24:Rr(i,s),n&2048&&Nl(s.alternate,s);break;default:Rr(i,s)}t=t.sibling}}var xr=8192;function Is(e,t,i){if(e.subtreeFlags&xr)for(e=e.child;e!==null;)vu(e,t,i),e=e.sibling}function vu(e,t,i){switch(e.tag){case 26:Is(e,t,i),e.flags&xr&&e.memoizedState!==null&&X_(i,$t,e.memoizedState,e.memoizedProps);break;case 5:Is(e,t,i);break;case 3:case 4:var s=$t;$t=Wn(e.stateNode.containerInfo),Is(e,t,i),$t=s;break;case 22:e.memoizedState===null&&(s=e.alternate,s!==null&&s.memoizedState!==null?(s=xr,xr=16777216,Is(e,t,i),xr=s):Is(e,t,i));break;default:Is(e,t,i)}}function gu(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Dr(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var i=0;i<t.length;i++){var s=t[i];ht=s,mu(s,e)}gu(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)pu(e),e=e.sibling}function pu(e){switch(e.tag){case 0:case 11:case 15:Dr(e),e.flags&2048&&Oi(9,e,e.return);break;case 3:Dr(e);break;case 12:Dr(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Bn(e)):Dr(e);break;default:Dr(e)}}function Bn(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var i=0;i<t.length;i++){var s=t[i];ht=s,mu(s,e)}gu(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Oi(8,t,t.return),Bn(t);break;case 22:i=t.stateNode,i._visibility&2&&(i._visibility&=-3,Bn(t));break;default:Bn(t)}e=e.sibling}}function mu(e,t){for(;ht!==null;){var i=ht;switch(i.tag){case 0:case 11:case 15:Oi(8,i,t);break;case 23:case 22:if(i.memoizedState!==null&&i.memoizedState.cachePool!==null){var s=i.memoizedState.cachePool.pool;s!=null&&s.refCount++}break;case 24:fr(i.memoizedState.cache)}if(s=i.child,s!==null)s.return=i,ht=s;else e:for(i=e;ht!==null;){s=ht;var n=s.sibling,u=s.return;if(ou(s),s===i){ht=null;break e}if(n!==null){n.return=u,ht=n;break e}ht=u}}}var l_={getCacheForType:function(e){var t=dt(it),i=t.data.get(e);return i===void 0&&(i=e(),t.data.set(e,i)),i},cacheSignal:function(){return dt(it).controller.signal}},o_=typeof WeakMap=="function"?WeakMap:Map,Ue=0,Xe=null,xe=null,Be=0,Ne=0,Ot=null,ki=!1,Fs=!1,Il=!1,mi=0,Je=0,Hi=0,hs=0,Fl=0,kt=0,Ps=0,Mr=null,At=null,Pl=!1,On=0,Su=0,kn=1/0,Hn=null,zi=null,lt=0,Ui=null,qs=null,Si=0,ql=0,jl=null,yu=null,Tr=0,Gl=null;function Ht(){return(Ue&2)!==0&&Be!==0?Be&-Be:U.T!==null?Kl():zo()}function Cu(){if(kt===0)if((Be&536870912)===0||ke){var e=Xi;Xi<<=1,(Xi&3932160)===0&&(Xi=262144),kt=e}else kt=536870912;return e=Tt.current,e!==null&&(e.flags|=32),kt}function Lt(e,t,i){(e===Xe&&(Ne===2||Ne===9)||e.cancelPendingCommit!==null)&&(js(e,0),Ni(e,Be,kt,!1)),Qs(e,i),((Ue&2)===0||e!==Xe)&&(e===Xe&&((Ue&2)===0&&(hs|=i),Je===4&&Ni(e,Be,kt,!1)),ti(e))}function bu(e,t,i){if((Ue&6)!==0)throw Error(X(327));var s=!i&&(t&127)===0&&(t&e.expiredLanes)===0||Zs(e,t),n=s?u_(e,t):Xl(e,t,!0),u=s;do{if(n===0){Fs&&!s&&Ni(e,t,0,!1);break}else{if(i=e.current.alternate,u&&!c_(i)){n=Xl(e,t,!1),u=!1;continue}if(n===2){if(u=t,e.errorRecoveryDisabledLanes&u)var A=0;else A=e.pendingLanes&-536870913,A=A!==0?A:A&536870912?536870912:0;if(A!==0){t=A;e:{var T=e;n=Mr;var I=T.current.memoizedState.isDehydrated;if(I&&(js(T,A).flags|=256),A=Xl(T,A,!1),A!==2){if(Il&&!I){T.errorRecoveryDisabledLanes|=u,hs|=u,n=4;break e}u=At,At=n,u!==null&&(At===null?At=u:At.push.apply(At,u))}n=A}if(u=!1,n!==2)continue}}if(n===1){js(e,0),Ni(e,t,0,!0);break}e:{switch(s=e,u=n,u){case 0:case 1:throw Error(X(345));case 4:if((t&4194048)!==t)break;case 6:Ni(s,t,kt,!ki);break e;case 2:At=null;break;case 3:case 5:break;default:throw Error(X(329))}if((t&62914560)===t&&(n=On+300-ye(),10<n)){if(Ni(s,t,kt,!ki),Gr(s,0,!0)!==0)break e;Si=t,s.timeoutHandle=Ju(wu.bind(null,s,i,At,Hn,Pl,t,kt,hs,Ps,ki,u,"Throttled",-0,0),n);break e}wu(s,i,At,Hn,Pl,t,kt,hs,Ps,ki,u,null,-0,0)}}break}while(!0);ti(e)}function wu(e,t,i,s,n,u,A,T,I,Z,ie,re,J,ee){if(e.timeoutHandle=-1,re=t.subtreeFlags,re&8192||(re&16785408)===16785408){re={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ri},vu(t,u,re);var ue=(u&62914560)===u?On-ye():(u&4194048)===u?Su-ye():0;if(ue=Y_(re,ue),ue!==null){Si=u,e.cancelPendingCommit=ue(Tu.bind(null,e,t,u,i,s,n,A,T,I,ie,re,null,J,ee)),Ni(e,u,A,!Z);return}}Tu(e,t,u,i,s,n,A,T,I)}function c_(e){for(var t=e;;){var i=t.tag;if((i===0||i===11||i===15)&&t.flags&16384&&(i=t.updateQueue,i!==null&&(i=i.stores,i!==null)))for(var s=0;s<i.length;s++){var n=i[s],u=n.getSnapshot;n=n.value;try{if(!Dt(u(),n))return!1}catch{return!1}}if(i=t.child,t.subtreeFlags&16384&&i!==null)i.return=t,t=i;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ni(e,t,i,s){t&=~Fl,t&=~hs,e.suspendedLanes|=t,e.pingedLanes&=~t,s&&(e.warmLanes|=t),s=e.expirationTimes;for(var n=t;0<n;){var u=31-gt(n),A=1<<u;s[u]=-1,n&=~A}i!==0&&Oo(e,i,t)}function zn(){return(Ue&6)===0?(Br(0),!1):!0}function Wl(){if(xe!==null){if(Ne===0)var e=xe.return;else e=xe,oi=ts=null,ll(e),Os=null,_r=0,e=xe;for(;e!==null;)eu(e.alternate,e),e=e.return;xe=null}}function js(e,t){var i=e.timeoutHandle;i!==-1&&(e.timeoutHandle=-1,D_(i)),i=e.cancelPendingCommit,i!==null&&(e.cancelPendingCommit=null,i()),Si=0,Wl(),Xe=e,xe=i=ai(e.current,null),Be=t,Ne=0,Ot=null,ki=!1,Fs=Zs(e,t),Il=!1,Ps=kt=Fl=hs=Hi=Je=0,At=Mr=null,Pl=!1,(t&8)!==0&&(t|=t&32);var s=e.entangledLanes;if(s!==0)for(e=e.entanglements,s&=t;0<s;){var n=31-gt(s),u=1<<n;t|=e[n],s&=~u}return mi=t,sn(),i}function Eu(e,t){we=null,U.H=br,t===Bs||t===un?(t=Fc(),Ne=3):t===$a?(t=Fc(),Ne=4):Ne=t===wl?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Ot=t,xe===null&&(Je=1,An(e,Ft(t,e.current)))}function Au(){var e=Tt.current;return e===null?!0:(Be&4194048)===Be?Gt===null:(Be&62914560)===Be||(Be&536870912)!==0?e===Gt:!1}function Lu(){var e=U.H;return U.H=br,e===null?br:e}function Ru(){var e=U.A;return U.A=l_,e}function Un(){Je=4,ki||(Be&4194048)!==Be&&Tt.current!==null||(Fs=!0),(Hi&134217727)===0&&(hs&134217727)===0||Xe===null||Ni(Xe,Be,kt,!1)}function Xl(e,t,i){var s=Ue;Ue|=2;var n=Lu(),u=Ru();(Xe!==e||Be!==t)&&(Hn=null,js(e,t)),t=!1;var A=Je;e:do try{if(Ne!==0&&xe!==null){var T=xe,I=Ot;switch(Ne){case 8:Wl(),A=6;break e;case 3:case 2:case 9:case 6:Tt.current===null&&(t=!0);var Z=Ne;if(Ne=0,Ot=null,Gs(e,T,I,Z),i&&Fs){A=0;break e}break;default:Z=Ne,Ne=0,Ot=null,Gs(e,T,I,Z)}}h_(),A=Je;break}catch(ie){Eu(e,ie)}while(!0);return t&&e.shellSuspendCounter++,oi=ts=null,Ue=s,U.H=n,U.A=u,xe===null&&(Xe=null,Be=0,sn()),A}function h_(){for(;xe!==null;)xu(xe)}function u_(e,t){var i=Ue;Ue|=2;var s=Lu(),n=Ru();Xe!==e||Be!==t?(Hn=null,kn=ye()+500,js(e,t)):Fs=Zs(e,t);e:do try{if(Ne!==0&&xe!==null){t=xe;var u=Ot;t:switch(Ne){case 1:Ne=0,Ot=null,Gs(e,t,u,1);break;case 2:case 9:if(Nc(u)){Ne=0,Ot=null,Du(t);break}t=function(){Ne!==2&&Ne!==9||Xe!==e||(Ne=7),ti(e)},u.then(t,t);break e;case 3:Ne=7;break e;case 4:Ne=5;break e;case 7:Nc(u)?(Ne=0,Ot=null,Du(t)):(Ne=0,Ot=null,Gs(e,t,u,7));break;case 5:var A=null;switch(xe.tag){case 26:A=xe.memoizedState;case 5:case 27:var T=xe;if(A?vf(A):T.stateNode.complete){Ne=0,Ot=null;var I=T.sibling;if(I!==null)xe=I;else{var Z=T.return;Z!==null?(xe=Z,Nn(Z)):xe=null}break t}}Ne=0,Ot=null,Gs(e,t,u,5);break;case 6:Ne=0,Ot=null,Gs(e,t,u,6);break;case 8:Wl(),Je=6;break e;default:throw Error(X(462))}}f_();break}catch(ie){Eu(e,ie)}while(!0);return oi=ts=null,U.H=s,U.A=n,Ue=i,xe!==null?0:(Xe=null,Be=0,sn(),Je)}function f_(){for(;xe!==null&&!Re();)xu(xe)}function xu(e){var t=Qh(e.alternate,e,mi);e.memoizedProps=e.pendingProps,t===null?Nn(e):xe=t}function Du(e){var t=e,i=t.alternate;switch(t.tag){case 15:case 0:t=Xh(i,t,t.pendingProps,t.type,void 0,Be);break;case 11:t=Xh(i,t,t.pendingProps,t.type.render,t.ref,Be);break;case 5:ll(t);default:eu(i,t),t=xe=Rc(t,mi),t=Qh(i,t,mi)}e.memoizedProps=e.pendingProps,t===null?Nn(e):xe=t}function Gs(e,t,i,s){oi=ts=null,ll(t),Os=null,_r=0;var n=t.return;try{if(e_(e,n,t,i,Be)){Je=1,An(e,Ft(i,e.current)),xe=null;return}}catch(u){if(n!==null)throw xe=n,u;Je=1,An(e,Ft(i,e.current)),xe=null;return}t.flags&32768?(ke||s===1?e=!0:Fs||(Be&536870912)!==0?e=!1:(ki=e=!0,(s===2||s===9||s===3||s===6)&&(s=Tt.current,s!==null&&s.tag===13&&(s.flags|=16384))),Mu(t,e)):Nn(t)}function Nn(e){var t=e;do{if((t.flags&32768)!==0){Mu(t,ki);return}e=t.return;var i=s_(t.alternate,t,mi);if(i!==null){xe=i;return}if(t=t.sibling,t!==null){xe=t;return}xe=t=e}while(t!==null);Je===0&&(Je=5)}function Mu(e,t){do{var i=r_(e.alternate,e);if(i!==null){i.flags&=32767,xe=i;return}if(i=e.return,i!==null&&(i.flags|=32768,i.subtreeFlags=0,i.deletions=null),!t&&(e=e.sibling,e!==null)){xe=e;return}xe=e=i}while(e!==null);Je=6,xe=null}function Tu(e,t,i,s,n,u,A,T,I){e.cancelPendingCommit=null;do In();while(lt!==0);if((Ue&6)!==0)throw Error(X(327));if(t!==null){if(t===e.current)throw Error(X(177));if(u=t.lanes|t.childLanes,u|=ka,Wf(e,i,u,A,T,I),e===Xe&&(xe=Xe=null,Be=0),qs=t,Ui=e,Si=i,ql=u,jl=n,yu=s,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,g_(at,function(){return zu(),null})):(e.callbackNode=null,e.callbackPriority=0),s=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||s){s=U.T,U.T=null,n=N.p,N.p=2,A=Ue,Ue|=4;try{n_(e,t,i)}finally{Ue=A,N.p=n,U.T=s}}lt=1,Bu(),Ou(),ku()}}function Bu(){if(lt===1){lt=0;var e=Ui,t=qs,i=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||i){i=U.T,U.T=null;var s=N.p;N.p=2;var n=Ue;Ue|=4;try{fu(t,e);var u=ro,A=mc(e.containerInfo),T=u.focusedElem,I=u.selectionRange;if(A!==T&&T&&T.ownerDocument&&pc(T.ownerDocument.documentElement,T)){if(I!==null&&Da(T)){var Z=I.start,ie=I.end;if(ie===void 0&&(ie=Z),"selectionStart"in T)T.selectionStart=Z,T.selectionEnd=Math.min(ie,T.value.length);else{var re=T.ownerDocument||document,J=re&&re.defaultView||window;if(J.getSelection){var ee=J.getSelection(),ue=T.textContent.length,Se=Math.min(I.start,ue),We=I.end===void 0?Se:Math.min(I.end,ue);!ee.extend&&Se>We&&(A=We,We=Se,Se=A);var Y=gc(T,Se),j=gc(T,We);if(Y&&j&&(ee.rangeCount!==1||ee.anchorNode!==Y.node||ee.anchorOffset!==Y.offset||ee.focusNode!==j.node||ee.focusOffset!==j.offset)){var K=re.createRange();K.setStart(Y.node,Y.offset),ee.removeAllRanges(),Se>We?(ee.addRange(K),ee.extend(j.node,j.offset)):(K.setEnd(j.node,j.offset),ee.addRange(K))}}}}for(re=[],ee=T;ee=ee.parentNode;)ee.nodeType===1&&re.push({element:ee,left:ee.scrollLeft,top:ee.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<re.length;T++){var se=re[T];se.element.scrollLeft=se.left,se.element.scrollTop=se.top}}Zn=!!so,ro=so=null}finally{Ue=n,N.p=s,U.T=i}}e.current=t,lt=2}}function Ou(){if(lt===2){lt=0;var e=Ui,t=qs,i=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||i){i=U.T,U.T=null;var s=N.p;N.p=2;var n=Ue;Ue|=4;try{lu(e,t.alternate,t)}finally{Ue=n,N.p=s,U.T=i}}lt=3}}function ku(){if(lt===4||lt===3){lt=0,he();var e=Ui,t=qs,i=Si,s=yu;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?lt=5:(lt=0,qs=Ui=null,Hu(e,e.pendingLanes));var n=e.pendingLanes;if(n===0&&(zi=null),ha(i),t=t.stateNode,ot&&typeof ot.onCommitFiberRoot=="function")try{ot.onCommitFiberRoot(Yt,t,void 0,(t.current.flags&128)===128)}catch{}if(s!==null){t=U.T,n=N.p,N.p=2,U.T=null;try{for(var u=e.onRecoverableError,A=0;A<s.length;A++){var T=s[A];u(T.value,{componentStack:T.stack})}}finally{U.T=t,N.p=n}}(Si&3)!==0&&In(),ti(e),n=e.pendingLanes,(i&261930)!==0&&(n&42)!==0?e===Gl?Tr++:(Tr=0,Gl=e):Tr=0,Br(0)}}function Hu(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,fr(t)))}function In(){return Bu(),Ou(),ku(),zu()}function zu(){if(lt!==5)return!1;var e=Ui,t=ql;ql=0;var i=ha(Si),s=U.T,n=N.p;try{N.p=32>i?32:i,U.T=null,i=jl,jl=null;var u=Ui,A=Si;if(lt=0,qs=Ui=null,Si=0,(Ue&6)!==0)throw Error(X(331));var T=Ue;if(Ue|=4,pu(u.current),_u(u,u.current,A,i),Ue=T,Br(0,!1),ot&&typeof ot.onPostCommitFiberRoot=="function")try{ot.onPostCommitFiberRoot(Yt,u)}catch{}return!0}finally{N.p=n,U.T=s,Hu(e,t)}}function Uu(e,t,i){t=Ft(i,t),t=bl(e.stateNode,t,2),e=Mi(e,t,2),e!==null&&(Qs(e,2),ti(e))}function Ie(e,t,i){if(e.tag===3)Uu(e,e,i);else for(;t!==null;){if(t.tag===3){Uu(t,e,i);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(zi===null||!zi.has(s))){e=Ft(i,e),i=Nh(2),s=Mi(t,i,2),s!==null&&(Ih(i,s,t,e),Qs(s,2),ti(s));break}}t=t.return}}function Yl(e,t,i){var s=e.pingCache;if(s===null){s=e.pingCache=new o_;var n=new Set;s.set(t,n)}else n=s.get(t),n===void 0&&(n=new Set,s.set(t,n));n.has(i)||(Il=!0,n.add(i),e=d_.bind(null,e,t,i),t.then(e,e))}function d_(e,t,i){var s=e.pingCache;s!==null&&s.delete(t),e.pingedLanes|=e.suspendedLanes&i,e.warmLanes&=~i,Xe===e&&(Be&i)===i&&(Je===4||Je===3&&(Be&62914560)===Be&&300>ye()-On?(Ue&2)===0&&js(e,0):Fl|=i,Ps===Be&&(Ps=0)),ti(e)}function Nu(e,t){t===0&&(t=Bo()),e=Qi(e,t),e!==null&&(Qs(e,t),ti(e))}function __(e){var t=e.memoizedState,i=0;t!==null&&(i=t.retryLane),Nu(e,i)}function v_(e,t){var i=0;switch(e.tag){case 31:case 13:var s=e.stateNode,n=e.memoizedState;n!==null&&(i=n.retryLane);break;case 19:s=e.stateNode;break;case 22:s=e.stateNode._retryCache;break;default:throw Error(X(314))}s!==null&&s.delete(t),Nu(e,i)}function g_(e,t){return Te(e,t)}var Fn=null,Ws=null,Vl=!1,Pn=!1,$l=!1,Ii=0;function ti(e){e!==Ws&&e.next===null&&(Ws===null?Fn=Ws=e:Ws=Ws.next=e),Pn=!0,Vl||(Vl=!0,m_())}function Br(e,t){if(!$l&&Pn){$l=!0;do for(var i=!1,s=Fn;s!==null;){if(e!==0){var n=s.pendingLanes;if(n===0)var u=0;else{var A=s.suspendedLanes,T=s.pingedLanes;u=(1<<31-gt(42|e)+1)-1,u&=n&~(A&~T),u=u&201326741?u&201326741|1:u?u|2:0}u!==0&&(i=!0,qu(s,u))}else u=Be,u=Gr(s,s===Xe?u:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),(u&3)===0||Zs(s,u)||(i=!0,qu(s,u));s=s.next}while(i);$l=!1}}function p_(){Iu()}function Iu(){Pn=Vl=!1;var e=0;Ii!==0&&x_()&&(e=Ii);for(var t=ye(),i=null,s=Fn;s!==null;){var n=s.next,u=Fu(s,t);u===0?(s.next=null,i===null?Fn=n:i.next=n,n===null&&(Ws=i)):(i=s,(e!==0||(u&3)!==0)&&(Pn=!0)),s=n}lt!==0&&lt!==5||Br(e),Ii!==0&&(Ii=0)}function Fu(e,t){for(var i=e.suspendedLanes,s=e.pingedLanes,n=e.expirationTimes,u=e.pendingLanes&-62914561;0<u;){var A=31-gt(u),T=1<<A,I=n[A];I===-1?((T&i)===0||(T&s)!==0)&&(n[A]=Gf(T,t)):I<=t&&(e.expiredLanes|=T),u&=~T}if(t=Xe,i=Be,i=Gr(e,e===t?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s=e.callbackNode,i===0||e===t&&(Ne===2||Ne===9)||e.cancelPendingCommit!==null)return s!==null&&s!==null&&Ae(s),e.callbackNode=null,e.callbackPriority=0;if((i&3)===0||Zs(e,i)){if(t=i&-i,t===e.callbackPriority)return t;switch(s!==null&&Ae(s),ha(i)){case 2:case 8:i=zt;break;case 32:i=at;break;case 268435456:i=Ze;break;default:i=at}return s=Pu.bind(null,e),i=Te(i,s),e.callbackPriority=t,e.callbackNode=i,t}return s!==null&&s!==null&&Ae(s),e.callbackPriority=2,e.callbackNode=null,2}function Pu(e,t){if(lt!==0&&lt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var i=e.callbackNode;if(In()&&e.callbackNode!==i)return null;var s=Be;return s=Gr(e,e===Xe?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s===0?null:(bu(e,s,t),Fu(e,ye()),e.callbackNode!=null&&e.callbackNode===i?Pu.bind(null,e):null)}function qu(e,t){if(In())return null;bu(e,t,!0)}function m_(){M_(function(){(Ue&6)!==0?Te(Pe,p_):Iu()})}function Kl(){if(Ii===0){var e=Ms;e===0&&(e=Ci,Ci<<=1,(Ci&261888)===0&&(Ci=256)),Ii=e}return Ii}function ju(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Vr(""+e)}function Gu(e,t){var i=t.ownerDocument.createElement("input");return i.name=t.name,i.value=t.value,e.id&&i.setAttribute("form",e.id),t.parentNode.insertBefore(i,t),e=new FormData(e),i.parentNode.removeChild(i),e}function S_(e,t,i,s,n){if(t==="submit"&&i&&i.stateNode===n){var u=ju((n[yt]||null).action),A=s.submitter;A&&(t=(t=A[yt]||null)?ju(t.formAction):A.getAttribute("formAction"),t!==null&&(u=t,A=null));var T=new Qr("action","action",null,s,n);e.push({event:T,listeners:[{instance:null,listener:function(){if(s.defaultPrevented){if(Ii!==0){var I=A?Gu(n,A):new FormData(n);gl(i,{pending:!0,data:I,method:n.method,action:u},null,I)}}else typeof u=="function"&&(T.preventDefault(),I=A?Gu(n,A):new FormData(n),gl(i,{pending:!0,data:I,method:n.method,action:u},u,I))},currentTarget:n}]})}}for(var Zl=0;Zl<Oa.length;Zl++){var Ql=Oa[Zl],y_=Ql.toLowerCase(),C_=Ql[0].toUpperCase()+Ql.slice(1);Vt(y_,"on"+C_)}Vt(Cc,"onAnimationEnd"),Vt(bc,"onAnimationIteration"),Vt(wc,"onAnimationStart"),Vt("dblclick","onDoubleClick"),Vt("focusin","onFocus"),Vt("focusout","onBlur"),Vt(Ud,"onTransitionRun"),Vt(Nd,"onTransitionStart"),Vt(Id,"onTransitionCancel"),Vt(Ec,"onTransitionEnd"),gs("onMouseEnter",["mouseout","mouseover"]),gs("onMouseLeave",["mouseout","mouseover"]),gs("onPointerEnter",["pointerout","pointerover"]),gs("onPointerLeave",["pointerout","pointerover"]),Vi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Vi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Vi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Vi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Vi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Vi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Or="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),b_=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Or));function Wu(e,t){t=(t&4)!==0;for(var i=0;i<e.length;i++){var s=e[i],n=s.event;s=s.listeners;e:{var u=void 0;if(t)for(var A=s.length-1;0<=A;A--){var T=s[A],I=T.instance,Z=T.currentTarget;if(T=T.listener,I!==u&&n.isPropagationStopped())break e;u=T,n.currentTarget=Z;try{u(n)}catch(ie){tn(ie)}n.currentTarget=null,u=I}else for(A=0;A<s.length;A++){if(T=s[A],I=T.instance,Z=T.currentTarget,T=T.listener,I!==u&&n.isPropagationStopped())break e;u=T,n.currentTarget=Z;try{u(n)}catch(ie){tn(ie)}n.currentTarget=null,u=I}}}}function De(e,t){var i=t[ua];i===void 0&&(i=t[ua]=new Set);var s=e+"__bubble";i.has(s)||(Xu(t,e,2,!1),i.add(s))}function Jl(e,t,i){var s=0;t&&(s|=4),Xu(i,e,s,t)}var qn="_reactListening"+Math.random().toString(36).slice(2);function eo(e){if(!e[qn]){e[qn]=!0,Io.forEach(function(i){i!=="selectionchange"&&(b_.has(i)||Jl(i,!1,e),Jl(i,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[qn]||(t[qn]=!0,Jl("selectionchange",!1,t))}}function Xu(e,t,i,s){switch(bf(t)){case 2:var n=K_;break;case 8:n=Z_;break;default:n=go}i=n.bind(null,t,i,e),n=void 0,!ya||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(n=!0),s?n!==void 0?e.addEventListener(t,i,{capture:!0,passive:n}):e.addEventListener(t,i,!0):n!==void 0?e.addEventListener(t,i,{passive:n}):e.addEventListener(t,i,!1)}function to(e,t,i,s,n){var u=s;if((t&1)===0&&(t&2)===0&&s!==null)e:for(;;){if(s===null)return;var A=s.tag;if(A===3||A===4){var T=s.stateNode.containerInfo;if(T===n)break;if(A===4)for(A=s.return;A!==null;){var I=A.tag;if((I===3||I===4)&&A.stateNode.containerInfo===n)return;A=A.return}for(;T!==null;){if(A=ds(T),A===null)return;if(I=A.tag,I===5||I===6||I===26||I===27){s=u=A;continue e}T=T.parentNode}}s=s.return}Zo(function(){var Z=u,ie=ma(i),re=[];e:{var J=Ac.get(e);if(J!==void 0){var ee=Qr,ue=e;switch(e){case"keypress":if(Kr(i)===0)break e;case"keydown":case"keyup":ee=vd;break;case"focusin":ue="focus",ee=Ea;break;case"focusout":ue="blur",ee=Ea;break;case"beforeblur":case"afterblur":ee=Ea;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ee=ec;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ee=sd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ee=md;break;case Cc:case bc:case wc:ee=ad;break;case Ec:ee=yd;break;case"scroll":case"scrollend":ee=td;break;case"wheel":ee=bd;break;case"copy":case"cut":case"paste":ee=od;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ee=ic;break;case"toggle":case"beforetoggle":ee=Ed}var Se=(t&4)!==0,We=!Se&&(e==="scroll"||e==="scrollend"),Y=Se?J!==null?J+"Capture":null:J;Se=[];for(var j=Z,K;j!==null;){var se=j;if(K=se.stateNode,se=se.tag,se!==5&&se!==26&&se!==27||K===null||Y===null||(se=tr(j,Y),se!=null&&Se.push(kr(j,se,K))),We)break;j=j.return}0<Se.length&&(J=new ee(J,ue,null,i,ie),re.push({event:J,listeners:Se}))}}if((t&7)===0){e:{if(J=e==="mouseover"||e==="pointerover",ee=e==="mouseout"||e==="pointerout",J&&i!==pa&&(ue=i.relatedTarget||i.fromElement)&&(ds(ue)||ue[fs]))break e;if((ee||J)&&(J=ie.window===ie?ie:(J=ie.ownerDocument)?J.defaultView||J.parentWindow:window,ee?(ue=i.relatedTarget||i.toElement,ee=Z,ue=ue?ds(ue):null,ue!==null&&(We=de(ue),Se=ue.tag,ue!==We||Se!==5&&Se!==27&&Se!==6)&&(ue=null)):(ee=null,ue=Z),ee!==ue)){if(Se=ec,se="onMouseLeave",Y="onMouseEnter",j="mouse",(e==="pointerout"||e==="pointerover")&&(Se=ic,se="onPointerLeave",Y="onPointerEnter",j="pointer"),We=ee==null?J:er(ee),K=ue==null?J:er(ue),J=new Se(se,j+"leave",ee,i,ie),J.target=We,J.relatedTarget=K,se=null,ds(ie)===Z&&(Se=new Se(Y,j+"enter",ue,i,ie),Se.target=K,Se.relatedTarget=We,se=Se),We=se,ee&&ue)t:{for(Se=w_,Y=ee,j=ue,K=0,se=Y;se;se=Se(se))K++;se=0;for(var ge=j;ge;ge=Se(ge))se++;for(;0<K-se;)Y=Se(Y),K--;for(;0<se-K;)j=Se(j),se--;for(;K--;){if(Y===j||j!==null&&Y===j.alternate){Se=Y;break t}Y=Se(Y),j=Se(j)}Se=null}else Se=null;ee!==null&&Yu(re,J,ee,Se,!1),ue!==null&&We!==null&&Yu(re,We,ue,Se,!0)}}e:{if(J=Z?er(Z):window,ee=J.nodeName&&J.nodeName.toLowerCase(),ee==="select"||ee==="input"&&J.type==="file")var He=hc;else if(oc(J))if(uc)He=kd;else{He=Bd;var _e=Td}else ee=J.nodeName,!ee||ee.toLowerCase()!=="input"||J.type!=="checkbox"&&J.type!=="radio"?Z&&ga(Z.elementType)&&(He=hc):He=Od;if(He&&(He=He(e,Z))){cc(re,He,i,ie);break e}_e&&_e(e,J,Z),e==="focusout"&&Z&&J.type==="number"&&Z.memoizedProps.value!=null&&va(J,"number",J.value)}switch(_e=Z?er(Z):window,e){case"focusin":(oc(_e)||_e.contentEditable==="true")&&(bs=_e,Ma=Z,cr=null);break;case"focusout":cr=Ma=bs=null;break;case"mousedown":Ta=!0;break;case"contextmenu":case"mouseup":case"dragend":Ta=!1,Sc(re,i,ie);break;case"selectionchange":if(zd)break;case"keydown":case"keyup":Sc(re,i,ie)}var Ee;if(La)e:{switch(e){case"compositionstart":var Oe="onCompositionStart";break e;case"compositionend":Oe="onCompositionEnd";break e;case"compositionupdate":Oe="onCompositionUpdate";break e}Oe=void 0}else Cs?ac(e,i)&&(Oe="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(Oe="onCompositionStart");Oe&&(sc&&i.locale!=="ko"&&(Cs||Oe!=="onCompositionStart"?Oe==="onCompositionEnd"&&Cs&&(Ee=Qo()):(wi=ie,Ca="value"in wi?wi.value:wi.textContent,Cs=!0)),_e=jn(Z,Oe),0<_e.length&&(Oe=new tc(Oe,e,null,i,ie),re.push({event:Oe,listeners:_e}),Ee?Oe.data=Ee:(Ee=lc(i),Ee!==null&&(Oe.data=Ee)))),(Ee=Ld?Rd(e,i):xd(e,i))&&(Oe=jn(Z,"onBeforeInput"),0<Oe.length&&(_e=new tc("onBeforeInput","beforeinput",null,i,ie),re.push({event:_e,listeners:Oe}),_e.data=Ee)),S_(re,e,Z,i,ie)}Wu(re,t)})}function kr(e,t,i){return{instance:e,listener:t,currentTarget:i}}function jn(e,t){for(var i=t+"Capture",s=[];e!==null;){var n=e,u=n.stateNode;if(n=n.tag,n!==5&&n!==26&&n!==27||u===null||(n=tr(e,i),n!=null&&s.unshift(kr(e,n,u)),n=tr(e,t),n!=null&&s.push(kr(e,n,u))),e.tag===3)return s;e=e.return}return[]}function w_(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Yu(e,t,i,s,n){for(var u=t._reactName,A=[];i!==null&&i!==s;){var T=i,I=T.alternate,Z=T.stateNode;if(T=T.tag,I!==null&&I===s)break;T!==5&&T!==26&&T!==27||Z===null||(I=Z,n?(Z=tr(i,u),Z!=null&&A.unshift(kr(i,Z,I))):n||(Z=tr(i,u),Z!=null&&A.push(kr(i,Z,I)))),i=i.return}A.length!==0&&e.push({event:t,listeners:A})}var E_=/\r\n?/g,A_=/\u0000|\uFFFD/g;function Vu(e){return(typeof e=="string"?e:""+e).replace(E_,`
`).replace(A_,"")}function $u(e,t){return t=Vu(t),Vu(e)===t}function Ge(e,t,i,s,n,u){switch(i){case"children":typeof s=="string"?t==="body"||t==="textarea"&&s===""||ms(e,s):(typeof s=="number"||typeof s=="bigint")&&t!=="body"&&ms(e,""+s);break;case"className":Xr(e,"class",s);break;case"tabIndex":Xr(e,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":Xr(e,i,s);break;case"style":$o(e,s,u);break;case"data":if(t!=="object"){Xr(e,"data",s);break}case"src":case"href":if(s===""&&(t!=="a"||i!=="href")){e.removeAttribute(i);break}if(s==null||typeof s=="function"||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(i);break}s=Vr(""+s),e.setAttribute(i,s);break;case"action":case"formAction":if(typeof s=="function"){e.setAttribute(i,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof u=="function"&&(i==="formAction"?(t!=="input"&&Ge(e,t,"name",n.name,n,null),Ge(e,t,"formEncType",n.formEncType,n,null),Ge(e,t,"formMethod",n.formMethod,n,null),Ge(e,t,"formTarget",n.formTarget,n,null)):(Ge(e,t,"encType",n.encType,n,null),Ge(e,t,"method",n.method,n,null),Ge(e,t,"target",n.target,n,null)));if(s==null||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(i);break}s=Vr(""+s),e.setAttribute(i,s);break;case"onClick":s!=null&&(e.onclick=ri);break;case"onScroll":s!=null&&De("scroll",e);break;case"onScrollEnd":s!=null&&De("scrollend",e);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(X(61));if(i=s.__html,i!=null){if(n.children!=null)throw Error(X(60));e.innerHTML=i}}break;case"multiple":e.multiple=s&&typeof s!="function"&&typeof s!="symbol";break;case"muted":e.muted=s&&typeof s!="function"&&typeof s!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(s==null||typeof s=="function"||typeof s=="boolean"||typeof s=="symbol"){e.removeAttribute("xlink:href");break}i=Vr(""+s),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",i);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(i,""+s):e.removeAttribute(i);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(i,""):e.removeAttribute(i);break;case"capture":case"download":s===!0?e.setAttribute(i,""):s!==!1&&s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(i,s):e.removeAttribute(i);break;case"cols":case"rows":case"size":case"span":s!=null&&typeof s!="function"&&typeof s!="symbol"&&!isNaN(s)&&1<=s?e.setAttribute(i,s):e.removeAttribute(i);break;case"rowSpan":case"start":s==null||typeof s=="function"||typeof s=="symbol"||isNaN(s)?e.removeAttribute(i):e.setAttribute(i,s);break;case"popover":De("beforetoggle",e),De("toggle",e),Wr(e,"popover",s);break;case"xlinkActuate":si(e,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":si(e,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":si(e,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":si(e,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":si(e,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":si(e,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":si(e,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":si(e,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":si(e,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":Wr(e,"is",s);break;case"innerText":case"textContent":break;default:(!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(i=Jf.get(i)||i,Wr(e,i,s))}}function io(e,t,i,s,n,u){switch(i){case"style":$o(e,s,u);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(X(61));if(i=s.__html,i!=null){if(n.children!=null)throw Error(X(60));e.innerHTML=i}}break;case"children":typeof s=="string"?ms(e,s):(typeof s=="number"||typeof s=="bigint")&&ms(e,""+s);break;case"onScroll":s!=null&&De("scroll",e);break;case"onScrollEnd":s!=null&&De("scrollend",e);break;case"onClick":s!=null&&(e.onclick=ri);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Fo.hasOwnProperty(i))e:{if(i[0]==="o"&&i[1]==="n"&&(n=i.endsWith("Capture"),t=i.slice(2,n?i.length-7:void 0),u=e[yt]||null,u=u!=null?u[i]:null,typeof u=="function"&&e.removeEventListener(t,u,n),typeof s=="function")){typeof u!="function"&&u!==null&&(i in e?e[i]=null:e.hasAttribute(i)&&e.removeAttribute(i)),e.addEventListener(t,s,n);break e}i in e?e[i]=s:s===!0?e.setAttribute(i,""):Wr(e,i,s)}}}function vt(e,t,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":De("error",e),De("load",e);var s=!1,n=!1,u;for(u in i)if(i.hasOwnProperty(u)){var A=i[u];if(A!=null)switch(u){case"src":s=!0;break;case"srcSet":n=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(X(137,t));default:Ge(e,t,u,A,i,null)}}n&&Ge(e,t,"srcSet",i.srcSet,i,null),s&&Ge(e,t,"src",i.src,i,null);return;case"input":De("invalid",e);var T=u=A=n=null,I=null,Z=null;for(s in i)if(i.hasOwnProperty(s)){var ie=i[s];if(ie!=null)switch(s){case"name":n=ie;break;case"type":A=ie;break;case"checked":I=ie;break;case"defaultChecked":Z=ie;break;case"value":u=ie;break;case"defaultValue":T=ie;break;case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(X(137,t));break;default:Ge(e,t,s,ie,i,null)}}Wo(e,u,T,I,Z,A,n,!1);return;case"select":De("invalid",e),s=A=u=null;for(n in i)if(i.hasOwnProperty(n)&&(T=i[n],T!=null))switch(n){case"value":u=T;break;case"defaultValue":A=T;break;case"multiple":s=T;default:Ge(e,t,n,T,i,null)}t=u,i=A,e.multiple=!!s,t!=null?ps(e,!!s,t,!1):i!=null&&ps(e,!!s,i,!0);return;case"textarea":De("invalid",e),u=n=s=null;for(A in i)if(i.hasOwnProperty(A)&&(T=i[A],T!=null))switch(A){case"value":s=T;break;case"defaultValue":n=T;break;case"children":u=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(X(91));break;default:Ge(e,t,A,T,i,null)}Yo(e,s,n,u);return;case"option":for(I in i)i.hasOwnProperty(I)&&(s=i[I],s!=null)&&(I==="selected"?e.selected=s&&typeof s!="function"&&typeof s!="symbol":Ge(e,t,I,s,i,null));return;case"dialog":De("beforetoggle",e),De("toggle",e),De("cancel",e),De("close",e);break;case"iframe":case"object":De("load",e);break;case"video":case"audio":for(s=0;s<Or.length;s++)De(Or[s],e);break;case"image":De("error",e),De("load",e);break;case"details":De("toggle",e);break;case"embed":case"source":case"link":De("error",e),De("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Z in i)if(i.hasOwnProperty(Z)&&(s=i[Z],s!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":throw Error(X(137,t));default:Ge(e,t,Z,s,i,null)}return;default:if(ga(t)){for(ie in i)i.hasOwnProperty(ie)&&(s=i[ie],s!==void 0&&io(e,t,ie,s,i,void 0));return}}for(T in i)i.hasOwnProperty(T)&&(s=i[T],s!=null&&Ge(e,t,T,s,i,null))}function L_(e,t,i,s){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var n=null,u=null,A=null,T=null,I=null,Z=null,ie=null;for(ee in i){var re=i[ee];if(i.hasOwnProperty(ee)&&re!=null)switch(ee){case"checked":break;case"value":break;case"defaultValue":I=re;default:s.hasOwnProperty(ee)||Ge(e,t,ee,null,s,re)}}for(var J in s){var ee=s[J];if(re=i[J],s.hasOwnProperty(J)&&(ee!=null||re!=null))switch(J){case"type":u=ee;break;case"name":n=ee;break;case"checked":Z=ee;break;case"defaultChecked":ie=ee;break;case"value":A=ee;break;case"defaultValue":T=ee;break;case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(X(137,t));break;default:ee!==re&&Ge(e,t,J,ee,s,re)}}_a(e,A,T,I,Z,ie,u,n);return;case"select":ee=A=T=J=null;for(u in i)if(I=i[u],i.hasOwnProperty(u)&&I!=null)switch(u){case"value":break;case"multiple":ee=I;default:s.hasOwnProperty(u)||Ge(e,t,u,null,s,I)}for(n in s)if(u=s[n],I=i[n],s.hasOwnProperty(n)&&(u!=null||I!=null))switch(n){case"value":J=u;break;case"defaultValue":T=u;break;case"multiple":A=u;default:u!==I&&Ge(e,t,n,u,s,I)}t=T,i=A,s=ee,J!=null?ps(e,!!i,J,!1):!!s!=!!i&&(t!=null?ps(e,!!i,t,!0):ps(e,!!i,i?[]:"",!1));return;case"textarea":ee=J=null;for(T in i)if(n=i[T],i.hasOwnProperty(T)&&n!=null&&!s.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Ge(e,t,T,null,s,n)}for(A in s)if(n=s[A],u=i[A],s.hasOwnProperty(A)&&(n!=null||u!=null))switch(A){case"value":J=n;break;case"defaultValue":ee=n;break;case"children":break;case"dangerouslySetInnerHTML":if(n!=null)throw Error(X(91));break;default:n!==u&&Ge(e,t,A,n,s,u)}Xo(e,J,ee);return;case"option":for(var ue in i)J=i[ue],i.hasOwnProperty(ue)&&J!=null&&!s.hasOwnProperty(ue)&&(ue==="selected"?e.selected=!1:Ge(e,t,ue,null,s,J));for(I in s)J=s[I],ee=i[I],s.hasOwnProperty(I)&&J!==ee&&(J!=null||ee!=null)&&(I==="selected"?e.selected=J&&typeof J!="function"&&typeof J!="symbol":Ge(e,t,I,J,s,ee));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Se in i)J=i[Se],i.hasOwnProperty(Se)&&J!=null&&!s.hasOwnProperty(Se)&&Ge(e,t,Se,null,s,J);for(Z in s)if(J=s[Z],ee=i[Z],s.hasOwnProperty(Z)&&J!==ee&&(J!=null||ee!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(X(137,t));break;default:Ge(e,t,Z,J,s,ee)}return;default:if(ga(t)){for(var We in i)J=i[We],i.hasOwnProperty(We)&&J!==void 0&&!s.hasOwnProperty(We)&&io(e,t,We,void 0,s,J);for(ie in s)J=s[ie],ee=i[ie],!s.hasOwnProperty(ie)||J===ee||J===void 0&&ee===void 0||io(e,t,ie,J,s,ee);return}}for(var Y in i)J=i[Y],i.hasOwnProperty(Y)&&J!=null&&!s.hasOwnProperty(Y)&&Ge(e,t,Y,null,s,J);for(re in s)J=s[re],ee=i[re],!s.hasOwnProperty(re)||J===ee||J==null&&ee==null||Ge(e,t,re,J,s,ee)}function Ku(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function R_(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,i=performance.getEntriesByType("resource"),s=0;s<i.length;s++){var n=i[s],u=n.transferSize,A=n.initiatorType,T=n.duration;if(u&&T&&Ku(A)){for(A=0,T=n.responseEnd,s+=1;s<i.length;s++){var I=i[s],Z=I.startTime;if(Z>T)break;var ie=I.transferSize,re=I.initiatorType;ie&&Ku(re)&&(I=I.responseEnd,A+=ie*(I<T?1:(T-Z)/(I-Z)))}if(--s,t+=8*(u+A)/(n.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var so=null,ro=null;function Gn(e){return e.nodeType===9?e:e.ownerDocument}function Zu(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Qu(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function no(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ao=null;function x_(){var e=window.event;return e&&e.type==="popstate"?e===ao?!1:(ao=e,!0):(ao=null,!1)}var Ju=typeof setTimeout=="function"?setTimeout:void 0,D_=typeof clearTimeout=="function"?clearTimeout:void 0,ef=typeof Promise=="function"?Promise:void 0,M_=typeof queueMicrotask=="function"?queueMicrotask:typeof ef<"u"?function(e){return ef.resolve(null).then(e).catch(T_)}:Ju;function T_(e){setTimeout(function(){throw e})}function Fi(e){return e==="head"}function tf(e,t){var i=t,s=0;do{var n=i.nextSibling;if(e.removeChild(i),n&&n.nodeType===8)if(i=n.data,i==="/$"||i==="/&"){if(s===0){e.removeChild(n),$s(t);return}s--}else if(i==="$"||i==="$?"||i==="$~"||i==="$!"||i==="&")s++;else if(i==="html")Hr(e.ownerDocument.documentElement);else if(i==="head"){i=e.ownerDocument.head,Hr(i);for(var u=i.firstChild;u;){var A=u.nextSibling,T=u.nodeName;u[Js]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&u.rel.toLowerCase()==="stylesheet"||i.removeChild(u),u=A}}else i==="body"&&Hr(e.ownerDocument.body);i=n}while(i);$s(t)}function sf(e,t){var i=e;e=0;do{var s=i.nextSibling;if(i.nodeType===1?t?(i._stashedDisplay=i.style.display,i.style.display="none"):(i.style.display=i._stashedDisplay||"",i.getAttribute("style")===""&&i.removeAttribute("style")):i.nodeType===3&&(t?(i._stashedText=i.nodeValue,i.nodeValue=""):i.nodeValue=i._stashedText||""),s&&s.nodeType===8)if(i=s.data,i==="/$"){if(e===0)break;e--}else i!=="$"&&i!=="$?"&&i!=="$~"&&i!=="$!"||e++;i=s}while(i)}function lo(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var i=t;switch(t=t.nextSibling,i.nodeName){case"HTML":case"HEAD":case"BODY":lo(i),fa(i);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(i.rel.toLowerCase()==="stylesheet")continue}e.removeChild(i)}}function B_(e,t,i,s){for(;e.nodeType===1;){var n=i;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!s&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(s){if(!e[Js])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(u=e.getAttribute("rel"),u==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(u!==n.rel||e.getAttribute("href")!==(n.href==null||n.href===""?null:n.href)||e.getAttribute("crossorigin")!==(n.crossOrigin==null?null:n.crossOrigin)||e.getAttribute("title")!==(n.title==null?null:n.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(u=e.getAttribute("src"),(u!==(n.src==null?null:n.src)||e.getAttribute("type")!==(n.type==null?null:n.type)||e.getAttribute("crossorigin")!==(n.crossOrigin==null?null:n.crossOrigin))&&u&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var u=n.name==null?null:""+n.name;if(n.type==="hidden"&&e.getAttribute("name")===u)return e}else return e;if(e=Wt(e.nextSibling),e===null)break}return null}function O_(e,t,i){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=Wt(e.nextSibling),e===null))return null;return e}function rf(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Wt(e.nextSibling),e===null))return null;return e}function oo(e){return e.data==="$?"||e.data==="$~"}function co(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function k_(e,t){var i=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||i.readyState!=="loading")t();else{var s=function(){t(),i.removeEventListener("DOMContentLoaded",s)};i.addEventListener("DOMContentLoaded",s),e._reactRetry=s}}function Wt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var ho=null;function nf(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="/$"||i==="/&"){if(t===0)return Wt(e.nextSibling);t--}else i!=="$"&&i!=="$!"&&i!=="$?"&&i!=="$~"&&i!=="&"||t++}e=e.nextSibling}return null}function af(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"){if(t===0)return e;t--}else i!=="/$"&&i!=="/&"||t++}e=e.previousSibling}return null}function lf(e,t,i){switch(t=Gn(i),e){case"html":if(e=t.documentElement,!e)throw Error(X(452));return e;case"head":if(e=t.head,!e)throw Error(X(453));return e;case"body":if(e=t.body,!e)throw Error(X(454));return e;default:throw Error(X(451))}}function Hr(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);fa(e)}var Xt=new Map,of=new Set;function Wn(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var yi=N.d;N.d={f:H_,r:z_,D:U_,C:N_,L:I_,m:F_,X:q_,S:P_,M:j_};function H_(){var e=yi.f(),t=zn();return e||t}function z_(e){var t=_s(e);t!==null&&t.tag===5&&t.type==="form"?Eh(t):yi.r(e)}var Xs=typeof document>"u"?null:document;function cf(e,t,i){var s=Xs;if(s&&typeof t=="string"&&t){var n=Nt(t);n='link[rel="'+e+'"][href="'+n+'"]',typeof i=="string"&&(n+='[crossorigin="'+i+'"]'),of.has(n)||(of.add(n),e={rel:e,crossOrigin:i,href:t},s.querySelector(n)===null&&(t=s.createElement("link"),vt(t,"link",e),ct(t),s.head.appendChild(t)))}}function U_(e){yi.D(e),cf("dns-prefetch",e,null)}function N_(e,t){yi.C(e,t),cf("preconnect",e,t)}function I_(e,t,i){yi.L(e,t,i);var s=Xs;if(s&&e&&t){var n='link[rel="preload"][as="'+Nt(t)+'"]';t==="image"&&i&&i.imageSrcSet?(n+='[imagesrcset="'+Nt(i.imageSrcSet)+'"]',typeof i.imageSizes=="string"&&(n+='[imagesizes="'+Nt(i.imageSizes)+'"]')):n+='[href="'+Nt(e)+'"]';var u=n;switch(t){case"style":u=Ys(e);break;case"script":u=Vs(e)}Xt.has(u)||(e=l({rel:"preload",href:t==="image"&&i&&i.imageSrcSet?void 0:e,as:t},i),Xt.set(u,e),s.querySelector(n)!==null||t==="style"&&s.querySelector(zr(u))||t==="script"&&s.querySelector(Ur(u))||(t=s.createElement("link"),vt(t,"link",e),ct(t),s.head.appendChild(t)))}}function F_(e,t){yi.m(e,t);var i=Xs;if(i&&e){var s=t&&typeof t.as=="string"?t.as:"script",n='link[rel="modulepreload"][as="'+Nt(s)+'"][href="'+Nt(e)+'"]',u=n;switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":u=Vs(e)}if(!Xt.has(u)&&(e=l({rel:"modulepreload",href:e},t),Xt.set(u,e),i.querySelector(n)===null)){switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(i.querySelector(Ur(u)))return}s=i.createElement("link"),vt(s,"link",e),ct(s),i.head.appendChild(s)}}}function P_(e,t,i){yi.S(e,t,i);var s=Xs;if(s&&e){var n=vs(s).hoistableStyles,u=Ys(e);t=t||"default";var A=n.get(u);if(!A){var T={loading:0,preload:null};if(A=s.querySelector(zr(u)))T.loading=5;else{e=l({rel:"stylesheet",href:e,"data-precedence":t},i),(i=Xt.get(u))&&uo(e,i);var I=A=s.createElement("link");ct(I),vt(I,"link",e),I._p=new Promise(function(Z,ie){I.onload=Z,I.onerror=ie}),I.addEventListener("load",function(){T.loading|=1}),I.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Xn(A,t,s)}A={type:"stylesheet",instance:A,count:1,state:T},n.set(u,A)}}}function q_(e,t){yi.X(e,t);var i=Xs;if(i&&e){var s=vs(i).hoistableScripts,n=Vs(e),u=s.get(n);u||(u=i.querySelector(Ur(n)),u||(e=l({src:e,async:!0},t),(t=Xt.get(n))&&fo(e,t),u=i.createElement("script"),ct(u),vt(u,"link",e),i.head.appendChild(u)),u={type:"script",instance:u,count:1,state:null},s.set(n,u))}}function j_(e,t){yi.M(e,t);var i=Xs;if(i&&e){var s=vs(i).hoistableScripts,n=Vs(e),u=s.get(n);u||(u=i.querySelector(Ur(n)),u||(e=l({src:e,async:!0,type:"module"},t),(t=Xt.get(n))&&fo(e,t),u=i.createElement("script"),ct(u),vt(u,"link",e),i.head.appendChild(u)),u={type:"script",instance:u,count:1,state:null},s.set(n,u))}}function hf(e,t,i,s){var n=(n=ae.current)?Wn(n):null;if(!n)throw Error(X(446));switch(e){case"meta":case"title":return null;case"style":return typeof i.precedence=="string"&&typeof i.href=="string"?(t=Ys(i.href),i=vs(n).hoistableStyles,s=i.get(t),s||(s={type:"style",instance:null,count:0,state:null},i.set(t,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if(i.rel==="stylesheet"&&typeof i.href=="string"&&typeof i.precedence=="string"){e=Ys(i.href);var u=vs(n).hoistableStyles,A=u.get(e);if(A||(n=n.ownerDocument||n,A={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,A),(u=n.querySelector(zr(e)))&&!u._p&&(A.instance=u,A.state.loading=5),Xt.has(e)||(i={rel:"preload",as:"style",href:i.href,crossOrigin:i.crossOrigin,integrity:i.integrity,media:i.media,hrefLang:i.hrefLang,referrerPolicy:i.referrerPolicy},Xt.set(e,i),u||G_(n,e,i,A.state))),t&&s===null)throw Error(X(528,""));return A}if(t&&s!==null)throw Error(X(529,""));return null;case"script":return t=i.async,i=i.src,typeof i=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Vs(i),i=vs(n).hoistableScripts,s=i.get(t),s||(s={type:"script",instance:null,count:0,state:null},i.set(t,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error(X(444,e))}}function Ys(e){return'href="'+Nt(e)+'"'}function zr(e){return'link[rel="stylesheet"]['+e+"]"}function uf(e){return l({},e,{"data-precedence":e.precedence,precedence:null})}function G_(e,t,i,s){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?s.loading=1:(t=e.createElement("link"),s.preload=t,t.addEventListener("load",function(){return s.loading|=1}),t.addEventListener("error",function(){return s.loading|=2}),vt(t,"link",i),ct(t),e.head.appendChild(t))}function Vs(e){return'[src="'+Nt(e)+'"]'}function Ur(e){return"script[async]"+e}function ff(e,t,i){if(t.count++,t.instance===null)switch(t.type){case"style":var s=e.querySelector('style[data-href~="'+Nt(i.href)+'"]');if(s)return t.instance=s,ct(s),s;var n=l({},i,{"data-href":i.href,"data-precedence":i.precedence,href:null,precedence:null});return s=(e.ownerDocument||e).createElement("style"),ct(s),vt(s,"style",n),Xn(s,i.precedence,e),t.instance=s;case"stylesheet":n=Ys(i.href);var u=e.querySelector(zr(n));if(u)return t.state.loading|=4,t.instance=u,ct(u),u;s=uf(i),(n=Xt.get(n))&&uo(s,n),u=(e.ownerDocument||e).createElement("link"),ct(u);var A=u;return A._p=new Promise(function(T,I){A.onload=T,A.onerror=I}),vt(u,"link",s),t.state.loading|=4,Xn(u,i.precedence,e),t.instance=u;case"script":return u=Vs(i.src),(n=e.querySelector(Ur(u)))?(t.instance=n,ct(n),n):(s=i,(n=Xt.get(u))&&(s=l({},i),fo(s,n)),e=e.ownerDocument||e,n=e.createElement("script"),ct(n),vt(n,"link",s),e.head.appendChild(n),t.instance=n);case"void":return null;default:throw Error(X(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(s=t.instance,t.state.loading|=4,Xn(s,i.precedence,e));return t.instance}function Xn(e,t,i){for(var s=i.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),n=s.length?s[s.length-1]:null,u=n,A=0;A<s.length;A++){var T=s[A];if(T.dataset.precedence===t)u=T;else if(u!==n)break}u?u.parentNode.insertBefore(e,u.nextSibling):(t=i.nodeType===9?i.head:i,t.insertBefore(e,t.firstChild))}function uo(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function fo(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Yn=null;function df(e,t,i){if(Yn===null){var s=new Map,n=Yn=new Map;n.set(i,s)}else n=Yn,s=n.get(i),s||(s=new Map,n.set(i,s));if(s.has(e))return s;for(s.set(e,null),i=i.getElementsByTagName(e),n=0;n<i.length;n++){var u=i[n];if(!(u[Js]||u[ut]||e==="link"&&u.getAttribute("rel")==="stylesheet")&&u.namespaceURI!=="http://www.w3.org/2000/svg"){var A=u.getAttribute(t)||"";A=e+A;var T=s.get(A);T?T.push(u):s.set(A,[u])}}return s}function _f(e,t,i){e=e.ownerDocument||e,e.head.insertBefore(i,t==="title"?e.querySelector("head > title"):null)}function W_(e,t,i){if(i===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;return t.rel==="stylesheet"?(e=t.disabled,typeof t.precedence=="string"&&e==null):!0;case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function vf(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function X_(e,t,i,s){if(i.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var n=Ys(s.href),u=t.querySelector(zr(n));if(u){t=u._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=Vn.bind(e),t.then(e,e)),i.state.loading|=4,i.instance=u,ct(u);return}u=t.ownerDocument||t,s=uf(s),(n=Xt.get(n))&&uo(s,n),u=u.createElement("link"),ct(u);var A=u;A._p=new Promise(function(T,I){A.onload=T,A.onerror=I}),vt(u,"link",s),i.instance=u}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(i,t),(t=i.state.preload)&&(i.state.loading&3)===0&&(e.count++,i=Vn.bind(e),t.addEventListener("load",i),t.addEventListener("error",i))}}var _o=0;function Y_(e,t){return e.stylesheets&&e.count===0&&Kn(e,e.stylesheets),0<e.count||0<e.imgCount?function(i){var s=setTimeout(function(){if(e.stylesheets&&Kn(e,e.stylesheets),e.unsuspend){var u=e.unsuspend;e.unsuspend=null,u()}},6e4+t);0<e.imgBytes&&_o===0&&(_o=62500*R_());var n=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Kn(e,e.stylesheets),e.unsuspend)){var u=e.unsuspend;e.unsuspend=null,u()}},(e.imgBytes>_o?50:800)+t);return e.unsuspend=i,function(){e.unsuspend=null,clearTimeout(s),clearTimeout(n)}}:null}function Vn(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Kn(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var $n=null;function Kn(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,$n=new Map,t.forEach(V_,e),$n=null,Vn.call(e))}function V_(e,t){if(!(t.state.loading&4)){var i=$n.get(e);if(i)var s=i.get(null);else{i=new Map,$n.set(e,i);for(var n=e.querySelectorAll("link[data-precedence],style[data-precedence]"),u=0;u<n.length;u++){var A=n[u];(A.nodeName==="LINK"||A.getAttribute("media")!=="not all")&&(i.set(A.dataset.precedence,A),s=A)}s&&i.set(null,s)}n=t.instance,A=n.getAttribute("data-precedence"),u=i.get(A)||s,u===s&&i.set(null,n),i.set(A,n),this.count++,s=Vn.bind(this),n.addEventListener("load",s),n.addEventListener("error",s),u?u.parentNode.insertBefore(n,u.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(n,e.firstChild)),t.state.loading|=4}}var Nr={$$typeof:h,Provider:null,Consumer:null,_currentValue:F,_currentValue2:F,_threadCount:0};function $_(e,t,i,s,n,u,A,T,I){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=oa(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=oa(0),this.hiddenUpdates=oa(null),this.identifierPrefix=s,this.onUncaughtError=n,this.onCaughtError=u,this.onRecoverableError=A,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function gf(e,t,i,s,n,u,A,T,I,Z,ie,re){return e=new $_(e,t,i,A,I,Z,ie,re,T),t=1,u===!0&&(t|=24),u=Mt(3,null,null,t),e.current=u,u.stateNode=e,t=Xa(),t.refCount++,e.pooledCache=t,t.refCount++,u.memoizedState={element:s,isDehydrated:i,cache:t},Ka(u),e}function pf(e){return e?(e=As,e):As}function mf(e,t,i,s,n,u){n=pf(n),s.context===null?s.context=n:s.pendingContext=n,s=Di(t),s.payload={element:i},u=u===void 0?null:u,u!==null&&(s.callback=u),i=Mi(e,s,t),i!==null&&(Lt(i,e,t),gr(i,e,t))}function Sf(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<t?i:t}}function vo(e,t){Sf(e,t),(e=e.alternate)&&Sf(e,t)}function yf(e){if(e.tag===13||e.tag===31){var t=Qi(e,67108864);t!==null&&Lt(t,e,67108864),vo(e,67108864)}}function Cf(e){if(e.tag===13||e.tag===31){var t=Ht();t=ca(t);var i=Qi(e,t);i!==null&&Lt(i,e,t),vo(e,t)}}var Zn=!0;function K_(e,t,i,s){var n=U.T;U.T=null;var u=N.p;try{N.p=2,go(e,t,i,s)}finally{N.p=u,U.T=n}}function Z_(e,t,i,s){var n=U.T;U.T=null;var u=N.p;try{N.p=8,go(e,t,i,s)}finally{N.p=u,U.T=n}}function go(e,t,i,s){if(Zn){var n=po(s);if(n===null)to(e,t,s,Qn,i),wf(e,s);else if(J_(n,e,t,i,s))s.stopPropagation();else if(wf(e,s),t&4&&-1<Q_.indexOf(e)){for(;n!==null;){var u=_s(n);if(u!==null)switch(u.tag){case 3:if(u=u.stateNode,u.current.memoizedState.isDehydrated){var A=ii(u.pendingLanes);if(A!==0){var T=u;for(T.pendingLanes|=2,T.entangledLanes|=2;A;){var I=1<<31-gt(A);T.entanglements[1]|=I,A&=~I}ti(u),(Ue&6)===0&&(kn=ye()+500,Br(0))}}break;case 31:case 13:T=Qi(u,2),T!==null&&Lt(T,u,2),zn(),vo(u,2)}if(u=po(s),u===null&&to(e,t,s,Qn,i),u===n)break;n=u}n!==null&&s.stopPropagation()}else to(e,t,s,null,i)}}function po(e){return e=ma(e),mo(e)}var Qn=null;function mo(e){if(Qn=null,e=ds(e),e!==null){var t=de(e);if(t===null)e=null;else{var i=t.tag;if(i===13){if(e=W(t),e!==null)return e;e=null}else if(i===31){if(e=a(t),e!==null)return e;e=null}else if(i===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Qn=e,null}function bf(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch($e()){case Pe:return 2;case zt:return 8;case at:case St:return 32;case Ze:return 268435456;default:return 32}default:return 32}}var So=!1,Pi=null,qi=null,ji=null,Ir=new Map,Fr=new Map,Gi=[],Q_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function wf(e,t){switch(e){case"focusin":case"focusout":Pi=null;break;case"dragenter":case"dragleave":qi=null;break;case"mouseover":case"mouseout":ji=null;break;case"pointerover":case"pointerout":Ir.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fr.delete(t.pointerId)}}function Pr(e,t,i,s,n,u){return e===null||e.nativeEvent!==u?(e={blockedOn:t,domEventName:i,eventSystemFlags:s,nativeEvent:u,targetContainers:[n]},t!==null&&(t=_s(t),t!==null&&yf(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,n!==null&&t.indexOf(n)===-1&&t.push(n),e)}function J_(e,t,i,s,n){switch(t){case"focusin":return Pi=Pr(Pi,e,t,i,s,n),!0;case"dragenter":return qi=Pr(qi,e,t,i,s,n),!0;case"mouseover":return ji=Pr(ji,e,t,i,s,n),!0;case"pointerover":var u=n.pointerId;return Ir.set(u,Pr(Ir.get(u)||null,e,t,i,s,n)),!0;case"gotpointercapture":return u=n.pointerId,Fr.set(u,Pr(Fr.get(u)||null,e,t,i,s,n)),!0}return!1}function Ef(e){var t=ds(e.target);if(t!==null){var i=de(t);if(i!==null){if(t=i.tag,t===13){if(t=W(i),t!==null){e.blockedOn=t,Uo(e.priority,function(){Cf(i)});return}}else if(t===31){if(t=a(i),t!==null){e.blockedOn=t,Uo(e.priority,function(){Cf(i)});return}}else if(t===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Jn(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var i=po(e.nativeEvent);if(i===null){i=e.nativeEvent;var s=new i.constructor(i.type,i);pa=s,i.target.dispatchEvent(s),pa=null}else return t=_s(i),t!==null&&yf(t),e.blockedOn=i,!1;t.shift()}return!0}function Af(e,t,i){Jn(e)&&i.delete(t)}function ev(){So=!1,Pi!==null&&Jn(Pi)&&(Pi=null),qi!==null&&Jn(qi)&&(qi=null),ji!==null&&Jn(ji)&&(ji=null),Ir.forEach(Af),Fr.forEach(Af)}function ea(e,t){e.blockedOn===t&&(e.blockedOn=null,So||(So=!0,oe.unstable_scheduleCallback(oe.unstable_NormalPriority,ev)))}var ta=null;function Lf(e){ta!==e&&(ta=e,oe.unstable_scheduleCallback(oe.unstable_NormalPriority,function(){ta===e&&(ta=null);for(var t=0;t<e.length;t+=3){var i=e[t],s=e[t+1],n=e[t+2];if(typeof s!="function"){if(mo(s||i)===null)continue;break}var u=_s(i);u!==null&&(e.splice(t,3),t-=3,gl(u,{pending:!0,data:n,method:i.method,action:s},s,n))}}))}function $s(e){function t(I){return ea(I,e)}Pi!==null&&ea(Pi,e),qi!==null&&ea(qi,e),ji!==null&&ea(ji,e),Ir.forEach(t),Fr.forEach(t);for(var i=0;i<Gi.length;i++){var s=Gi[i];s.blockedOn===e&&(s.blockedOn=null)}for(;0<Gi.length&&(i=Gi[0],i.blockedOn===null);)Ef(i),i.blockedOn===null&&Gi.shift();if(i=(e.ownerDocument||e).$$reactFormReplay,i!=null)for(s=0;s<i.length;s+=3){var n=i[s],u=i[s+1],A=n[yt]||null;if(typeof u=="function")A||Lf(i);else if(A){var T=null;if(u&&u.hasAttribute("formAction")){if(n=u,A=u[yt]||null)T=A.formAction;else if(mo(n)!==null)continue}else T=A.action;typeof T=="function"?i[s+1]=T:(i.splice(s,3),s-=3),Lf(i)}}}function Rf(){function e(u){u.canIntercept&&u.info==="react-transition"&&u.intercept({handler:function(){return new Promise(function(A){return n=A})},focusReset:"manual",scroll:"manual"})}function t(){n!==null&&(n(),n=null),s||setTimeout(i,20)}function i(){if(!s&&!navigation.transition){var u=navigation.currentEntry;u&&u.url!=null&&navigation.navigate(u.url,{state:u.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var s=!1,n=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(i,100),function(){s=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),n!==null&&(n(),n=null)}}}function yo(e){this._internalRoot=e}ia.prototype.render=yo.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(X(409));var i=t.current,s=Ht();mf(i,s,e,t,null,null)},ia.prototype.unmount=yo.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;mf(e.current,2,null,e,null,null),zn(),t[fs]=null}};function ia(e){this._internalRoot=e}ia.prototype.unstable_scheduleHydration=function(e){if(e){var t=zo();e={blockedOn:null,target:e,priority:t};for(var i=0;i<Gi.length&&t!==0&&t<Gi[i].priority;i++);Gi.splice(i,0,e),i===0&&Ef(e)}};var xf=Me.version;if(xf!=="19.2.4")throw Error(X(527,xf,"19.2.4"));N.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(X(188)):(e=Object.keys(e).join(","),Error(X(268,e)));return e=_(t),e=e!==null?v(e):null,e=e===null?null:e.stateNode,e};var tv={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:U,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var sa=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!sa.isDisabled&&sa.supportsFiber)try{Yt=sa.inject(tv),ot=sa}catch{}}return jr.createRoot=function(e,t){if(!ce(e))throw Error(X(299));var i=!1,s="",n=kh,u=Hh,A=zh;return t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onUncaughtError!==void 0&&(n=t.onUncaughtError),t.onCaughtError!==void 0&&(u=t.onCaughtError),t.onRecoverableError!==void 0&&(A=t.onRecoverableError)),t=gf(e,1,!1,null,null,i,s,null,n,u,A,Rf),e[fs]=t.current,eo(e),new yo(t)},jr.hydrateRoot=function(e,t,i){if(!ce(e))throw Error(X(299));var s=!1,n="",u=kh,A=Hh,T=zh,I=null;return i!=null&&(i.unstable_strictMode===!0&&(s=!0),i.identifierPrefix!==void 0&&(n=i.identifierPrefix),i.onUncaughtError!==void 0&&(u=i.onUncaughtError),i.onCaughtError!==void 0&&(A=i.onCaughtError),i.onRecoverableError!==void 0&&(T=i.onRecoverableError),i.formState!==void 0&&(I=i.formState)),t=gf(e,1,!0,t,i??null,s,n,I,u,A,T,Rf),t.context=pf(null),i=t.current,s=Ht(),s=ca(s),n=Di(s),n.callback=null,Mi(i,n,s),i=s,t.current.lanes=i,Qs(t,i),ti(t),e[fs]=t.current,eo(e),new ia(t)},jr.version="19.2.4",jr}var Nf;function uv(){if(Nf)return wo.exports;Nf=1;function oe(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(oe)}catch(Me){console.error(Me)}}return oe(),wo.exports=hv(),wo.exports}var fv=uv();function dv(){const[oe,Me]=Ks.useState(null);Ks.useEffect(()=>{function X(ce){const de=ce.data;de.type==="ORIGIN_INIT"?Me(de.context):de.type==="ORIGIN_THEME_CHANGE"?Me(W=>W&&{...W,theme:de.theme}):de.type==="ORIGIN_CONFIG_UPDATE"&&Me(W=>W&&{...W,config:de.config})}return window.addEventListener("message",X),window.parent.postMessage({type:"ORIGIN_READY"},"*"),()=>window.removeEventListener("message",X)},[]);const me=Ks.useCallback(X=>{window.parent.postMessage({type:"ORIGIN_CONFIG_SET",patch:X},"*")},[]);return oe?{...oe,setConfig:me}:null}function ra(oe,Me){return new Promise((me,X)=>{const ce=crypto.randomUUID();function de(W){const a=W.data;a.type==="ORIGIN_INVOKE_RESULT"&&a.id===ce?(window.removeEventListener("message",de),me(a.result)):a.type==="ORIGIN_INVOKE_ERROR"&&a.id===ce&&(window.removeEventListener("message",de),X(new Error(a.error)))}window.addEventListener("message",de),window.parent.postMessage({type:"ORIGIN_INVOKE",id:ce,command:oe,args:Me??{}},"*")})}function _v(oe,Me,me){const X=crypto.randomUUID();function ce(de){const W=de.data;W.type==="ORIGIN_EVENT"&&W.subscriptionId===X&&me(W.payload)}return window.addEventListener("message",ce),window.parent.postMessage({type:"ORIGIN_EVENT_SUBSCRIBE",subscriptionId:X,event:oe,args:Me},"*"),()=>{window.removeEventListener("message",ce),window.parent.postMessage({type:"ORIGIN_EVENT_UNSUBSCRIBE",subscriptionId:X},"*")}}var Ro={exports:{}},If;function vv(){return If||(If=1,(function(oe,Me){(function(me,X){oe.exports=X()})(globalThis,(()=>(()=>{var me={4567:function(W,a,d){var _=this&&this.__decorate||function(o,h,m,w){var S,E=arguments.length,p=E<3?h:w===null?w=Object.getOwnPropertyDescriptor(h,m):w;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(o,h,m,w);else for(var b=o.length-1;b>=0;b--)(S=o[b])&&(p=(E<3?S(p):E>3?S(h,m,p):S(h,m))||p);return E>3&&p&&Object.defineProperty(h,m,p),p},v=this&&this.__param||function(o,h){return function(m,w){h(m,w,o)}};Object.defineProperty(a,"__esModule",{value:!0}),a.AccessibilityManager=void 0;const l=d(9042),g=d(9924),y=d(844),C=d(4725),f=d(2585),r=d(3656);let c=a.AccessibilityManager=class extends y.Disposable{constructor(o,h,m,w){super(),this._terminal=o,this._coreBrowserService=m,this._renderService=w,this._rowColumns=new WeakMap,this._liveRegionLineCount=0,this._charsToConsume=[],this._charsToAnnounce="",this._accessibilityContainer=this._coreBrowserService.mainDocument.createElement("div"),this._accessibilityContainer.classList.add("xterm-accessibility"),this._rowContainer=this._coreBrowserService.mainDocument.createElement("div"),this._rowContainer.setAttribute("role","list"),this._rowContainer.classList.add("xterm-accessibility-tree"),this._rowElements=[];for(let S=0;S<this._terminal.rows;S++)this._rowElements[S]=this._createAccessibilityTreeNode(),this._rowContainer.appendChild(this._rowElements[S]);if(this._topBoundaryFocusListener=S=>this._handleBoundaryFocus(S,0),this._bottomBoundaryFocusListener=S=>this._handleBoundaryFocus(S,1),this._rowElements[0].addEventListener("focus",this._topBoundaryFocusListener),this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._refreshRowsDimensions(),this._accessibilityContainer.appendChild(this._rowContainer),this._liveRegion=this._coreBrowserService.mainDocument.createElement("div"),this._liveRegion.classList.add("live-region"),this._liveRegion.setAttribute("aria-live","assertive"),this._accessibilityContainer.appendChild(this._liveRegion),this._liveRegionDebouncer=this.register(new g.TimeBasedDebouncer(this._renderRows.bind(this))),!this._terminal.element)throw new Error("Cannot enable accessibility before Terminal.open");this._terminal.element.insertAdjacentElement("afterbegin",this._accessibilityContainer),this.register(this._terminal.onResize((S=>this._handleResize(S.rows)))),this.register(this._terminal.onRender((S=>this._refreshRows(S.start,S.end)))),this.register(this._terminal.onScroll((()=>this._refreshRows()))),this.register(this._terminal.onA11yChar((S=>this._handleChar(S)))),this.register(this._terminal.onLineFeed((()=>this._handleChar(`
`)))),this.register(this._terminal.onA11yTab((S=>this._handleTab(S)))),this.register(this._terminal.onKey((S=>this._handleKey(S.key)))),this.register(this._terminal.onBlur((()=>this._clearLiveRegion()))),this.register(this._renderService.onDimensionsChange((()=>this._refreshRowsDimensions()))),this.register((0,r.addDisposableDomListener)(document,"selectionchange",(()=>this._handleSelectionChange()))),this.register(this._coreBrowserService.onDprChange((()=>this._refreshRowsDimensions()))),this._refreshRows(),this.register((0,y.toDisposable)((()=>{this._accessibilityContainer.remove(),this._rowElements.length=0})))}_handleTab(o){for(let h=0;h<o;h++)this._handleChar(" ")}_handleChar(o){this._liveRegionLineCount<21&&(this._charsToConsume.length>0?this._charsToConsume.shift()!==o&&(this._charsToAnnounce+=o):this._charsToAnnounce+=o,o===`
`&&(this._liveRegionLineCount++,this._liveRegionLineCount===21&&(this._liveRegion.textContent+=l.tooMuchOutput)))}_clearLiveRegion(){this._liveRegion.textContent="",this._liveRegionLineCount=0}_handleKey(o){this._clearLiveRegion(),new RegExp("\\p{Control}","u").test(o)||this._charsToConsume.push(o)}_refreshRows(o,h){this._liveRegionDebouncer.refresh(o,h,this._terminal.rows)}_renderRows(o,h){const m=this._terminal.buffer,w=m.lines.length.toString();for(let S=o;S<=h;S++){const E=m.lines.get(m.ydisp+S),p=[],b=E?.translateToString(!0,void 0,void 0,p)||"",L=(m.ydisp+S+1).toString(),B=this._rowElements[S];B&&(b.length===0?(B.innerText="",this._rowColumns.set(B,[0,1])):(B.textContent=b,this._rowColumns.set(B,p)),B.setAttribute("aria-posinset",L),B.setAttribute("aria-setsize",w))}this._announceCharacters()}_announceCharacters(){this._charsToAnnounce.length!==0&&(this._liveRegion.textContent+=this._charsToAnnounce,this._charsToAnnounce="")}_handleBoundaryFocus(o,h){const m=o.target,w=this._rowElements[h===0?1:this._rowElements.length-2];if(m.getAttribute("aria-posinset")===(h===0?"1":`${this._terminal.buffer.lines.length}`)||o.relatedTarget!==w)return;let S,E;if(h===0?(S=m,E=this._rowElements.pop(),this._rowContainer.removeChild(E)):(S=this._rowElements.shift(),E=m,this._rowContainer.removeChild(S)),S.removeEventListener("focus",this._topBoundaryFocusListener),E.removeEventListener("focus",this._bottomBoundaryFocusListener),h===0){const p=this._createAccessibilityTreeNode();this._rowElements.unshift(p),this._rowContainer.insertAdjacentElement("afterbegin",p)}else{const p=this._createAccessibilityTreeNode();this._rowElements.push(p),this._rowContainer.appendChild(p)}this._rowElements[0].addEventListener("focus",this._topBoundaryFocusListener),this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._terminal.scrollLines(h===0?-1:1),this._rowElements[h===0?1:this._rowElements.length-2].focus(),o.preventDefault(),o.stopImmediatePropagation()}_handleSelectionChange(){if(this._rowElements.length===0)return;const o=document.getSelection();if(!o)return;if(o.isCollapsed)return void(this._rowContainer.contains(o.anchorNode)&&this._terminal.clearSelection());if(!o.anchorNode||!o.focusNode)return void console.error("anchorNode and/or focusNode are null");let h={node:o.anchorNode,offset:o.anchorOffset},m={node:o.focusNode,offset:o.focusOffset};if((h.node.compareDocumentPosition(m.node)&Node.DOCUMENT_POSITION_PRECEDING||h.node===m.node&&h.offset>m.offset)&&([h,m]=[m,h]),h.node.compareDocumentPosition(this._rowElements[0])&(Node.DOCUMENT_POSITION_CONTAINED_BY|Node.DOCUMENT_POSITION_FOLLOWING)&&(h={node:this._rowElements[0].childNodes[0],offset:0}),!this._rowContainer.contains(h.node))return;const w=this._rowElements.slice(-1)[0];if(m.node.compareDocumentPosition(w)&(Node.DOCUMENT_POSITION_CONTAINED_BY|Node.DOCUMENT_POSITION_PRECEDING)&&(m={node:w,offset:w.textContent?.length??0}),!this._rowContainer.contains(m.node))return;const S=({node:b,offset:L})=>{const B=b instanceof Text?b.parentNode:b;let D=parseInt(B?.getAttribute("aria-posinset"),10)-1;if(isNaN(D))return console.warn("row is invalid. Race condition?"),null;const M=this._rowColumns.get(B);if(!M)return console.warn("columns is null. Race condition?"),null;let z=L<M.length?M[L]:M.slice(-1)[0]+1;return z>=this._terminal.cols&&(++D,z=0),{row:D,column:z}},E=S(h),p=S(m);if(E&&p){if(E.row>p.row||E.row===p.row&&E.column>=p.column)throw new Error("invalid range");this._terminal.select(E.column,E.row,(p.row-E.row)*this._terminal.cols-E.column+p.column)}}_handleResize(o){this._rowElements[this._rowElements.length-1].removeEventListener("focus",this._bottomBoundaryFocusListener);for(let h=this._rowContainer.children.length;h<this._terminal.rows;h++)this._rowElements[h]=this._createAccessibilityTreeNode(),this._rowContainer.appendChild(this._rowElements[h]);for(;this._rowElements.length>o;)this._rowContainer.removeChild(this._rowElements.pop());this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._refreshRowsDimensions()}_createAccessibilityTreeNode(){const o=this._coreBrowserService.mainDocument.createElement("div");return o.setAttribute("role","listitem"),o.tabIndex=-1,this._refreshRowDimensions(o),o}_refreshRowsDimensions(){if(this._renderService.dimensions.css.cell.height){this._accessibilityContainer.style.width=`${this._renderService.dimensions.css.canvas.width}px`,this._rowElements.length!==this._terminal.rows&&this._handleResize(this._terminal.rows);for(let o=0;o<this._terminal.rows;o++)this._refreshRowDimensions(this._rowElements[o])}}_refreshRowDimensions(o){o.style.height=`${this._renderService.dimensions.css.cell.height}px`}};a.AccessibilityManager=c=_([v(1,f.IInstantiationService),v(2,C.ICoreBrowserService),v(3,C.IRenderService)],c)},3614:(W,a)=>{function d(g){return g.replace(/\r?\n/g,"\r")}function _(g,y){return y?"\x1B[200~"+g+"\x1B[201~":g}function v(g,y,C,f){g=_(g=d(g),C.decPrivateModes.bracketedPasteMode&&f.rawOptions.ignoreBracketedPasteMode!==!0),C.triggerDataEvent(g,!0),y.value=""}function l(g,y,C){const f=C.getBoundingClientRect(),r=g.clientX-f.left-10,c=g.clientY-f.top-10;y.style.width="20px",y.style.height="20px",y.style.left=`${r}px`,y.style.top=`${c}px`,y.style.zIndex="1000",y.focus()}Object.defineProperty(a,"__esModule",{value:!0}),a.rightClickHandler=a.moveTextAreaUnderMouseCursor=a.paste=a.handlePasteEvent=a.copyHandler=a.bracketTextForPaste=a.prepareTextForTerminal=void 0,a.prepareTextForTerminal=d,a.bracketTextForPaste=_,a.copyHandler=function(g,y){g.clipboardData&&g.clipboardData.setData("text/plain",y.selectionText),g.preventDefault()},a.handlePasteEvent=function(g,y,C,f){g.stopPropagation(),g.clipboardData&&v(g.clipboardData.getData("text/plain"),y,C,f)},a.paste=v,a.moveTextAreaUnderMouseCursor=l,a.rightClickHandler=function(g,y,C,f,r){l(g,y,C),r&&f.rightClickSelect(g),y.value=f.selectionText,y.select()}},7239:(W,a,d)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.ColorContrastCache=void 0;const _=d(1505);a.ColorContrastCache=class{constructor(){this._color=new _.TwoKeyMap,this._css=new _.TwoKeyMap}setCss(v,l,g){this._css.set(v,l,g)}getCss(v,l){return this._css.get(v,l)}setColor(v,l,g){this._color.set(v,l,g)}getColor(v,l){return this._color.get(v,l)}clear(){this._color.clear(),this._css.clear()}}},3656:(W,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.addDisposableDomListener=void 0,a.addDisposableDomListener=function(d,_,v,l){d.addEventListener(_,v,l);let g=!1;return{dispose:()=>{g||(g=!0,d.removeEventListener(_,v,l))}}}},3551:function(W,a,d){var _=this&&this.__decorate||function(c,o,h,m){var w,S=arguments.length,E=S<3?o:m===null?m=Object.getOwnPropertyDescriptor(o,h):m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")E=Reflect.decorate(c,o,h,m);else for(var p=c.length-1;p>=0;p--)(w=c[p])&&(E=(S<3?w(E):S>3?w(o,h,E):w(o,h))||E);return S>3&&E&&Object.defineProperty(o,h,E),E},v=this&&this.__param||function(c,o){return function(h,m){o(h,m,c)}};Object.defineProperty(a,"__esModule",{value:!0}),a.Linkifier=void 0;const l=d(3656),g=d(8460),y=d(844),C=d(2585),f=d(4725);let r=a.Linkifier=class extends y.Disposable{get currentLink(){return this._currentLink}constructor(c,o,h,m,w){super(),this._element=c,this._mouseService=o,this._renderService=h,this._bufferService=m,this._linkProviderService=w,this._linkCacheDisposables=[],this._isMouseOut=!0,this._wasResized=!1,this._activeLine=-1,this._onShowLinkUnderline=this.register(new g.EventEmitter),this.onShowLinkUnderline=this._onShowLinkUnderline.event,this._onHideLinkUnderline=this.register(new g.EventEmitter),this.onHideLinkUnderline=this._onHideLinkUnderline.event,this.register((0,y.getDisposeArrayDisposable)(this._linkCacheDisposables)),this.register((0,y.toDisposable)((()=>{this._lastMouseEvent=void 0,this._activeProviderReplies?.clear()}))),this.register(this._bufferService.onResize((()=>{this._clearCurrentLink(),this._wasResized=!0}))),this.register((0,l.addDisposableDomListener)(this._element,"mouseleave",(()=>{this._isMouseOut=!0,this._clearCurrentLink()}))),this.register((0,l.addDisposableDomListener)(this._element,"mousemove",this._handleMouseMove.bind(this))),this.register((0,l.addDisposableDomListener)(this._element,"mousedown",this._handleMouseDown.bind(this))),this.register((0,l.addDisposableDomListener)(this._element,"mouseup",this._handleMouseUp.bind(this)))}_handleMouseMove(c){this._lastMouseEvent=c;const o=this._positionFromMouseEvent(c,this._element,this._mouseService);if(!o)return;this._isMouseOut=!1;const h=c.composedPath();for(let m=0;m<h.length;m++){const w=h[m];if(w.classList.contains("xterm"))break;if(w.classList.contains("xterm-hover"))return}this._lastBufferCell&&o.x===this._lastBufferCell.x&&o.y===this._lastBufferCell.y||(this._handleHover(o),this._lastBufferCell=o)}_handleHover(c){if(this._activeLine!==c.y||this._wasResized)return this._clearCurrentLink(),this._askForLink(c,!1),void(this._wasResized=!1);this._currentLink&&this._linkAtPosition(this._currentLink.link,c)||(this._clearCurrentLink(),this._askForLink(c,!0))}_askForLink(c,o){this._activeProviderReplies&&o||(this._activeProviderReplies?.forEach((m=>{m?.forEach((w=>{w.link.dispose&&w.link.dispose()}))})),this._activeProviderReplies=new Map,this._activeLine=c.y);let h=!1;for(const[m,w]of this._linkProviderService.linkProviders.entries())o?this._activeProviderReplies?.get(m)&&(h=this._checkLinkProviderResult(m,c,h)):w.provideLinks(c.y,(S=>{if(this._isMouseOut)return;const E=S?.map((p=>({link:p})));this._activeProviderReplies?.set(m,E),h=this._checkLinkProviderResult(m,c,h),this._activeProviderReplies?.size===this._linkProviderService.linkProviders.length&&this._removeIntersectingLinks(c.y,this._activeProviderReplies)}))}_removeIntersectingLinks(c,o){const h=new Set;for(let m=0;m<o.size;m++){const w=o.get(m);if(w)for(let S=0;S<w.length;S++){const E=w[S],p=E.link.range.start.y<c?0:E.link.range.start.x,b=E.link.range.end.y>c?this._bufferService.cols:E.link.range.end.x;for(let L=p;L<=b;L++){if(h.has(L)){w.splice(S--,1);break}h.add(L)}}}}_checkLinkProviderResult(c,o,h){if(!this._activeProviderReplies)return h;const m=this._activeProviderReplies.get(c);let w=!1;for(let S=0;S<c;S++)this._activeProviderReplies.has(S)&&!this._activeProviderReplies.get(S)||(w=!0);if(!w&&m){const S=m.find((E=>this._linkAtPosition(E.link,o)));S&&(h=!0,this._handleNewLink(S))}if(this._activeProviderReplies.size===this._linkProviderService.linkProviders.length&&!h)for(let S=0;S<this._activeProviderReplies.size;S++){const E=this._activeProviderReplies.get(S)?.find((p=>this._linkAtPosition(p.link,o)));if(E){h=!0,this._handleNewLink(E);break}}return h}_handleMouseDown(){this._mouseDownLink=this._currentLink}_handleMouseUp(c){if(!this._currentLink)return;const o=this._positionFromMouseEvent(c,this._element,this._mouseService);o&&this._mouseDownLink===this._currentLink&&this._linkAtPosition(this._currentLink.link,o)&&this._currentLink.link.activate(c,this._currentLink.link.text)}_clearCurrentLink(c,o){this._currentLink&&this._lastMouseEvent&&(!c||!o||this._currentLink.link.range.start.y>=c&&this._currentLink.link.range.end.y<=o)&&(this._linkLeave(this._element,this._currentLink.link,this._lastMouseEvent),this._currentLink=void 0,(0,y.disposeArray)(this._linkCacheDisposables))}_handleNewLink(c){if(!this._lastMouseEvent)return;const o=this._positionFromMouseEvent(this._lastMouseEvent,this._element,this._mouseService);o&&this._linkAtPosition(c.link,o)&&(this._currentLink=c,this._currentLink.state={decorations:{underline:c.link.decorations===void 0||c.link.decorations.underline,pointerCursor:c.link.decorations===void 0||c.link.decorations.pointerCursor},isHovered:!0},this._linkHover(this._element,c.link,this._lastMouseEvent),c.link.decorations={},Object.defineProperties(c.link.decorations,{pointerCursor:{get:()=>this._currentLink?.state?.decorations.pointerCursor,set:h=>{this._currentLink?.state&&this._currentLink.state.decorations.pointerCursor!==h&&(this._currentLink.state.decorations.pointerCursor=h,this._currentLink.state.isHovered&&this._element.classList.toggle("xterm-cursor-pointer",h))}},underline:{get:()=>this._currentLink?.state?.decorations.underline,set:h=>{this._currentLink?.state&&this._currentLink?.state?.decorations.underline!==h&&(this._currentLink.state.decorations.underline=h,this._currentLink.state.isHovered&&this._fireUnderlineEvent(c.link,h))}}}),this._linkCacheDisposables.push(this._renderService.onRenderedViewportChange((h=>{if(!this._currentLink)return;const m=h.start===0?0:h.start+1+this._bufferService.buffer.ydisp,w=this._bufferService.buffer.ydisp+1+h.end;if(this._currentLink.link.range.start.y>=m&&this._currentLink.link.range.end.y<=w&&(this._clearCurrentLink(m,w),this._lastMouseEvent)){const S=this._positionFromMouseEvent(this._lastMouseEvent,this._element,this._mouseService);S&&this._askForLink(S,!1)}}))))}_linkHover(c,o,h){this._currentLink?.state&&(this._currentLink.state.isHovered=!0,this._currentLink.state.decorations.underline&&this._fireUnderlineEvent(o,!0),this._currentLink.state.decorations.pointerCursor&&c.classList.add("xterm-cursor-pointer")),o.hover&&o.hover(h,o.text)}_fireUnderlineEvent(c,o){const h=c.range,m=this._bufferService.buffer.ydisp,w=this._createLinkUnderlineEvent(h.start.x-1,h.start.y-m-1,h.end.x,h.end.y-m-1,void 0);(o?this._onShowLinkUnderline:this._onHideLinkUnderline).fire(w)}_linkLeave(c,o,h){this._currentLink?.state&&(this._currentLink.state.isHovered=!1,this._currentLink.state.decorations.underline&&this._fireUnderlineEvent(o,!1),this._currentLink.state.decorations.pointerCursor&&c.classList.remove("xterm-cursor-pointer")),o.leave&&o.leave(h,o.text)}_linkAtPosition(c,o){const h=c.range.start.y*this._bufferService.cols+c.range.start.x,m=c.range.end.y*this._bufferService.cols+c.range.end.x,w=o.y*this._bufferService.cols+o.x;return h<=w&&w<=m}_positionFromMouseEvent(c,o,h){const m=h.getCoords(c,o,this._bufferService.cols,this._bufferService.rows);if(m)return{x:m[0],y:m[1]+this._bufferService.buffer.ydisp}}_createLinkUnderlineEvent(c,o,h,m,w){return{x1:c,y1:o,x2:h,y2:m,cols:this._bufferService.cols,fg:w}}};a.Linkifier=r=_([v(1,f.IMouseService),v(2,f.IRenderService),v(3,C.IBufferService),v(4,f.ILinkProviderService)],r)},9042:(W,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.tooMuchOutput=a.promptLabel=void 0,a.promptLabel="Terminal input",a.tooMuchOutput="Too much output to announce, navigate to rows manually to read"},3730:function(W,a,d){var _=this&&this.__decorate||function(f,r,c,o){var h,m=arguments.length,w=m<3?r:o===null?o=Object.getOwnPropertyDescriptor(r,c):o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")w=Reflect.decorate(f,r,c,o);else for(var S=f.length-1;S>=0;S--)(h=f[S])&&(w=(m<3?h(w):m>3?h(r,c,w):h(r,c))||w);return m>3&&w&&Object.defineProperty(r,c,w),w},v=this&&this.__param||function(f,r){return function(c,o){r(c,o,f)}};Object.defineProperty(a,"__esModule",{value:!0}),a.OscLinkProvider=void 0;const l=d(511),g=d(2585);let y=a.OscLinkProvider=class{constructor(f,r,c){this._bufferService=f,this._optionsService=r,this._oscLinkService=c}provideLinks(f,r){const c=this._bufferService.buffer.lines.get(f-1);if(!c)return void r(void 0);const o=[],h=this._optionsService.rawOptions.linkHandler,m=new l.CellData,w=c.getTrimmedLength();let S=-1,E=-1,p=!1;for(let b=0;b<w;b++)if(E!==-1||c.hasContent(b)){if(c.loadCell(b,m),m.hasExtendedAttrs()&&m.extended.urlId){if(E===-1){E=b,S=m.extended.urlId;continue}p=m.extended.urlId!==S}else E!==-1&&(p=!0);if(p||E!==-1&&b===w-1){const L=this._oscLinkService.getLinkData(S)?.uri;if(L){const B={start:{x:E+1,y:f},end:{x:b+(p||b!==w-1?0:1),y:f}};let D=!1;if(!h?.allowNonHttpProtocols)try{const M=new URL(L);["http:","https:"].includes(M.protocol)||(D=!0)}catch{D=!0}D||o.push({text:L,range:B,activate:(M,z)=>h?h.activate(M,z,B):C(0,z),hover:(M,z)=>h?.hover?.(M,z,B),leave:(M,z)=>h?.leave?.(M,z,B)})}p=!1,m.hasExtendedAttrs()&&m.extended.urlId?(E=b,S=m.extended.urlId):(E=-1,S=-1)}}r(o)}};function C(f,r){if(confirm(`Do you want to navigate to ${r}?

WARNING: This link could potentially be dangerous`)){const c=window.open();if(c){try{c.opener=null}catch{}c.location.href=r}else console.warn("Opening link blocked as opener could not be cleared")}}a.OscLinkProvider=y=_([v(0,g.IBufferService),v(1,g.IOptionsService),v(2,g.IOscLinkService)],y)},6193:(W,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.RenderDebouncer=void 0,a.RenderDebouncer=class{constructor(d,_){this._renderCallback=d,this._coreBrowserService=_,this._refreshCallbacks=[]}dispose(){this._animationFrame&&(this._coreBrowserService.window.cancelAnimationFrame(this._animationFrame),this._animationFrame=void 0)}addRefreshCallback(d){return this._refreshCallbacks.push(d),this._animationFrame||(this._animationFrame=this._coreBrowserService.window.requestAnimationFrame((()=>this._innerRefresh()))),this._animationFrame}refresh(d,_,v){this._rowCount=v,d=d!==void 0?d:0,_=_!==void 0?_:this._rowCount-1,this._rowStart=this._rowStart!==void 0?Math.min(this._rowStart,d):d,this._rowEnd=this._rowEnd!==void 0?Math.max(this._rowEnd,_):_,this._animationFrame||(this._animationFrame=this._coreBrowserService.window.requestAnimationFrame((()=>this._innerRefresh())))}_innerRefresh(){if(this._animationFrame=void 0,this._rowStart===void 0||this._rowEnd===void 0||this._rowCount===void 0)return void this._runRefreshCallbacks();const d=Math.max(this._rowStart,0),_=Math.min(this._rowEnd,this._rowCount-1);this._rowStart=void 0,this._rowEnd=void 0,this._renderCallback(d,_),this._runRefreshCallbacks()}_runRefreshCallbacks(){for(const d of this._refreshCallbacks)d(0);this._refreshCallbacks=[]}}},3236:(W,a,d)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.Terminal=void 0;const _=d(3614),v=d(3656),l=d(3551),g=d(9042),y=d(3730),C=d(1680),f=d(3107),r=d(5744),c=d(2950),o=d(1296),h=d(428),m=d(4269),w=d(5114),S=d(8934),E=d(3230),p=d(9312),b=d(4725),L=d(6731),B=d(8055),D=d(8969),M=d(8460),z=d(844),V=d(6114),U=d(8437),N=d(2584),F=d(7399),x=d(5941),k=d(9074),R=d(2585),O=d(5435),G=d(4567),$=d(779);class ne extends D.CoreTerminal{get onFocus(){return this._onFocus.event}get onBlur(){return this._onBlur.event}get onA11yChar(){return this._onA11yCharEmitter.event}get onA11yTab(){return this._onA11yTabEmitter.event}get onWillOpen(){return this._onWillOpen.event}constructor(P={}){super(P),this.browser=V,this._keyDownHandled=!1,this._keyDownSeen=!1,this._keyPressHandled=!1,this._unprocessedDeadKey=!1,this._accessibilityManager=this.register(new z.MutableDisposable),this._onCursorMove=this.register(new M.EventEmitter),this.onCursorMove=this._onCursorMove.event,this._onKey=this.register(new M.EventEmitter),this.onKey=this._onKey.event,this._onRender=this.register(new M.EventEmitter),this.onRender=this._onRender.event,this._onSelectionChange=this.register(new M.EventEmitter),this.onSelectionChange=this._onSelectionChange.event,this._onTitleChange=this.register(new M.EventEmitter),this.onTitleChange=this._onTitleChange.event,this._onBell=this.register(new M.EventEmitter),this.onBell=this._onBell.event,this._onFocus=this.register(new M.EventEmitter),this._onBlur=this.register(new M.EventEmitter),this._onA11yCharEmitter=this.register(new M.EventEmitter),this._onA11yTabEmitter=this.register(new M.EventEmitter),this._onWillOpen=this.register(new M.EventEmitter),this._setup(),this._decorationService=this._instantiationService.createInstance(k.DecorationService),this._instantiationService.setService(R.IDecorationService,this._decorationService),this._linkProviderService=this._instantiationService.createInstance($.LinkProviderService),this._instantiationService.setService(b.ILinkProviderService,this._linkProviderService),this._linkProviderService.registerLinkProvider(this._instantiationService.createInstance(y.OscLinkProvider)),this.register(this._inputHandler.onRequestBell((()=>this._onBell.fire()))),this.register(this._inputHandler.onRequestRefreshRows(((H,Q)=>this.refresh(H,Q)))),this.register(this._inputHandler.onRequestSendFocus((()=>this._reportFocus()))),this.register(this._inputHandler.onRequestReset((()=>this.reset()))),this.register(this._inputHandler.onRequestWindowsOptionsReport((H=>this._reportWindowsOptions(H)))),this.register(this._inputHandler.onColor((H=>this._handleColorEvent(H)))),this.register((0,M.forwardEvent)(this._inputHandler.onCursorMove,this._onCursorMove)),this.register((0,M.forwardEvent)(this._inputHandler.onTitleChange,this._onTitleChange)),this.register((0,M.forwardEvent)(this._inputHandler.onA11yChar,this._onA11yCharEmitter)),this.register((0,M.forwardEvent)(this._inputHandler.onA11yTab,this._onA11yTabEmitter)),this.register(this._bufferService.onResize((H=>this._afterResize(H.cols,H.rows)))),this.register((0,z.toDisposable)((()=>{this._customKeyEventHandler=void 0,this.element?.parentNode?.removeChild(this.element)})))}_handleColorEvent(P){if(this._themeService)for(const H of P){let Q,q="";switch(H.index){case 256:Q="foreground",q="10";break;case 257:Q="background",q="11";break;case 258:Q="cursor",q="12";break;default:Q="ansi",q="4;"+H.index}switch(H.type){case 0:const te=B.color.toColorRGB(Q==="ansi"?this._themeService.colors.ansi[H.index]:this._themeService.colors[Q]);this.coreService.triggerDataEvent(`${N.C0.ESC}]${q};${(0,x.toRgbString)(te)}${N.C1_ESCAPED.ST}`);break;case 1:if(Q==="ansi")this._themeService.modifyColors((le=>le.ansi[H.index]=B.channels.toColor(...H.color)));else{const le=Q;this._themeService.modifyColors((pe=>pe[le]=B.channels.toColor(...H.color)))}break;case 2:this._themeService.restoreColor(H.index)}}}_setup(){super._setup(),this._customKeyEventHandler=void 0}get buffer(){return this.buffers.active}focus(){this.textarea&&this.textarea.focus({preventScroll:!0})}_handleScreenReaderModeOptionChange(P){P?!this._accessibilityManager.value&&this._renderService&&(this._accessibilityManager.value=this._instantiationService.createInstance(G.AccessibilityManager,this)):this._accessibilityManager.clear()}_handleTextAreaFocus(P){this.coreService.decPrivateModes.sendFocus&&this.coreService.triggerDataEvent(N.C0.ESC+"[I"),this.element.classList.add("focus"),this._showCursor(),this._onFocus.fire()}blur(){return this.textarea?.blur()}_handleTextAreaBlur(){this.textarea.value="",this.refresh(this.buffer.y,this.buffer.y),this.coreService.decPrivateModes.sendFocus&&this.coreService.triggerDataEvent(N.C0.ESC+"[O"),this.element.classList.remove("focus"),this._onBlur.fire()}_syncTextArea(){if(!this.textarea||!this.buffer.isCursorInViewport||this._compositionHelper.isComposing||!this._renderService)return;const P=this.buffer.ybase+this.buffer.y,H=this.buffer.lines.get(P);if(!H)return;const Q=Math.min(this.buffer.x,this.cols-1),q=this._renderService.dimensions.css.cell.height,te=H.getWidth(Q),le=this._renderService.dimensions.css.cell.width*te,pe=this.buffer.y*this._renderService.dimensions.css.cell.height,fe=Q*this._renderService.dimensions.css.cell.width;this.textarea.style.left=fe+"px",this.textarea.style.top=pe+"px",this.textarea.style.width=le+"px",this.textarea.style.height=q+"px",this.textarea.style.lineHeight=q+"px",this.textarea.style.zIndex="-5"}_initGlobal(){this._bindKeys(),this.register((0,v.addDisposableDomListener)(this.element,"copy",(H=>{this.hasSelection()&&(0,_.copyHandler)(H,this._selectionService)})));const P=H=>(0,_.handlePasteEvent)(H,this.textarea,this.coreService,this.optionsService);this.register((0,v.addDisposableDomListener)(this.textarea,"paste",P)),this.register((0,v.addDisposableDomListener)(this.element,"paste",P)),V.isFirefox?this.register((0,v.addDisposableDomListener)(this.element,"mousedown",(H=>{H.button===2&&(0,_.rightClickHandler)(H,this.textarea,this.screenElement,this._selectionService,this.options.rightClickSelectsWord)}))):this.register((0,v.addDisposableDomListener)(this.element,"contextmenu",(H=>{(0,_.rightClickHandler)(H,this.textarea,this.screenElement,this._selectionService,this.options.rightClickSelectsWord)}))),V.isLinux&&this.register((0,v.addDisposableDomListener)(this.element,"auxclick",(H=>{H.button===1&&(0,_.moveTextAreaUnderMouseCursor)(H,this.textarea,this.screenElement)})))}_bindKeys(){this.register((0,v.addDisposableDomListener)(this.textarea,"keyup",(P=>this._keyUp(P)),!0)),this.register((0,v.addDisposableDomListener)(this.textarea,"keydown",(P=>this._keyDown(P)),!0)),this.register((0,v.addDisposableDomListener)(this.textarea,"keypress",(P=>this._keyPress(P)),!0)),this.register((0,v.addDisposableDomListener)(this.textarea,"compositionstart",(()=>this._compositionHelper.compositionstart()))),this.register((0,v.addDisposableDomListener)(this.textarea,"compositionupdate",(P=>this._compositionHelper.compositionupdate(P)))),this.register((0,v.addDisposableDomListener)(this.textarea,"compositionend",(()=>this._compositionHelper.compositionend()))),this.register((0,v.addDisposableDomListener)(this.textarea,"input",(P=>this._inputEvent(P)),!0)),this.register(this.onRender((()=>this._compositionHelper.updateCompositionElements())))}open(P){if(!P)throw new Error("Terminal requires a parent element.");if(P.isConnected||this._logService.debug("Terminal.open was called on an element that was not attached to the DOM"),this.element?.ownerDocument.defaultView&&this._coreBrowserService)return void(this.element.ownerDocument.defaultView!==this._coreBrowserService.window&&(this._coreBrowserService.window=this.element.ownerDocument.defaultView));this._document=P.ownerDocument,this.options.documentOverride&&this.options.documentOverride instanceof Document&&(this._document=this.optionsService.rawOptions.documentOverride),this.element=this._document.createElement("div"),this.element.dir="ltr",this.element.classList.add("terminal"),this.element.classList.add("xterm"),P.appendChild(this.element);const H=this._document.createDocumentFragment();this._viewportElement=this._document.createElement("div"),this._viewportElement.classList.add("xterm-viewport"),H.appendChild(this._viewportElement),this._viewportScrollArea=this._document.createElement("div"),this._viewportScrollArea.classList.add("xterm-scroll-area"),this._viewportElement.appendChild(this._viewportScrollArea),this.screenElement=this._document.createElement("div"),this.screenElement.classList.add("xterm-screen"),this.register((0,v.addDisposableDomListener)(this.screenElement,"mousemove",(Q=>this.updateCursorStyle(Q)))),this._helperContainer=this._document.createElement("div"),this._helperContainer.classList.add("xterm-helpers"),this.screenElement.appendChild(this._helperContainer),H.appendChild(this.screenElement),this.textarea=this._document.createElement("textarea"),this.textarea.classList.add("xterm-helper-textarea"),this.textarea.setAttribute("aria-label",g.promptLabel),V.isChromeOS||this.textarea.setAttribute("aria-multiline","false"),this.textarea.setAttribute("autocorrect","off"),this.textarea.setAttribute("autocapitalize","off"),this.textarea.setAttribute("spellcheck","false"),this.textarea.tabIndex=0,this._coreBrowserService=this.register(this._instantiationService.createInstance(w.CoreBrowserService,this.textarea,P.ownerDocument.defaultView??window,this._document??typeof window<"u"?window.document:null)),this._instantiationService.setService(b.ICoreBrowserService,this._coreBrowserService),this.register((0,v.addDisposableDomListener)(this.textarea,"focus",(Q=>this._handleTextAreaFocus(Q)))),this.register((0,v.addDisposableDomListener)(this.textarea,"blur",(()=>this._handleTextAreaBlur()))),this._helperContainer.appendChild(this.textarea),this._charSizeService=this._instantiationService.createInstance(h.CharSizeService,this._document,this._helperContainer),this._instantiationService.setService(b.ICharSizeService,this._charSizeService),this._themeService=this._instantiationService.createInstance(L.ThemeService),this._instantiationService.setService(b.IThemeService,this._themeService),this._characterJoinerService=this._instantiationService.createInstance(m.CharacterJoinerService),this._instantiationService.setService(b.ICharacterJoinerService,this._characterJoinerService),this._renderService=this.register(this._instantiationService.createInstance(E.RenderService,this.rows,this.screenElement)),this._instantiationService.setService(b.IRenderService,this._renderService),this.register(this._renderService.onRenderedViewportChange((Q=>this._onRender.fire(Q)))),this.onResize((Q=>this._renderService.resize(Q.cols,Q.rows))),this._compositionView=this._document.createElement("div"),this._compositionView.classList.add("composition-view"),this._compositionHelper=this._instantiationService.createInstance(c.CompositionHelper,this.textarea,this._compositionView),this._helperContainer.appendChild(this._compositionView),this._mouseService=this._instantiationService.createInstance(S.MouseService),this._instantiationService.setService(b.IMouseService,this._mouseService),this.linkifier=this.register(this._instantiationService.createInstance(l.Linkifier,this.screenElement)),this.element.appendChild(H);try{this._onWillOpen.fire(this.element)}catch{}this._renderService.hasRenderer()||this._renderService.setRenderer(this._createRenderer()),this.viewport=this._instantiationService.createInstance(C.Viewport,this._viewportElement,this._viewportScrollArea),this.viewport.onRequestScrollLines((Q=>this.scrollLines(Q.amount,Q.suppressScrollEvent,1))),this.register(this._inputHandler.onRequestSyncScrollBar((()=>this.viewport.syncScrollArea()))),this.register(this.viewport),this.register(this.onCursorMove((()=>{this._renderService.handleCursorMove(),this._syncTextArea()}))),this.register(this.onResize((()=>this._renderService.handleResize(this.cols,this.rows)))),this.register(this.onBlur((()=>this._renderService.handleBlur()))),this.register(this.onFocus((()=>this._renderService.handleFocus()))),this.register(this._renderService.onDimensionsChange((()=>this.viewport.syncScrollArea()))),this._selectionService=this.register(this._instantiationService.createInstance(p.SelectionService,this.element,this.screenElement,this.linkifier)),this._instantiationService.setService(b.ISelectionService,this._selectionService),this.register(this._selectionService.onRequestScrollLines((Q=>this.scrollLines(Q.amount,Q.suppressScrollEvent)))),this.register(this._selectionService.onSelectionChange((()=>this._onSelectionChange.fire()))),this.register(this._selectionService.onRequestRedraw((Q=>this._renderService.handleSelectionChanged(Q.start,Q.end,Q.columnSelectMode)))),this.register(this._selectionService.onLinuxMouseSelection((Q=>{this.textarea.value=Q,this.textarea.focus(),this.textarea.select()}))),this.register(this._onScroll.event((Q=>{this.viewport.syncScrollArea(),this._selectionService.refresh()}))),this.register((0,v.addDisposableDomListener)(this._viewportElement,"scroll",(()=>this._selectionService.refresh()))),this.register(this._instantiationService.createInstance(f.BufferDecorationRenderer,this.screenElement)),this.register((0,v.addDisposableDomListener)(this.element,"mousedown",(Q=>this._selectionService.handleMouseDown(Q)))),this.coreMouseService.areMouseEventsActive?(this._selectionService.disable(),this.element.classList.add("enable-mouse-events")):this._selectionService.enable(),this.options.screenReaderMode&&(this._accessibilityManager.value=this._instantiationService.createInstance(G.AccessibilityManager,this)),this.register(this.optionsService.onSpecificOptionChange("screenReaderMode",(Q=>this._handleScreenReaderModeOptionChange(Q)))),this.options.overviewRulerWidth&&(this._overviewRulerRenderer=this.register(this._instantiationService.createInstance(r.OverviewRulerRenderer,this._viewportElement,this.screenElement))),this.optionsService.onSpecificOptionChange("overviewRulerWidth",(Q=>{!this._overviewRulerRenderer&&Q&&this._viewportElement&&this.screenElement&&(this._overviewRulerRenderer=this.register(this._instantiationService.createInstance(r.OverviewRulerRenderer,this._viewportElement,this.screenElement)))})),this._charSizeService.measure(),this.refresh(0,this.rows-1),this._initGlobal(),this.bindMouse()}_createRenderer(){return this._instantiationService.createInstance(o.DomRenderer,this,this._document,this.element,this.screenElement,this._viewportElement,this._helperContainer,this.linkifier)}bindMouse(){const P=this,H=this.element;function Q(le){const pe=P._mouseService.getMouseReportCoords(le,P.screenElement);if(!pe)return!1;let fe,Ce;switch(le.overrideType||le.type){case"mousemove":Ce=32,le.buttons===void 0?(fe=3,le.button!==void 0&&(fe=le.button<3?le.button:3)):fe=1&le.buttons?0:4&le.buttons?1:2&le.buttons?2:3;break;case"mouseup":Ce=0,fe=le.button<3?le.button:3;break;case"mousedown":Ce=1,fe=le.button<3?le.button:3;break;case"wheel":if(P._customWheelEventHandler&&P._customWheelEventHandler(le)===!1||P.viewport.getLinesScrolled(le)===0)return!1;Ce=le.deltaY<0?0:1,fe=4;break;default:return!1}return!(Ce===void 0||fe===void 0||fe>4)&&P.coreMouseService.triggerMouseEvent({col:pe.col,row:pe.row,x:pe.x,y:pe.y,button:fe,action:Ce,ctrl:le.ctrlKey,alt:le.altKey,shift:le.shiftKey})}const q={mouseup:null,wheel:null,mousedrag:null,mousemove:null},te={mouseup:le=>(Q(le),le.buttons||(this._document.removeEventListener("mouseup",q.mouseup),q.mousedrag&&this._document.removeEventListener("mousemove",q.mousedrag)),this.cancel(le)),wheel:le=>(Q(le),this.cancel(le,!0)),mousedrag:le=>{le.buttons&&Q(le)},mousemove:le=>{le.buttons||Q(le)}};this.register(this.coreMouseService.onProtocolChange((le=>{le?(this.optionsService.rawOptions.logLevel==="debug"&&this._logService.debug("Binding to mouse events:",this.coreMouseService.explainEvents(le)),this.element.classList.add("enable-mouse-events"),this._selectionService.disable()):(this._logService.debug("Unbinding from mouse events."),this.element.classList.remove("enable-mouse-events"),this._selectionService.enable()),8&le?q.mousemove||(H.addEventListener("mousemove",te.mousemove),q.mousemove=te.mousemove):(H.removeEventListener("mousemove",q.mousemove),q.mousemove=null),16&le?q.wheel||(H.addEventListener("wheel",te.wheel,{passive:!1}),q.wheel=te.wheel):(H.removeEventListener("wheel",q.wheel),q.wheel=null),2&le?q.mouseup||(q.mouseup=te.mouseup):(this._document.removeEventListener("mouseup",q.mouseup),q.mouseup=null),4&le?q.mousedrag||(q.mousedrag=te.mousedrag):(this._document.removeEventListener("mousemove",q.mousedrag),q.mousedrag=null)}))),this.coreMouseService.activeProtocol=this.coreMouseService.activeProtocol,this.register((0,v.addDisposableDomListener)(H,"mousedown",(le=>{if(le.preventDefault(),this.focus(),this.coreMouseService.areMouseEventsActive&&!this._selectionService.shouldForceSelection(le))return Q(le),q.mouseup&&this._document.addEventListener("mouseup",q.mouseup),q.mousedrag&&this._document.addEventListener("mousemove",q.mousedrag),this.cancel(le)}))),this.register((0,v.addDisposableDomListener)(H,"wheel",(le=>{if(!q.wheel){if(this._customWheelEventHandler&&this._customWheelEventHandler(le)===!1)return!1;if(!this.buffer.hasScrollback){const pe=this.viewport.getLinesScrolled(le);if(pe===0)return;const fe=N.C0.ESC+(this.coreService.decPrivateModes.applicationCursorKeys?"O":"[")+(le.deltaY<0?"A":"B");let Ce="";for(let Fe=0;Fe<Math.abs(pe);Fe++)Ce+=fe;return this.coreService.triggerDataEvent(Ce,!0),this.cancel(le,!0)}return this.viewport.handleWheel(le)?this.cancel(le):void 0}}),{passive:!1})),this.register((0,v.addDisposableDomListener)(H,"touchstart",(le=>{if(!this.coreMouseService.areMouseEventsActive)return this.viewport.handleTouchStart(le),this.cancel(le)}),{passive:!0})),this.register((0,v.addDisposableDomListener)(H,"touchmove",(le=>{if(!this.coreMouseService.areMouseEventsActive)return this.viewport.handleTouchMove(le)?void 0:this.cancel(le)}),{passive:!1}))}refresh(P,H){this._renderService?.refreshRows(P,H)}updateCursorStyle(P){this._selectionService?.shouldColumnSelect(P)?this.element.classList.add("column-select"):this.element.classList.remove("column-select")}_showCursor(){this.coreService.isCursorInitialized||(this.coreService.isCursorInitialized=!0,this.refresh(this.buffer.y,this.buffer.y))}scrollLines(P,H,Q=0){Q===1?(super.scrollLines(P,H,Q),this.refresh(0,this.rows-1)):this.viewport?.scrollLines(P)}paste(P){(0,_.paste)(P,this.textarea,this.coreService,this.optionsService)}attachCustomKeyEventHandler(P){this._customKeyEventHandler=P}attachCustomWheelEventHandler(P){this._customWheelEventHandler=P}registerLinkProvider(P){return this._linkProviderService.registerLinkProvider(P)}registerCharacterJoiner(P){if(!this._characterJoinerService)throw new Error("Terminal must be opened first");const H=this._characterJoinerService.register(P);return this.refresh(0,this.rows-1),H}deregisterCharacterJoiner(P){if(!this._characterJoinerService)throw new Error("Terminal must be opened first");this._characterJoinerService.deregister(P)&&this.refresh(0,this.rows-1)}get markers(){return this.buffer.markers}registerMarker(P){return this.buffer.addMarker(this.buffer.ybase+this.buffer.y+P)}registerDecoration(P){return this._decorationService.registerDecoration(P)}hasSelection(){return!!this._selectionService&&this._selectionService.hasSelection}select(P,H,Q){this._selectionService.setSelection(P,H,Q)}getSelection(){return this._selectionService?this._selectionService.selectionText:""}getSelectionPosition(){if(this._selectionService&&this._selectionService.hasSelection)return{start:{x:this._selectionService.selectionStart[0],y:this._selectionService.selectionStart[1]},end:{x:this._selectionService.selectionEnd[0],y:this._selectionService.selectionEnd[1]}}}clearSelection(){this._selectionService?.clearSelection()}selectAll(){this._selectionService?.selectAll()}selectLines(P,H){this._selectionService?.selectLines(P,H)}_keyDown(P){if(this._keyDownHandled=!1,this._keyDownSeen=!0,this._customKeyEventHandler&&this._customKeyEventHandler(P)===!1)return!1;const H=this.browser.isMac&&this.options.macOptionIsMeta&&P.altKey;if(!H&&!this._compositionHelper.keydown(P))return this.options.scrollOnUserInput&&this.buffer.ybase!==this.buffer.ydisp&&this.scrollToBottom(),!1;H||P.key!=="Dead"&&P.key!=="AltGraph"||(this._unprocessedDeadKey=!0);const Q=(0,F.evaluateKeyboardEvent)(P,this.coreService.decPrivateModes.applicationCursorKeys,this.browser.isMac,this.options.macOptionIsMeta);if(this.updateCursorStyle(P),Q.type===3||Q.type===2){const q=this.rows-1;return this.scrollLines(Q.type===2?-q:q),this.cancel(P,!0)}return Q.type===1&&this.selectAll(),!!this._isThirdLevelShift(this.browser,P)||(Q.cancel&&this.cancel(P,!0),!Q.key||!!(P.key&&!P.ctrlKey&&!P.altKey&&!P.metaKey&&P.key.length===1&&P.key.charCodeAt(0)>=65&&P.key.charCodeAt(0)<=90)||(this._unprocessedDeadKey?(this._unprocessedDeadKey=!1,!0):(Q.key!==N.C0.ETX&&Q.key!==N.C0.CR||(this.textarea.value=""),this._onKey.fire({key:Q.key,domEvent:P}),this._showCursor(),this.coreService.triggerDataEvent(Q.key,!0),!this.optionsService.rawOptions.screenReaderMode||P.altKey||P.ctrlKey?this.cancel(P,!0):void(this._keyDownHandled=!0))))}_isThirdLevelShift(P,H){const Q=P.isMac&&!this.options.macOptionIsMeta&&H.altKey&&!H.ctrlKey&&!H.metaKey||P.isWindows&&H.altKey&&H.ctrlKey&&!H.metaKey||P.isWindows&&H.getModifierState("AltGraph");return H.type==="keypress"?Q:Q&&(!H.keyCode||H.keyCode>47)}_keyUp(P){this._keyDownSeen=!1,this._customKeyEventHandler&&this._customKeyEventHandler(P)===!1||((function(H){return H.keyCode===16||H.keyCode===17||H.keyCode===18})(P)||this.focus(),this.updateCursorStyle(P),this._keyPressHandled=!1)}_keyPress(P){let H;if(this._keyPressHandled=!1,this._keyDownHandled||this._customKeyEventHandler&&this._customKeyEventHandler(P)===!1)return!1;if(this.cancel(P),P.charCode)H=P.charCode;else if(P.which===null||P.which===void 0)H=P.keyCode;else{if(P.which===0||P.charCode===0)return!1;H=P.which}return!(!H||(P.altKey||P.ctrlKey||P.metaKey)&&!this._isThirdLevelShift(this.browser,P)||(H=String.fromCharCode(H),this._onKey.fire({key:H,domEvent:P}),this._showCursor(),this.coreService.triggerDataEvent(H,!0),this._keyPressHandled=!0,this._unprocessedDeadKey=!1,0))}_inputEvent(P){if(P.data&&P.inputType==="insertText"&&(!P.composed||!this._keyDownSeen)&&!this.optionsService.rawOptions.screenReaderMode){if(this._keyPressHandled)return!1;this._unprocessedDeadKey=!1;const H=P.data;return this.coreService.triggerDataEvent(H,!0),this.cancel(P),!0}return!1}resize(P,H){P!==this.cols||H!==this.rows?super.resize(P,H):this._charSizeService&&!this._charSizeService.hasValidSize&&this._charSizeService.measure()}_afterResize(P,H){this._charSizeService?.measure(),this.viewport?.syncScrollArea(!0)}clear(){if(this.buffer.ybase!==0||this.buffer.y!==0){this.buffer.clearAllMarkers(),this.buffer.lines.set(0,this.buffer.lines.get(this.buffer.ybase+this.buffer.y)),this.buffer.lines.length=1,this.buffer.ydisp=0,this.buffer.ybase=0,this.buffer.y=0;for(let P=1;P<this.rows;P++)this.buffer.lines.push(this.buffer.getBlankLine(U.DEFAULT_ATTR_DATA));this._onScroll.fire({position:this.buffer.ydisp,source:0}),this.viewport?.reset(),this.refresh(0,this.rows-1)}}reset(){this.options.rows=this.rows,this.options.cols=this.cols;const P=this._customKeyEventHandler;this._setup(),super.reset(),this._selectionService?.reset(),this._decorationService.reset(),this.viewport?.reset(),this._customKeyEventHandler=P,this.refresh(0,this.rows-1)}clearTextureAtlas(){this._renderService?.clearTextureAtlas()}_reportFocus(){this.element?.classList.contains("focus")?this.coreService.triggerDataEvent(N.C0.ESC+"[I"):this.coreService.triggerDataEvent(N.C0.ESC+"[O")}_reportWindowsOptions(P){if(this._renderService)switch(P){case O.WindowsOptionsReportType.GET_WIN_SIZE_PIXELS:const H=this._renderService.dimensions.css.canvas.width.toFixed(0),Q=this._renderService.dimensions.css.canvas.height.toFixed(0);this.coreService.triggerDataEvent(`${N.C0.ESC}[4;${Q};${H}t`);break;case O.WindowsOptionsReportType.GET_CELL_SIZE_PIXELS:const q=this._renderService.dimensions.css.cell.width.toFixed(0),te=this._renderService.dimensions.css.cell.height.toFixed(0);this.coreService.triggerDataEvent(`${N.C0.ESC}[6;${te};${q}t`)}}cancel(P,H){if(this.options.cancelEvents||H)return P.preventDefault(),P.stopPropagation(),!1}}a.Terminal=ne},9924:(W,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.TimeBasedDebouncer=void 0,a.TimeBasedDebouncer=class{constructor(d,_=1e3){this._renderCallback=d,this._debounceThresholdMS=_,this._lastRefreshMs=0,this._additionalRefreshRequested=!1}dispose(){this._refreshTimeoutID&&clearTimeout(this._refreshTimeoutID)}refresh(d,_,v){this._rowCount=v,d=d!==void 0?d:0,_=_!==void 0?_:this._rowCount-1,this._rowStart=this._rowStart!==void 0?Math.min(this._rowStart,d):d,this._rowEnd=this._rowEnd!==void 0?Math.max(this._rowEnd,_):_;const l=Date.now();if(l-this._lastRefreshMs>=this._debounceThresholdMS)this._lastRefreshMs=l,this._innerRefresh();else if(!this._additionalRefreshRequested){const g=l-this._lastRefreshMs,y=this._debounceThresholdMS-g;this._additionalRefreshRequested=!0,this._refreshTimeoutID=window.setTimeout((()=>{this._lastRefreshMs=Date.now(),this._innerRefresh(),this._additionalRefreshRequested=!1,this._refreshTimeoutID=void 0}),y)}}_innerRefresh(){if(this._rowStart===void 0||this._rowEnd===void 0||this._rowCount===void 0)return;const d=Math.max(this._rowStart,0),_=Math.min(this._rowEnd,this._rowCount-1);this._rowStart=void 0,this._rowEnd=void 0,this._renderCallback(d,_)}}},1680:function(W,a,d){var _=this&&this.__decorate||function(c,o,h,m){var w,S=arguments.length,E=S<3?o:m===null?m=Object.getOwnPropertyDescriptor(o,h):m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")E=Reflect.decorate(c,o,h,m);else for(var p=c.length-1;p>=0;p--)(w=c[p])&&(E=(S<3?w(E):S>3?w(o,h,E):w(o,h))||E);return S>3&&E&&Object.defineProperty(o,h,E),E},v=this&&this.__param||function(c,o){return function(h,m){o(h,m,c)}};Object.defineProperty(a,"__esModule",{value:!0}),a.Viewport=void 0;const l=d(3656),g=d(4725),y=d(8460),C=d(844),f=d(2585);let r=a.Viewport=class extends C.Disposable{constructor(c,o,h,m,w,S,E,p){super(),this._viewportElement=c,this._scrollArea=o,this._bufferService=h,this._optionsService=m,this._charSizeService=w,this._renderService=S,this._coreBrowserService=E,this.scrollBarWidth=0,this._currentRowHeight=0,this._currentDeviceCellHeight=0,this._lastRecordedBufferLength=0,this._lastRecordedViewportHeight=0,this._lastRecordedBufferHeight=0,this._lastTouchY=0,this._lastScrollTop=0,this._wheelPartialScroll=0,this._refreshAnimationFrame=null,this._ignoreNextScrollEvent=!1,this._smoothScrollState={startTime:0,origin:-1,target:-1},this._onRequestScrollLines=this.register(new y.EventEmitter),this.onRequestScrollLines=this._onRequestScrollLines.event,this.scrollBarWidth=this._viewportElement.offsetWidth-this._scrollArea.offsetWidth||15,this.register((0,l.addDisposableDomListener)(this._viewportElement,"scroll",this._handleScroll.bind(this))),this._activeBuffer=this._bufferService.buffer,this.register(this._bufferService.buffers.onBufferActivate((b=>this._activeBuffer=b.activeBuffer))),this._renderDimensions=this._renderService.dimensions,this.register(this._renderService.onDimensionsChange((b=>this._renderDimensions=b))),this._handleThemeChange(p.colors),this.register(p.onChangeColors((b=>this._handleThemeChange(b)))),this.register(this._optionsService.onSpecificOptionChange("scrollback",(()=>this.syncScrollArea()))),setTimeout((()=>this.syncScrollArea()))}_handleThemeChange(c){this._viewportElement.style.backgroundColor=c.background.css}reset(){this._currentRowHeight=0,this._currentDeviceCellHeight=0,this._lastRecordedBufferLength=0,this._lastRecordedViewportHeight=0,this._lastRecordedBufferHeight=0,this._lastTouchY=0,this._lastScrollTop=0,this._coreBrowserService.window.requestAnimationFrame((()=>this.syncScrollArea()))}_refresh(c){if(c)return this._innerRefresh(),void(this._refreshAnimationFrame!==null&&this._coreBrowserService.window.cancelAnimationFrame(this._refreshAnimationFrame));this._refreshAnimationFrame===null&&(this._refreshAnimationFrame=this._coreBrowserService.window.requestAnimationFrame((()=>this._innerRefresh())))}_innerRefresh(){if(this._charSizeService.height>0){this._currentRowHeight=this._renderDimensions.device.cell.height/this._coreBrowserService.dpr,this._currentDeviceCellHeight=this._renderDimensions.device.cell.height,this._lastRecordedViewportHeight=this._viewportElement.offsetHeight;const o=Math.round(this._currentRowHeight*this._lastRecordedBufferLength)+(this._lastRecordedViewportHeight-this._renderDimensions.css.canvas.height);this._lastRecordedBufferHeight!==o&&(this._lastRecordedBufferHeight=o,this._scrollArea.style.height=this._lastRecordedBufferHeight+"px")}const c=this._bufferService.buffer.ydisp*this._currentRowHeight;this._viewportElement.scrollTop!==c&&(this._ignoreNextScrollEvent=!0,this._viewportElement.scrollTop=c),this._refreshAnimationFrame=null}syncScrollArea(c=!1){if(this._lastRecordedBufferLength!==this._bufferService.buffer.lines.length)return this._lastRecordedBufferLength=this._bufferService.buffer.lines.length,void this._refresh(c);this._lastRecordedViewportHeight===this._renderService.dimensions.css.canvas.height&&this._lastScrollTop===this._activeBuffer.ydisp*this._currentRowHeight&&this._renderDimensions.device.cell.height===this._currentDeviceCellHeight||this._refresh(c)}_handleScroll(c){if(this._lastScrollTop=this._viewportElement.scrollTop,!this._viewportElement.offsetParent)return;if(this._ignoreNextScrollEvent)return this._ignoreNextScrollEvent=!1,void this._onRequestScrollLines.fire({amount:0,suppressScrollEvent:!0});const o=Math.round(this._lastScrollTop/this._currentRowHeight)-this._bufferService.buffer.ydisp;this._onRequestScrollLines.fire({amount:o,suppressScrollEvent:!0})}_smoothScroll(){if(this._isDisposed||this._smoothScrollState.origin===-1||this._smoothScrollState.target===-1)return;const c=this._smoothScrollPercent();this._viewportElement.scrollTop=this._smoothScrollState.origin+Math.round(c*(this._smoothScrollState.target-this._smoothScrollState.origin)),c<1?this._coreBrowserService.window.requestAnimationFrame((()=>this._smoothScroll())):this._clearSmoothScrollState()}_smoothScrollPercent(){return this._optionsService.rawOptions.smoothScrollDuration&&this._smoothScrollState.startTime?Math.max(Math.min((Date.now()-this._smoothScrollState.startTime)/this._optionsService.rawOptions.smoothScrollDuration,1),0):1}_clearSmoothScrollState(){this._smoothScrollState.startTime=0,this._smoothScrollState.origin=-1,this._smoothScrollState.target=-1}_bubbleScroll(c,o){const h=this._viewportElement.scrollTop+this._lastRecordedViewportHeight;return!(o<0&&this._viewportElement.scrollTop!==0||o>0&&h<this._lastRecordedBufferHeight)||(c.cancelable&&c.preventDefault(),!1)}handleWheel(c){const o=this._getPixelsScrolled(c);return o!==0&&(this._optionsService.rawOptions.smoothScrollDuration?(this._smoothScrollState.startTime=Date.now(),this._smoothScrollPercent()<1?(this._smoothScrollState.origin=this._viewportElement.scrollTop,this._smoothScrollState.target===-1?this._smoothScrollState.target=this._viewportElement.scrollTop+o:this._smoothScrollState.target+=o,this._smoothScrollState.target=Math.max(Math.min(this._smoothScrollState.target,this._viewportElement.scrollHeight),0),this._smoothScroll()):this._clearSmoothScrollState()):this._viewportElement.scrollTop+=o,this._bubbleScroll(c,o))}scrollLines(c){if(c!==0)if(this._optionsService.rawOptions.smoothScrollDuration){const o=c*this._currentRowHeight;this._smoothScrollState.startTime=Date.now(),this._smoothScrollPercent()<1?(this._smoothScrollState.origin=this._viewportElement.scrollTop,this._smoothScrollState.target=this._smoothScrollState.origin+o,this._smoothScrollState.target=Math.max(Math.min(this._smoothScrollState.target,this._viewportElement.scrollHeight),0),this._smoothScroll()):this._clearSmoothScrollState()}else this._onRequestScrollLines.fire({amount:c,suppressScrollEvent:!1})}_getPixelsScrolled(c){if(c.deltaY===0||c.shiftKey)return 0;let o=this._applyScrollModifier(c.deltaY,c);return c.deltaMode===WheelEvent.DOM_DELTA_LINE?o*=this._currentRowHeight:c.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(o*=this._currentRowHeight*this._bufferService.rows),o}getBufferElements(c,o){let h,m="";const w=[],S=o??this._bufferService.buffer.lines.length,E=this._bufferService.buffer.lines;for(let p=c;p<S;p++){const b=E.get(p);if(!b)continue;const L=E.get(p+1)?.isWrapped;if(m+=b.translateToString(!L),!L||p===E.length-1){const B=document.createElement("div");B.textContent=m,w.push(B),m.length>0&&(h=B),m=""}}return{bufferElements:w,cursorElement:h}}getLinesScrolled(c){if(c.deltaY===0||c.shiftKey)return 0;let o=this._applyScrollModifier(c.deltaY,c);return c.deltaMode===WheelEvent.DOM_DELTA_PIXEL?(o/=this._currentRowHeight+0,this._wheelPartialScroll+=o,o=Math.floor(Math.abs(this._wheelPartialScroll))*(this._wheelPartialScroll>0?1:-1),this._wheelPartialScroll%=1):c.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(o*=this._bufferService.rows),o}_applyScrollModifier(c,o){const h=this._optionsService.rawOptions.fastScrollModifier;return h==="alt"&&o.altKey||h==="ctrl"&&o.ctrlKey||h==="shift"&&o.shiftKey?c*this._optionsService.rawOptions.fastScrollSensitivity*this._optionsService.rawOptions.scrollSensitivity:c*this._optionsService.rawOptions.scrollSensitivity}handleTouchStart(c){this._lastTouchY=c.touches[0].pageY}handleTouchMove(c){const o=this._lastTouchY-c.touches[0].pageY;return this._lastTouchY=c.touches[0].pageY,o!==0&&(this._viewportElement.scrollTop+=o,this._bubbleScroll(c,o))}};a.Viewport=r=_([v(2,f.IBufferService),v(3,f.IOptionsService),v(4,g.ICharSizeService),v(5,g.IRenderService),v(6,g.ICoreBrowserService),v(7,g.IThemeService)],r)},3107:function(W,a,d){var _=this&&this.__decorate||function(f,r,c,o){var h,m=arguments.length,w=m<3?r:o===null?o=Object.getOwnPropertyDescriptor(r,c):o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")w=Reflect.decorate(f,r,c,o);else for(var S=f.length-1;S>=0;S--)(h=f[S])&&(w=(m<3?h(w):m>3?h(r,c,w):h(r,c))||w);return m>3&&w&&Object.defineProperty(r,c,w),w},v=this&&this.__param||function(f,r){return function(c,o){r(c,o,f)}};Object.defineProperty(a,"__esModule",{value:!0}),a.BufferDecorationRenderer=void 0;const l=d(4725),g=d(844),y=d(2585);let C=a.BufferDecorationRenderer=class extends g.Disposable{constructor(f,r,c,o,h){super(),this._screenElement=f,this._bufferService=r,this._coreBrowserService=c,this._decorationService=o,this._renderService=h,this._decorationElements=new Map,this._altBufferIsActive=!1,this._dimensionsChanged=!1,this._container=document.createElement("div"),this._container.classList.add("xterm-decoration-container"),this._screenElement.appendChild(this._container),this.register(this._renderService.onRenderedViewportChange((()=>this._doRefreshDecorations()))),this.register(this._renderService.onDimensionsChange((()=>{this._dimensionsChanged=!0,this._queueRefresh()}))),this.register(this._coreBrowserService.onDprChange((()=>this._queueRefresh()))),this.register(this._bufferService.buffers.onBufferActivate((()=>{this._altBufferIsActive=this._bufferService.buffer===this._bufferService.buffers.alt}))),this.register(this._decorationService.onDecorationRegistered((()=>this._queueRefresh()))),this.register(this._decorationService.onDecorationRemoved((m=>this._removeDecoration(m)))),this.register((0,g.toDisposable)((()=>{this._container.remove(),this._decorationElements.clear()})))}_queueRefresh(){this._animationFrame===void 0&&(this._animationFrame=this._renderService.addRefreshCallback((()=>{this._doRefreshDecorations(),this._animationFrame=void 0})))}_doRefreshDecorations(){for(const f of this._decorationService.decorations)this._renderDecoration(f);this._dimensionsChanged=!1}_renderDecoration(f){this._refreshStyle(f),this._dimensionsChanged&&this._refreshXPosition(f)}_createElement(f){const r=this._coreBrowserService.mainDocument.createElement("div");r.classList.add("xterm-decoration"),r.classList.toggle("xterm-decoration-top-layer",f?.options?.layer==="top"),r.style.width=`${Math.round((f.options.width||1)*this._renderService.dimensions.css.cell.width)}px`,r.style.height=(f.options.height||1)*this._renderService.dimensions.css.cell.height+"px",r.style.top=(f.marker.line-this._bufferService.buffers.active.ydisp)*this._renderService.dimensions.css.cell.height+"px",r.style.lineHeight=`${this._renderService.dimensions.css.cell.height}px`;const c=f.options.x??0;return c&&c>this._bufferService.cols&&(r.style.display="none"),this._refreshXPosition(f,r),r}_refreshStyle(f){const r=f.marker.line-this._bufferService.buffers.active.ydisp;if(r<0||r>=this._bufferService.rows)f.element&&(f.element.style.display="none",f.onRenderEmitter.fire(f.element));else{let c=this._decorationElements.get(f);c||(c=this._createElement(f),f.element=c,this._decorationElements.set(f,c),this._container.appendChild(c),f.onDispose((()=>{this._decorationElements.delete(f),c.remove()}))),c.style.top=r*this._renderService.dimensions.css.cell.height+"px",c.style.display=this._altBufferIsActive?"none":"block",f.onRenderEmitter.fire(c)}}_refreshXPosition(f,r=f.element){if(!r)return;const c=f.options.x??0;(f.options.anchor||"left")==="right"?r.style.right=c?c*this._renderService.dimensions.css.cell.width+"px":"":r.style.left=c?c*this._renderService.dimensions.css.cell.width+"px":""}_removeDecoration(f){this._decorationElements.get(f)?.remove(),this._decorationElements.delete(f),f.dispose()}};a.BufferDecorationRenderer=C=_([v(1,y.IBufferService),v(2,l.ICoreBrowserService),v(3,y.IDecorationService),v(4,l.IRenderService)],C)},5871:(W,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.ColorZoneStore=void 0,a.ColorZoneStore=class{constructor(){this._zones=[],this._zonePool=[],this._zonePoolIndex=0,this._linePadding={full:0,left:0,center:0,right:0}}get zones(){return this._zonePool.length=Math.min(this._zonePool.length,this._zones.length),this._zones}clear(){this._zones.length=0,this._zonePoolIndex=0}addDecoration(d){if(d.options.overviewRulerOptions){for(const _ of this._zones)if(_.color===d.options.overviewRulerOptions.color&&_.position===d.options.overviewRulerOptions.position){if(this._lineIntersectsZone(_,d.marker.line))return;if(this._lineAdjacentToZone(_,d.marker.line,d.options.overviewRulerOptions.position))return void this._addLineToZone(_,d.marker.line)}if(this._zonePoolIndex<this._zonePool.length)return this._zonePool[this._zonePoolIndex].color=d.options.overviewRulerOptions.color,this._zonePool[this._zonePoolIndex].position=d.options.overviewRulerOptions.position,this._zonePool[this._zonePoolIndex].startBufferLine=d.marker.line,this._zonePool[this._zonePoolIndex].endBufferLine=d.marker.line,void this._zones.push(this._zonePool[this._zonePoolIndex++]);this._zones.push({color:d.options.overviewRulerOptions.color,position:d.options.overviewRulerOptions.position,startBufferLine:d.marker.line,endBufferLine:d.marker.line}),this._zonePool.push(this._zones[this._zones.length-1]),this._zonePoolIndex++}}setPadding(d){this._linePadding=d}_lineIntersectsZone(d,_){return _>=d.startBufferLine&&_<=d.endBufferLine}_lineAdjacentToZone(d,_,v){return _>=d.startBufferLine-this._linePadding[v||"full"]&&_<=d.endBufferLine+this._linePadding[v||"full"]}_addLineToZone(d,_){d.startBufferLine=Math.min(d.startBufferLine,_),d.endBufferLine=Math.max(d.endBufferLine,_)}}},5744:function(W,a,d){var _=this&&this.__decorate||function(h,m,w,S){var E,p=arguments.length,b=p<3?m:S===null?S=Object.getOwnPropertyDescriptor(m,w):S;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")b=Reflect.decorate(h,m,w,S);else for(var L=h.length-1;L>=0;L--)(E=h[L])&&(b=(p<3?E(b):p>3?E(m,w,b):E(m,w))||b);return p>3&&b&&Object.defineProperty(m,w,b),b},v=this&&this.__param||function(h,m){return function(w,S){m(w,S,h)}};Object.defineProperty(a,"__esModule",{value:!0}),a.OverviewRulerRenderer=void 0;const l=d(5871),g=d(4725),y=d(844),C=d(2585),f={full:0,left:0,center:0,right:0},r={full:0,left:0,center:0,right:0},c={full:0,left:0,center:0,right:0};let o=a.OverviewRulerRenderer=class extends y.Disposable{get _width(){return this._optionsService.options.overviewRulerWidth||0}constructor(h,m,w,S,E,p,b){super(),this._viewportElement=h,this._screenElement=m,this._bufferService=w,this._decorationService=S,this._renderService=E,this._optionsService=p,this._coreBrowserService=b,this._colorZoneStore=new l.ColorZoneStore,this._shouldUpdateDimensions=!0,this._shouldUpdateAnchor=!0,this._lastKnownBufferLength=0,this._canvas=this._coreBrowserService.mainDocument.createElement("canvas"),this._canvas.classList.add("xterm-decoration-overview-ruler"),this._refreshCanvasDimensions(),this._viewportElement.parentElement?.insertBefore(this._canvas,this._viewportElement);const L=this._canvas.getContext("2d");if(!L)throw new Error("Ctx cannot be null");this._ctx=L,this._registerDecorationListeners(),this._registerBufferChangeListeners(),this._registerDimensionChangeListeners(),this.register((0,y.toDisposable)((()=>{this._canvas?.remove()})))}_registerDecorationListeners(){this.register(this._decorationService.onDecorationRegistered((()=>this._queueRefresh(void 0,!0)))),this.register(this._decorationService.onDecorationRemoved((()=>this._queueRefresh(void 0,!0))))}_registerBufferChangeListeners(){this.register(this._renderService.onRenderedViewportChange((()=>this._queueRefresh()))),this.register(this._bufferService.buffers.onBufferActivate((()=>{this._canvas.style.display=this._bufferService.buffer===this._bufferService.buffers.alt?"none":"block"}))),this.register(this._bufferService.onScroll((()=>{this._lastKnownBufferLength!==this._bufferService.buffers.normal.lines.length&&(this._refreshDrawHeightConstants(),this._refreshColorZonePadding())})))}_registerDimensionChangeListeners(){this.register(this._renderService.onRender((()=>{this._containerHeight&&this._containerHeight===this._screenElement.clientHeight||(this._queueRefresh(!0),this._containerHeight=this._screenElement.clientHeight)}))),this.register(this._optionsService.onSpecificOptionChange("overviewRulerWidth",(()=>this._queueRefresh(!0)))),this.register(this._coreBrowserService.onDprChange((()=>this._queueRefresh(!0)))),this._queueRefresh(!0)}_refreshDrawConstants(){const h=Math.floor(this._canvas.width/3),m=Math.ceil(this._canvas.width/3);r.full=this._canvas.width,r.left=h,r.center=m,r.right=h,this._refreshDrawHeightConstants(),c.full=0,c.left=0,c.center=r.left,c.right=r.left+r.center}_refreshDrawHeightConstants(){f.full=Math.round(2*this._coreBrowserService.dpr);const h=this._canvas.height/this._bufferService.buffer.lines.length,m=Math.round(Math.max(Math.min(h,12),6)*this._coreBrowserService.dpr);f.left=m,f.center=m,f.right=m}_refreshColorZonePadding(){this._colorZoneStore.setPadding({full:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*f.full),left:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*f.left),center:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*f.center),right:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*f.right)}),this._lastKnownBufferLength=this._bufferService.buffers.normal.lines.length}_refreshCanvasDimensions(){this._canvas.style.width=`${this._width}px`,this._canvas.width=Math.round(this._width*this._coreBrowserService.dpr),this._canvas.style.height=`${this._screenElement.clientHeight}px`,this._canvas.height=Math.round(this._screenElement.clientHeight*this._coreBrowserService.dpr),this._refreshDrawConstants(),this._refreshColorZonePadding()}_refreshDecorations(){this._shouldUpdateDimensions&&this._refreshCanvasDimensions(),this._ctx.clearRect(0,0,this._canvas.width,this._canvas.height),this._colorZoneStore.clear();for(const m of this._decorationService.decorations)this._colorZoneStore.addDecoration(m);this._ctx.lineWidth=1;const h=this._colorZoneStore.zones;for(const m of h)m.position!=="full"&&this._renderColorZone(m);for(const m of h)m.position==="full"&&this._renderColorZone(m);this._shouldUpdateDimensions=!1,this._shouldUpdateAnchor=!1}_renderColorZone(h){this._ctx.fillStyle=h.color,this._ctx.fillRect(c[h.position||"full"],Math.round((this._canvas.height-1)*(h.startBufferLine/this._bufferService.buffers.active.lines.length)-f[h.position||"full"]/2),r[h.position||"full"],Math.round((this._canvas.height-1)*((h.endBufferLine-h.startBufferLine)/this._bufferService.buffers.active.lines.length)+f[h.position||"full"]))}_queueRefresh(h,m){this._shouldUpdateDimensions=h||this._shouldUpdateDimensions,this._shouldUpdateAnchor=m||this._shouldUpdateAnchor,this._animationFrame===void 0&&(this._animationFrame=this._coreBrowserService.window.requestAnimationFrame((()=>{this._refreshDecorations(),this._animationFrame=void 0})))}};a.OverviewRulerRenderer=o=_([v(2,C.IBufferService),v(3,C.IDecorationService),v(4,g.IRenderService),v(5,C.IOptionsService),v(6,g.ICoreBrowserService)],o)},2950:function(W,a,d){var _=this&&this.__decorate||function(f,r,c,o){var h,m=arguments.length,w=m<3?r:o===null?o=Object.getOwnPropertyDescriptor(r,c):o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")w=Reflect.decorate(f,r,c,o);else for(var S=f.length-1;S>=0;S--)(h=f[S])&&(w=(m<3?h(w):m>3?h(r,c,w):h(r,c))||w);return m>3&&w&&Object.defineProperty(r,c,w),w},v=this&&this.__param||function(f,r){return function(c,o){r(c,o,f)}};Object.defineProperty(a,"__esModule",{value:!0}),a.CompositionHelper=void 0;const l=d(4725),g=d(2585),y=d(2584);let C=a.CompositionHelper=class{get isComposing(){return this._isComposing}constructor(f,r,c,o,h,m){this._textarea=f,this._compositionView=r,this._bufferService=c,this._optionsService=o,this._coreService=h,this._renderService=m,this._isComposing=!1,this._isSendingComposition=!1,this._compositionPosition={start:0,end:0},this._dataAlreadySent=""}compositionstart(){this._isComposing=!0,this._compositionPosition.start=this._textarea.value.length,this._compositionView.textContent="",this._dataAlreadySent="",this._compositionView.classList.add("active")}compositionupdate(f){this._compositionView.textContent=f.data,this.updateCompositionElements(),setTimeout((()=>{this._compositionPosition.end=this._textarea.value.length}),0)}compositionend(){this._finalizeComposition(!0)}keydown(f){if(this._isComposing||this._isSendingComposition){if(f.keyCode===229||f.keyCode===16||f.keyCode===17||f.keyCode===18)return!1;this._finalizeComposition(!1)}return f.keyCode!==229||(this._handleAnyTextareaChanges(),!1)}_finalizeComposition(f){if(this._compositionView.classList.remove("active"),this._isComposing=!1,f){const r={start:this._compositionPosition.start,end:this._compositionPosition.end};this._isSendingComposition=!0,setTimeout((()=>{if(this._isSendingComposition){let c;this._isSendingComposition=!1,r.start+=this._dataAlreadySent.length,c=this._isComposing?this._textarea.value.substring(r.start,r.end):this._textarea.value.substring(r.start),c.length>0&&this._coreService.triggerDataEvent(c,!0)}}),0)}else{this._isSendingComposition=!1;const r=this._textarea.value.substring(this._compositionPosition.start,this._compositionPosition.end);this._coreService.triggerDataEvent(r,!0)}}_handleAnyTextareaChanges(){const f=this._textarea.value;setTimeout((()=>{if(!this._isComposing){const r=this._textarea.value,c=r.replace(f,"");this._dataAlreadySent=c,r.length>f.length?this._coreService.triggerDataEvent(c,!0):r.length<f.length?this._coreService.triggerDataEvent(`${y.C0.DEL}`,!0):r.length===f.length&&r!==f&&this._coreService.triggerDataEvent(r,!0)}}),0)}updateCompositionElements(f){if(this._isComposing){if(this._bufferService.buffer.isCursorInViewport){const r=Math.min(this._bufferService.buffer.x,this._bufferService.cols-1),c=this._renderService.dimensions.css.cell.height,o=this._bufferService.buffer.y*this._renderService.dimensions.css.cell.height,h=r*this._renderService.dimensions.css.cell.width;this._compositionView.style.left=h+"px",this._compositionView.style.top=o+"px",this._compositionView.style.height=c+"px",this._compositionView.style.lineHeight=c+"px",this._compositionView.style.fontFamily=this._optionsService.rawOptions.fontFamily,this._compositionView.style.fontSize=this._optionsService.rawOptions.fontSize+"px";const m=this._compositionView.getBoundingClientRect();this._textarea.style.left=h+"px",this._textarea.style.top=o+"px",this._textarea.style.width=Math.max(m.width,1)+"px",this._textarea.style.height=Math.max(m.height,1)+"px",this._textarea.style.lineHeight=m.height+"px"}f||setTimeout((()=>this.updateCompositionElements(!0)),0)}}};a.CompositionHelper=C=_([v(2,g.IBufferService),v(3,g.IOptionsService),v(4,g.ICoreService),v(5,l.IRenderService)],C)},9806:(W,a)=>{function d(_,v,l){const g=l.getBoundingClientRect(),y=_.getComputedStyle(l),C=parseInt(y.getPropertyValue("padding-left")),f=parseInt(y.getPropertyValue("padding-top"));return[v.clientX-g.left-C,v.clientY-g.top-f]}Object.defineProperty(a,"__esModule",{value:!0}),a.getCoords=a.getCoordsRelativeToElement=void 0,a.getCoordsRelativeToElement=d,a.getCoords=function(_,v,l,g,y,C,f,r,c){if(!C)return;const o=d(_,v,l);return o?(o[0]=Math.ceil((o[0]+(c?f/2:0))/f),o[1]=Math.ceil(o[1]/r),o[0]=Math.min(Math.max(o[0],1),g+(c?1:0)),o[1]=Math.min(Math.max(o[1],1),y),o):void 0}},9504:(W,a,d)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.moveToCellSequence=void 0;const _=d(2584);function v(r,c,o,h){const m=r-l(r,o),w=c-l(c,o),S=Math.abs(m-w)-(function(E,p,b){let L=0;const B=E-l(E,b),D=p-l(p,b);for(let M=0;M<Math.abs(B-D);M++){const z=g(E,p)==="A"?-1:1;b.buffer.lines.get(B+z*M)?.isWrapped&&L++}return L})(r,c,o);return f(S,C(g(r,c),h))}function l(r,c){let o=0,h=c.buffer.lines.get(r),m=h?.isWrapped;for(;m&&r>=0&&r<c.rows;)o++,h=c.buffer.lines.get(--r),m=h?.isWrapped;return o}function g(r,c){return r>c?"A":"B"}function y(r,c,o,h,m,w){let S=r,E=c,p="";for(;S!==o||E!==h;)S+=m?1:-1,m&&S>w.cols-1?(p+=w.buffer.translateBufferLineToString(E,!1,r,S),S=0,r=0,E++):!m&&S<0&&(p+=w.buffer.translateBufferLineToString(E,!1,0,r+1),S=w.cols-1,r=S,E--);return p+w.buffer.translateBufferLineToString(E,!1,r,S)}function C(r,c){const o=c?"O":"[";return _.C0.ESC+o+r}function f(r,c){r=Math.floor(r);let o="";for(let h=0;h<r;h++)o+=c;return o}a.moveToCellSequence=function(r,c,o,h){const m=o.buffer.x,w=o.buffer.y;if(!o.buffer.hasScrollback)return(function(p,b,L,B,D,M){return v(b,B,D,M).length===0?"":f(y(p,b,p,b-l(b,D),!1,D).length,C("D",M))})(m,w,0,c,o,h)+v(w,c,o,h)+(function(p,b,L,B,D,M){let z;z=v(b,B,D,M).length>0?B-l(B,D):b;const V=B,U=(function(N,F,x,k,R,O){let G;return G=v(x,k,R,O).length>0?k-l(k,R):F,N<x&&G<=k||N>=x&&G<k?"C":"D"})(p,b,L,B,D,M);return f(y(p,z,L,V,U==="C",D).length,C(U,M))})(m,w,r,c,o,h);let S;if(w===c)return S=m>r?"D":"C",f(Math.abs(m-r),C(S,h));S=w>c?"D":"C";const E=Math.abs(w-c);return f((function(p,b){return b.cols-p})(w>c?r:m,o)+(E-1)*o.cols+1+((w>c?m:r)-1),C(S,h))}},1296:function(W,a,d){var _=this&&this.__decorate||function(M,z,V,U){var N,F=arguments.length,x=F<3?z:U===null?U=Object.getOwnPropertyDescriptor(z,V):U;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")x=Reflect.decorate(M,z,V,U);else for(var k=M.length-1;k>=0;k--)(N=M[k])&&(x=(F<3?N(x):F>3?N(z,V,x):N(z,V))||x);return F>3&&x&&Object.defineProperty(z,V,x),x},v=this&&this.__param||function(M,z){return function(V,U){z(V,U,M)}};Object.defineProperty(a,"__esModule",{value:!0}),a.DomRenderer=void 0;const l=d(3787),g=d(2550),y=d(2223),C=d(6171),f=d(6052),r=d(4725),c=d(8055),o=d(8460),h=d(844),m=d(2585),w="xterm-dom-renderer-owner-",S="xterm-rows",E="xterm-fg-",p="xterm-bg-",b="xterm-focus",L="xterm-selection";let B=1,D=a.DomRenderer=class extends h.Disposable{constructor(M,z,V,U,N,F,x,k,R,O,G,$,ne){super(),this._terminal=M,this._document=z,this._element=V,this._screenElement=U,this._viewportElement=N,this._helperContainer=F,this._linkifier2=x,this._charSizeService=R,this._optionsService=O,this._bufferService=G,this._coreBrowserService=$,this._themeService=ne,this._terminalClass=B++,this._rowElements=[],this._selectionRenderModel=(0,f.createSelectionRenderModel)(),this.onRequestRedraw=this.register(new o.EventEmitter).event,this._rowContainer=this._document.createElement("div"),this._rowContainer.classList.add(S),this._rowContainer.style.lineHeight="normal",this._rowContainer.setAttribute("aria-hidden","true"),this._refreshRowElements(this._bufferService.cols,this._bufferService.rows),this._selectionContainer=this._document.createElement("div"),this._selectionContainer.classList.add(L),this._selectionContainer.setAttribute("aria-hidden","true"),this.dimensions=(0,C.createRenderDimensions)(),this._updateDimensions(),this.register(this._optionsService.onOptionChange((()=>this._handleOptionsChanged()))),this.register(this._themeService.onChangeColors((ae=>this._injectCss(ae)))),this._injectCss(this._themeService.colors),this._rowFactory=k.createInstance(l.DomRendererRowFactory,document),this._element.classList.add(w+this._terminalClass),this._screenElement.appendChild(this._rowContainer),this._screenElement.appendChild(this._selectionContainer),this.register(this._linkifier2.onShowLinkUnderline((ae=>this._handleLinkHover(ae)))),this.register(this._linkifier2.onHideLinkUnderline((ae=>this._handleLinkLeave(ae)))),this.register((0,h.toDisposable)((()=>{this._element.classList.remove(w+this._terminalClass),this._rowContainer.remove(),this._selectionContainer.remove(),this._widthCache.dispose(),this._themeStyleElement.remove(),this._dimensionsStyleElement.remove()}))),this._widthCache=new g.WidthCache(this._document,this._helperContainer),this._widthCache.setFont(this._optionsService.rawOptions.fontFamily,this._optionsService.rawOptions.fontSize,this._optionsService.rawOptions.fontWeight,this._optionsService.rawOptions.fontWeightBold),this._setDefaultSpacing()}_updateDimensions(){const M=this._coreBrowserService.dpr;this.dimensions.device.char.width=this._charSizeService.width*M,this.dimensions.device.char.height=Math.ceil(this._charSizeService.height*M),this.dimensions.device.cell.width=this.dimensions.device.char.width+Math.round(this._optionsService.rawOptions.letterSpacing),this.dimensions.device.cell.height=Math.floor(this.dimensions.device.char.height*this._optionsService.rawOptions.lineHeight),this.dimensions.device.char.left=0,this.dimensions.device.char.top=0,this.dimensions.device.canvas.width=this.dimensions.device.cell.width*this._bufferService.cols,this.dimensions.device.canvas.height=this.dimensions.device.cell.height*this._bufferService.rows,this.dimensions.css.canvas.width=Math.round(this.dimensions.device.canvas.width/M),this.dimensions.css.canvas.height=Math.round(this.dimensions.device.canvas.height/M),this.dimensions.css.cell.width=this.dimensions.css.canvas.width/this._bufferService.cols,this.dimensions.css.cell.height=this.dimensions.css.canvas.height/this._bufferService.rows;for(const V of this._rowElements)V.style.width=`${this.dimensions.css.canvas.width}px`,V.style.height=`${this.dimensions.css.cell.height}px`,V.style.lineHeight=`${this.dimensions.css.cell.height}px`,V.style.overflow="hidden";this._dimensionsStyleElement||(this._dimensionsStyleElement=this._document.createElement("style"),this._screenElement.appendChild(this._dimensionsStyleElement));const z=`${this._terminalSelector} .${S} span { display: inline-block; height: 100%; vertical-align: top;}`;this._dimensionsStyleElement.textContent=z,this._selectionContainer.style.height=this._viewportElement.style.height,this._screenElement.style.width=`${this.dimensions.css.canvas.width}px`,this._screenElement.style.height=`${this.dimensions.css.canvas.height}px`}_injectCss(M){this._themeStyleElement||(this._themeStyleElement=this._document.createElement("style"),this._screenElement.appendChild(this._themeStyleElement));let z=`${this._terminalSelector} .${S} { color: ${M.foreground.css}; font-family: ${this._optionsService.rawOptions.fontFamily}; font-size: ${this._optionsService.rawOptions.fontSize}px; font-kerning: none; white-space: pre}`;z+=`${this._terminalSelector} .${S} .xterm-dim { color: ${c.color.multiplyOpacity(M.foreground,.5).css};}`,z+=`${this._terminalSelector} span:not(.xterm-bold) { font-weight: ${this._optionsService.rawOptions.fontWeight};}${this._terminalSelector} span.xterm-bold { font-weight: ${this._optionsService.rawOptions.fontWeightBold};}${this._terminalSelector} span.xterm-italic { font-style: italic;}`;const V=`blink_underline_${this._terminalClass}`,U=`blink_bar_${this._terminalClass}`,N=`blink_block_${this._terminalClass}`;z+=`@keyframes ${V} { 50% {  border-bottom-style: hidden; }}`,z+=`@keyframes ${U} { 50% {  box-shadow: none; }}`,z+=`@keyframes ${N} { 0% {  background-color: ${M.cursor.css};  color: ${M.cursorAccent.css}; } 50% {  background-color: inherit;  color: ${M.cursor.css}; }}`,z+=`${this._terminalSelector} .${S}.${b} .xterm-cursor.xterm-cursor-blink.xterm-cursor-underline { animation: ${V} 1s step-end infinite;}${this._terminalSelector} .${S}.${b} .xterm-cursor.xterm-cursor-blink.xterm-cursor-bar { animation: ${U} 1s step-end infinite;}${this._terminalSelector} .${S}.${b} .xterm-cursor.xterm-cursor-blink.xterm-cursor-block { animation: ${N} 1s step-end infinite;}${this._terminalSelector} .${S} .xterm-cursor.xterm-cursor-block { background-color: ${M.cursor.css}; color: ${M.cursorAccent.css};}${this._terminalSelector} .${S} .xterm-cursor.xterm-cursor-block:not(.xterm-cursor-blink) { background-color: ${M.cursor.css} !important; color: ${M.cursorAccent.css} !important;}${this._terminalSelector} .${S} .xterm-cursor.xterm-cursor-outline { outline: 1px solid ${M.cursor.css}; outline-offset: -1px;}${this._terminalSelector} .${S} .xterm-cursor.xterm-cursor-bar { box-shadow: ${this._optionsService.rawOptions.cursorWidth}px 0 0 ${M.cursor.css} inset;}${this._terminalSelector} .${S} .xterm-cursor.xterm-cursor-underline { border-bottom: 1px ${M.cursor.css}; border-bottom-style: solid; height: calc(100% - 1px);}`,z+=`${this._terminalSelector} .${L} { position: absolute; top: 0; left: 0; z-index: 1; pointer-events: none;}${this._terminalSelector}.focus .${L} div { position: absolute; background-color: ${M.selectionBackgroundOpaque.css};}${this._terminalSelector} .${L} div { position: absolute; background-color: ${M.selectionInactiveBackgroundOpaque.css};}`;for(const[F,x]of M.ansi.entries())z+=`${this._terminalSelector} .${E}${F} { color: ${x.css}; }${this._terminalSelector} .${E}${F}.xterm-dim { color: ${c.color.multiplyOpacity(x,.5).css}; }${this._terminalSelector} .${p}${F} { background-color: ${x.css}; }`;z+=`${this._terminalSelector} .${E}${y.INVERTED_DEFAULT_COLOR} { color: ${c.color.opaque(M.background).css}; }${this._terminalSelector} .${E}${y.INVERTED_DEFAULT_COLOR}.xterm-dim { color: ${c.color.multiplyOpacity(c.color.opaque(M.background),.5).css}; }${this._terminalSelector} .${p}${y.INVERTED_DEFAULT_COLOR} { background-color: ${M.foreground.css}; }`,this._themeStyleElement.textContent=z}_setDefaultSpacing(){const M=this.dimensions.css.cell.width-this._widthCache.get("W",!1,!1);this._rowContainer.style.letterSpacing=`${M}px`,this._rowFactory.defaultSpacing=M}handleDevicePixelRatioChange(){this._updateDimensions(),this._widthCache.clear(),this._setDefaultSpacing()}_refreshRowElements(M,z){for(let V=this._rowElements.length;V<=z;V++){const U=this._document.createElement("div");this._rowContainer.appendChild(U),this._rowElements.push(U)}for(;this._rowElements.length>z;)this._rowContainer.removeChild(this._rowElements.pop())}handleResize(M,z){this._refreshRowElements(M,z),this._updateDimensions(),this.handleSelectionChanged(this._selectionRenderModel.selectionStart,this._selectionRenderModel.selectionEnd,this._selectionRenderModel.columnSelectMode)}handleCharSizeChanged(){this._updateDimensions(),this._widthCache.clear(),this._setDefaultSpacing()}handleBlur(){this._rowContainer.classList.remove(b),this.renderRows(0,this._bufferService.rows-1)}handleFocus(){this._rowContainer.classList.add(b),this.renderRows(this._bufferService.buffer.y,this._bufferService.buffer.y)}handleSelectionChanged(M,z,V){if(this._selectionContainer.replaceChildren(),this._rowFactory.handleSelectionChanged(M,z,V),this.renderRows(0,this._bufferService.rows-1),!M||!z)return;this._selectionRenderModel.update(this._terminal,M,z,V);const U=this._selectionRenderModel.viewportStartRow,N=this._selectionRenderModel.viewportEndRow,F=this._selectionRenderModel.viewportCappedStartRow,x=this._selectionRenderModel.viewportCappedEndRow;if(F>=this._bufferService.rows||x<0)return;const k=this._document.createDocumentFragment();if(V){const R=M[0]>z[0];k.appendChild(this._createSelectionElement(F,R?z[0]:M[0],R?M[0]:z[0],x-F+1))}else{const R=U===F?M[0]:0,O=F===N?z[0]:this._bufferService.cols;k.appendChild(this._createSelectionElement(F,R,O));const G=x-F-1;if(k.appendChild(this._createSelectionElement(F+1,0,this._bufferService.cols,G)),F!==x){const $=N===x?z[0]:this._bufferService.cols;k.appendChild(this._createSelectionElement(x,0,$))}}this._selectionContainer.appendChild(k)}_createSelectionElement(M,z,V,U=1){const N=this._document.createElement("div"),F=z*this.dimensions.css.cell.width;let x=this.dimensions.css.cell.width*(V-z);return F+x>this.dimensions.css.canvas.width&&(x=this.dimensions.css.canvas.width-F),N.style.height=U*this.dimensions.css.cell.height+"px",N.style.top=M*this.dimensions.css.cell.height+"px",N.style.left=`${F}px`,N.style.width=`${x}px`,N}handleCursorMove(){}_handleOptionsChanged(){this._updateDimensions(),this._injectCss(this._themeService.colors),this._widthCache.setFont(this._optionsService.rawOptions.fontFamily,this._optionsService.rawOptions.fontSize,this._optionsService.rawOptions.fontWeight,this._optionsService.rawOptions.fontWeightBold),this._setDefaultSpacing()}clear(){for(const M of this._rowElements)M.replaceChildren()}renderRows(M,z){const V=this._bufferService.buffer,U=V.ybase+V.y,N=Math.min(V.x,this._bufferService.cols-1),F=this._optionsService.rawOptions.cursorBlink,x=this._optionsService.rawOptions.cursorStyle,k=this._optionsService.rawOptions.cursorInactiveStyle;for(let R=M;R<=z;R++){const O=R+V.ydisp,G=this._rowElements[R],$=V.lines.get(O);if(!G||!$)break;G.replaceChildren(...this._rowFactory.createRow($,O,O===U,x,k,N,F,this.dimensions.css.cell.width,this._widthCache,-1,-1))}}get _terminalSelector(){return`.${w}${this._terminalClass}`}_handleLinkHover(M){this._setCellUnderline(M.x1,M.x2,M.y1,M.y2,M.cols,!0)}_handleLinkLeave(M){this._setCellUnderline(M.x1,M.x2,M.y1,M.y2,M.cols,!1)}_setCellUnderline(M,z,V,U,N,F){V<0&&(M=0),U<0&&(z=0);const x=this._bufferService.rows-1;V=Math.max(Math.min(V,x),0),U=Math.max(Math.min(U,x),0),N=Math.min(N,this._bufferService.cols);const k=this._bufferService.buffer,R=k.ybase+k.y,O=Math.min(k.x,N-1),G=this._optionsService.rawOptions.cursorBlink,$=this._optionsService.rawOptions.cursorStyle,ne=this._optionsService.rawOptions.cursorInactiveStyle;for(let ae=V;ae<=U;++ae){const P=ae+k.ydisp,H=this._rowElements[ae],Q=k.lines.get(P);if(!H||!Q)break;H.replaceChildren(...this._rowFactory.createRow(Q,P,P===R,$,ne,O,G,this.dimensions.css.cell.width,this._widthCache,F?ae===V?M:0:-1,F?(ae===U?z:N)-1:-1))}}};a.DomRenderer=D=_([v(7,m.IInstantiationService),v(8,r.ICharSizeService),v(9,m.IOptionsService),v(10,m.IBufferService),v(11,r.ICoreBrowserService),v(12,r.IThemeService)],D)},3787:function(W,a,d){var _=this&&this.__decorate||function(S,E,p,b){var L,B=arguments.length,D=B<3?E:b===null?b=Object.getOwnPropertyDescriptor(E,p):b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")D=Reflect.decorate(S,E,p,b);else for(var M=S.length-1;M>=0;M--)(L=S[M])&&(D=(B<3?L(D):B>3?L(E,p,D):L(E,p))||D);return B>3&&D&&Object.defineProperty(E,p,D),D},v=this&&this.__param||function(S,E){return function(p,b){E(p,b,S)}};Object.defineProperty(a,"__esModule",{value:!0}),a.DomRendererRowFactory=void 0;const l=d(2223),g=d(643),y=d(511),C=d(2585),f=d(8055),r=d(4725),c=d(4269),o=d(6171),h=d(3734);let m=a.DomRendererRowFactory=class{constructor(S,E,p,b,L,B,D){this._document=S,this._characterJoinerService=E,this._optionsService=p,this._coreBrowserService=b,this._coreService=L,this._decorationService=B,this._themeService=D,this._workCell=new y.CellData,this._columnSelectMode=!1,this.defaultSpacing=0}handleSelectionChanged(S,E,p){this._selectionStart=S,this._selectionEnd=E,this._columnSelectMode=p}createRow(S,E,p,b,L,B,D,M,z,V,U){const N=[],F=this._characterJoinerService.getJoinedCharacters(E),x=this._themeService.colors;let k,R=S.getNoBgTrimmedLength();p&&R<B+1&&(R=B+1);let O=0,G="",$=0,ne=0,ae=0,P=!1,H=0,Q=!1,q=0;const te=[],le=V!==-1&&U!==-1;for(let pe=0;pe<R;pe++){S.loadCell(pe,this._workCell);let fe=this._workCell.getWidth();if(fe===0)continue;let Ce=!1,Fe=pe,ve=this._workCell;if(F.length>0&&pe===F[0][0]){Ce=!0;const Le=F.shift();ve=new c.JoinedCellData(this._workCell,S.translateToString(!0,Le[0],Le[1]),Le[1]-Le[0]),Fe=Le[1]-1,fe=ve.getWidth()}const Rt=this._isCellInSelection(pe,E),Zt=p&&pe===B,Te=le&&pe>=V&&pe<=U;let Ae=!1;this._decorationService.forEachDecorationAtCell(pe,E,void 0,(Le=>{Ae=!0}));let Re=ve.getChars()||g.WHITESPACE_CELL_CHAR;if(Re===" "&&(ve.isUnderline()||ve.isOverline())&&(Re=""),q=fe*M-z.get(Re,ve.isBold(),ve.isItalic()),k){if(O&&(Rt&&Q||!Rt&&!Q&&ve.bg===$)&&(Rt&&Q&&x.selectionForeground||ve.fg===ne)&&ve.extended.ext===ae&&Te===P&&q===H&&!Zt&&!Ce&&!Ae){ve.isInvisible()?G+=g.WHITESPACE_CELL_CHAR:G+=Re,O++;continue}O&&(k.textContent=G),k=this._document.createElement("span"),O=0,G=""}else k=this._document.createElement("span");if($=ve.bg,ne=ve.fg,ae=ve.extended.ext,P=Te,H=q,Q=Rt,Ce&&B>=pe&&B<=Fe&&(B=pe),!this._coreService.isCursorHidden&&Zt&&this._coreService.isCursorInitialized){if(te.push("xterm-cursor"),this._coreBrowserService.isFocused)D&&te.push("xterm-cursor-blink"),te.push(b==="bar"?"xterm-cursor-bar":b==="underline"?"xterm-cursor-underline":"xterm-cursor-block");else if(L)switch(L){case"outline":te.push("xterm-cursor-outline");break;case"block":te.push("xterm-cursor-block");break;case"bar":te.push("xterm-cursor-bar");break;case"underline":te.push("xterm-cursor-underline")}}if(ve.isBold()&&te.push("xterm-bold"),ve.isItalic()&&te.push("xterm-italic"),ve.isDim()&&te.push("xterm-dim"),G=ve.isInvisible()?g.WHITESPACE_CELL_CHAR:ve.getChars()||g.WHITESPACE_CELL_CHAR,ve.isUnderline()&&(te.push(`xterm-underline-${ve.extended.underlineStyle}`),G===" "&&(G=""),!ve.isUnderlineColorDefault()))if(ve.isUnderlineColorRGB())k.style.textDecorationColor=`rgb(${h.AttributeData.toColorRGB(ve.getUnderlineColor()).join(",")})`;else{let Le=ve.getUnderlineColor();this._optionsService.rawOptions.drawBoldTextInBrightColors&&ve.isBold()&&Le<8&&(Le+=8),k.style.textDecorationColor=x.ansi[Le].css}ve.isOverline()&&(te.push("xterm-overline"),G===" "&&(G="")),ve.isStrikethrough()&&te.push("xterm-strikethrough"),Te&&(k.style.textDecoration="underline");let he=ve.getFgColor(),ye=ve.getFgColorMode(),$e=ve.getBgColor(),Pe=ve.getBgColorMode();const zt=!!ve.isInverse();if(zt){const Le=he;he=$e,$e=Le;const Yt=ye;ye=Pe,Pe=Yt}let at,St,Ze,qe=!1;switch(this._decorationService.forEachDecorationAtCell(pe,E,void 0,(Le=>{Le.options.layer!=="top"&&qe||(Le.backgroundColorRGB&&(Pe=50331648,$e=Le.backgroundColorRGB.rgba>>8&16777215,at=Le.backgroundColorRGB),Le.foregroundColorRGB&&(ye=50331648,he=Le.foregroundColorRGB.rgba>>8&16777215,St=Le.foregroundColorRGB),qe=Le.options.layer==="top")})),!qe&&Rt&&(at=this._coreBrowserService.isFocused?x.selectionBackgroundOpaque:x.selectionInactiveBackgroundOpaque,$e=at.rgba>>8&16777215,Pe=50331648,qe=!0,x.selectionForeground&&(ye=50331648,he=x.selectionForeground.rgba>>8&16777215,St=x.selectionForeground)),qe&&te.push("xterm-decoration-top"),Pe){case 16777216:case 33554432:Ze=x.ansi[$e],te.push(`xterm-bg-${$e}`);break;case 50331648:Ze=f.channels.toColor($e>>16,$e>>8&255,255&$e),this._addStyle(k,`background-color:#${w(($e>>>0).toString(16),"0",6)}`);break;default:zt?(Ze=x.foreground,te.push(`xterm-bg-${l.INVERTED_DEFAULT_COLOR}`)):Ze=x.background}switch(at||ve.isDim()&&(at=f.color.multiplyOpacity(Ze,.5)),ye){case 16777216:case 33554432:ve.isBold()&&he<8&&this._optionsService.rawOptions.drawBoldTextInBrightColors&&(he+=8),this._applyMinimumContrast(k,Ze,x.ansi[he],ve,at,void 0)||te.push(`xterm-fg-${he}`);break;case 50331648:const Le=f.channels.toColor(he>>16&255,he>>8&255,255&he);this._applyMinimumContrast(k,Ze,Le,ve,at,St)||this._addStyle(k,`color:#${w(he.toString(16),"0",6)}`);break;default:this._applyMinimumContrast(k,Ze,x.foreground,ve,at,St)||zt&&te.push(`xterm-fg-${l.INVERTED_DEFAULT_COLOR}`)}te.length&&(k.className=te.join(" "),te.length=0),Zt||Ce||Ae?k.textContent=G:O++,q!==this.defaultSpacing&&(k.style.letterSpacing=`${q}px`),N.push(k),pe=Fe}return k&&O&&(k.textContent=G),N}_applyMinimumContrast(S,E,p,b,L,B){if(this._optionsService.rawOptions.minimumContrastRatio===1||(0,o.treatGlyphAsBackgroundColor)(b.getCode()))return!1;const D=this._getContrastCache(b);let M;if(L||B||(M=D.getColor(E.rgba,p.rgba)),M===void 0){const z=this._optionsService.rawOptions.minimumContrastRatio/(b.isDim()?2:1);M=f.color.ensureContrastRatio(L||E,B||p,z),D.setColor((L||E).rgba,(B||p).rgba,M??null)}return!!M&&(this._addStyle(S,`color:${M.css}`),!0)}_getContrastCache(S){return S.isDim()?this._themeService.colors.halfContrastCache:this._themeService.colors.contrastCache}_addStyle(S,E){S.setAttribute("style",`${S.getAttribute("style")||""}${E};`)}_isCellInSelection(S,E){const p=this._selectionStart,b=this._selectionEnd;return!(!p||!b)&&(this._columnSelectMode?p[0]<=b[0]?S>=p[0]&&E>=p[1]&&S<b[0]&&E<=b[1]:S<p[0]&&E>=p[1]&&S>=b[0]&&E<=b[1]:E>p[1]&&E<b[1]||p[1]===b[1]&&E===p[1]&&S>=p[0]&&S<b[0]||p[1]<b[1]&&E===b[1]&&S<b[0]||p[1]<b[1]&&E===p[1]&&S>=p[0])}};function w(S,E,p){for(;S.length<p;)S=E+S;return S}a.DomRendererRowFactory=m=_([v(1,r.ICharacterJoinerService),v(2,C.IOptionsService),v(3,r.ICoreBrowserService),v(4,C.ICoreService),v(5,C.IDecorationService),v(6,r.IThemeService)],m)},2550:(W,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.WidthCache=void 0,a.WidthCache=class{constructor(d,_){this._flat=new Float32Array(256),this._font="",this._fontSize=0,this._weight="normal",this._weightBold="bold",this._measureElements=[],this._container=d.createElement("div"),this._container.classList.add("xterm-width-cache-measure-container"),this._container.setAttribute("aria-hidden","true"),this._container.style.whiteSpace="pre",this._container.style.fontKerning="none";const v=d.createElement("span");v.classList.add("xterm-char-measure-element");const l=d.createElement("span");l.classList.add("xterm-char-measure-element"),l.style.fontWeight="bold";const g=d.createElement("span");g.classList.add("xterm-char-measure-element"),g.style.fontStyle="italic";const y=d.createElement("span");y.classList.add("xterm-char-measure-element"),y.style.fontWeight="bold",y.style.fontStyle="italic",this._measureElements=[v,l,g,y],this._container.appendChild(v),this._container.appendChild(l),this._container.appendChild(g),this._container.appendChild(y),_.appendChild(this._container),this.clear()}dispose(){this._container.remove(),this._measureElements.length=0,this._holey=void 0}clear(){this._flat.fill(-9999),this._holey=new Map}setFont(d,_,v,l){d===this._font&&_===this._fontSize&&v===this._weight&&l===this._weightBold||(this._font=d,this._fontSize=_,this._weight=v,this._weightBold=l,this._container.style.fontFamily=this._font,this._container.style.fontSize=`${this._fontSize}px`,this._measureElements[0].style.fontWeight=`${v}`,this._measureElements[1].style.fontWeight=`${l}`,this._measureElements[2].style.fontWeight=`${v}`,this._measureElements[3].style.fontWeight=`${l}`,this.clear())}get(d,_,v){let l=0;if(!_&&!v&&d.length===1&&(l=d.charCodeAt(0))<256){if(this._flat[l]!==-9999)return this._flat[l];const C=this._measure(d,0);return C>0&&(this._flat[l]=C),C}let g=d;_&&(g+="B"),v&&(g+="I");let y=this._holey.get(g);if(y===void 0){let C=0;_&&(C|=1),v&&(C|=2),y=this._measure(d,C),y>0&&this._holey.set(g,y)}return y}_measure(d,_){const v=this._measureElements[_];return v.textContent=d.repeat(32),v.offsetWidth/32}}},2223:(W,a,d)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.TEXT_BASELINE=a.DIM_OPACITY=a.INVERTED_DEFAULT_COLOR=void 0;const _=d(6114);a.INVERTED_DEFAULT_COLOR=257,a.DIM_OPACITY=.5,a.TEXT_BASELINE=_.isFirefox||_.isLegacyEdge?"bottom":"ideographic"},6171:(W,a)=>{function d(v){return 57508<=v&&v<=57558}function _(v){return v>=128512&&v<=128591||v>=127744&&v<=128511||v>=128640&&v<=128767||v>=9728&&v<=9983||v>=9984&&v<=10175||v>=65024&&v<=65039||v>=129280&&v<=129535||v>=127462&&v<=127487}Object.defineProperty(a,"__esModule",{value:!0}),a.computeNextVariantOffset=a.createRenderDimensions=a.treatGlyphAsBackgroundColor=a.allowRescaling=a.isEmoji=a.isRestrictedPowerlineGlyph=a.isPowerlineGlyph=a.throwIfFalsy=void 0,a.throwIfFalsy=function(v){if(!v)throw new Error("value must not be falsy");return v},a.isPowerlineGlyph=d,a.isRestrictedPowerlineGlyph=function(v){return 57520<=v&&v<=57527},a.isEmoji=_,a.allowRescaling=function(v,l,g,y){return l===1&&g>Math.ceil(1.5*y)&&v!==void 0&&v>255&&!_(v)&&!d(v)&&!(function(C){return 57344<=C&&C<=63743})(v)},a.treatGlyphAsBackgroundColor=function(v){return d(v)||(function(l){return 9472<=l&&l<=9631})(v)},a.createRenderDimensions=function(){return{css:{canvas:{width:0,height:0},cell:{width:0,height:0}},device:{canvas:{width:0,height:0},cell:{width:0,height:0},char:{width:0,height:0,left:0,top:0}}}},a.computeNextVariantOffset=function(v,l,g=0){return(v-(2*Math.round(l)-g))%(2*Math.round(l))}},6052:(W,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.createSelectionRenderModel=void 0;class d{constructor(){this.clear()}clear(){this.hasSelection=!1,this.columnSelectMode=!1,this.viewportStartRow=0,this.viewportEndRow=0,this.viewportCappedStartRow=0,this.viewportCappedEndRow=0,this.startCol=0,this.endCol=0,this.selectionStart=void 0,this.selectionEnd=void 0}update(v,l,g,y=!1){if(this.selectionStart=l,this.selectionEnd=g,!l||!g||l[0]===g[0]&&l[1]===g[1])return void this.clear();const C=v.buffers.active.ydisp,f=l[1]-C,r=g[1]-C,c=Math.max(f,0),o=Math.min(r,v.rows-1);c>=v.rows||o<0?this.clear():(this.hasSelection=!0,this.columnSelectMode=y,this.viewportStartRow=f,this.viewportEndRow=r,this.viewportCappedStartRow=c,this.viewportCappedEndRow=o,this.startCol=l[0],this.endCol=g[0])}isCellSelected(v,l,g){return!!this.hasSelection&&(g-=v.buffer.active.viewportY,this.columnSelectMode?this.startCol<=this.endCol?l>=this.startCol&&g>=this.viewportCappedStartRow&&l<this.endCol&&g<=this.viewportCappedEndRow:l<this.startCol&&g>=this.viewportCappedStartRow&&l>=this.endCol&&g<=this.viewportCappedEndRow:g>this.viewportStartRow&&g<this.viewportEndRow||this.viewportStartRow===this.viewportEndRow&&g===this.viewportStartRow&&l>=this.startCol&&l<this.endCol||this.viewportStartRow<this.viewportEndRow&&g===this.viewportEndRow&&l<this.endCol||this.viewportStartRow<this.viewportEndRow&&g===this.viewportStartRow&&l>=this.startCol)}}a.createSelectionRenderModel=function(){return new d}},456:(W,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.SelectionModel=void 0,a.SelectionModel=class{constructor(d){this._bufferService=d,this.isSelectAllActive=!1,this.selectionStartLength=0}clearSelection(){this.selectionStart=void 0,this.selectionEnd=void 0,this.isSelectAllActive=!1,this.selectionStartLength=0}get finalSelectionStart(){return this.isSelectAllActive?[0,0]:this.selectionEnd&&this.selectionStart&&this.areSelectionValuesReversed()?this.selectionEnd:this.selectionStart}get finalSelectionEnd(){if(this.isSelectAllActive)return[this._bufferService.cols,this._bufferService.buffer.ybase+this._bufferService.rows-1];if(this.selectionStart){if(!this.selectionEnd||this.areSelectionValuesReversed()){const d=this.selectionStart[0]+this.selectionStartLength;return d>this._bufferService.cols?d%this._bufferService.cols==0?[this._bufferService.cols,this.selectionStart[1]+Math.floor(d/this._bufferService.cols)-1]:[d%this._bufferService.cols,this.selectionStart[1]+Math.floor(d/this._bufferService.cols)]:[d,this.selectionStart[1]]}if(this.selectionStartLength&&this.selectionEnd[1]===this.selectionStart[1]){const d=this.selectionStart[0]+this.selectionStartLength;return d>this._bufferService.cols?[d%this._bufferService.cols,this.selectionStart[1]+Math.floor(d/this._bufferService.cols)]:[Math.max(d,this.selectionEnd[0]),this.selectionEnd[1]]}return this.selectionEnd}}areSelectionValuesReversed(){const d=this.selectionStart,_=this.selectionEnd;return!(!d||!_)&&(d[1]>_[1]||d[1]===_[1]&&d[0]>_[0])}handleTrim(d){return this.selectionStart&&(this.selectionStart[1]-=d),this.selectionEnd&&(this.selectionEnd[1]-=d),this.selectionEnd&&this.selectionEnd[1]<0?(this.clearSelection(),!0):(this.selectionStart&&this.selectionStart[1]<0&&(this.selectionStart[1]=0),!1)}}},428:function(W,a,d){var _=this&&this.__decorate||function(o,h,m,w){var S,E=arguments.length,p=E<3?h:w===null?w=Object.getOwnPropertyDescriptor(h,m):w;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(o,h,m,w);else for(var b=o.length-1;b>=0;b--)(S=o[b])&&(p=(E<3?S(p):E>3?S(h,m,p):S(h,m))||p);return E>3&&p&&Object.defineProperty(h,m,p),p},v=this&&this.__param||function(o,h){return function(m,w){h(m,w,o)}};Object.defineProperty(a,"__esModule",{value:!0}),a.CharSizeService=void 0;const l=d(2585),g=d(8460),y=d(844);let C=a.CharSizeService=class extends y.Disposable{get hasValidSize(){return this.width>0&&this.height>0}constructor(o,h,m){super(),this._optionsService=m,this.width=0,this.height=0,this._onCharSizeChange=this.register(new g.EventEmitter),this.onCharSizeChange=this._onCharSizeChange.event;try{this._measureStrategy=this.register(new c(this._optionsService))}catch{this._measureStrategy=this.register(new r(o,h,this._optionsService))}this.register(this._optionsService.onMultipleOptionChange(["fontFamily","fontSize"],(()=>this.measure())))}measure(){const o=this._measureStrategy.measure();o.width===this.width&&o.height===this.height||(this.width=o.width,this.height=o.height,this._onCharSizeChange.fire())}};a.CharSizeService=C=_([v(2,l.IOptionsService)],C);class f extends y.Disposable{constructor(){super(...arguments),this._result={width:0,height:0}}_validateAndSet(h,m){h!==void 0&&h>0&&m!==void 0&&m>0&&(this._result.width=h,this._result.height=m)}}class r extends f{constructor(h,m,w){super(),this._document=h,this._parentElement=m,this._optionsService=w,this._measureElement=this._document.createElement("span"),this._measureElement.classList.add("xterm-char-measure-element"),this._measureElement.textContent="W".repeat(32),this._measureElement.setAttribute("aria-hidden","true"),this._measureElement.style.whiteSpace="pre",this._measureElement.style.fontKerning="none",this._parentElement.appendChild(this._measureElement)}measure(){return this._measureElement.style.fontFamily=this._optionsService.rawOptions.fontFamily,this._measureElement.style.fontSize=`${this._optionsService.rawOptions.fontSize}px`,this._validateAndSet(Number(this._measureElement.offsetWidth)/32,Number(this._measureElement.offsetHeight)),this._result}}class c extends f{constructor(h){super(),this._optionsService=h,this._canvas=new OffscreenCanvas(100,100),this._ctx=this._canvas.getContext("2d");const m=this._ctx.measureText("W");if(!("width"in m&&"fontBoundingBoxAscent"in m&&"fontBoundingBoxDescent"in m))throw new Error("Required font metrics not supported")}measure(){this._ctx.font=`${this._optionsService.rawOptions.fontSize}px ${this._optionsService.rawOptions.fontFamily}`;const h=this._ctx.measureText("W");return this._validateAndSet(h.width,h.fontBoundingBoxAscent+h.fontBoundingBoxDescent),this._result}}},4269:function(W,a,d){var _=this&&this.__decorate||function(c,o,h,m){var w,S=arguments.length,E=S<3?o:m===null?m=Object.getOwnPropertyDescriptor(o,h):m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")E=Reflect.decorate(c,o,h,m);else for(var p=c.length-1;p>=0;p--)(w=c[p])&&(E=(S<3?w(E):S>3?w(o,h,E):w(o,h))||E);return S>3&&E&&Object.defineProperty(o,h,E),E},v=this&&this.__param||function(c,o){return function(h,m){o(h,m,c)}};Object.defineProperty(a,"__esModule",{value:!0}),a.CharacterJoinerService=a.JoinedCellData=void 0;const l=d(3734),g=d(643),y=d(511),C=d(2585);class f extends l.AttributeData{constructor(o,h,m){super(),this.content=0,this.combinedData="",this.fg=o.fg,this.bg=o.bg,this.combinedData=h,this._width=m}isCombined(){return 2097152}getWidth(){return this._width}getChars(){return this.combinedData}getCode(){return 2097151}setFromCharData(o){throw new Error("not implemented")}getAsCharData(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]}}a.JoinedCellData=f;let r=a.CharacterJoinerService=class jf{constructor(o){this._bufferService=o,this._characterJoiners=[],this._nextCharacterJoinerId=0,this._workCell=new y.CellData}register(o){const h={id:this._nextCharacterJoinerId++,handler:o};return this._characterJoiners.push(h),h.id}deregister(o){for(let h=0;h<this._characterJoiners.length;h++)if(this._characterJoiners[h].id===o)return this._characterJoiners.splice(h,1),!0;return!1}getJoinedCharacters(o){if(this._characterJoiners.length===0)return[];const h=this._bufferService.buffer.lines.get(o);if(!h||h.length===0)return[];const m=[],w=h.translateToString(!0);let S=0,E=0,p=0,b=h.getFg(0),L=h.getBg(0);for(let B=0;B<h.getTrimmedLength();B++)if(h.loadCell(B,this._workCell),this._workCell.getWidth()!==0){if(this._workCell.fg!==b||this._workCell.bg!==L){if(B-S>1){const D=this._getJoinedRanges(w,p,E,h,S);for(let M=0;M<D.length;M++)m.push(D[M])}S=B,p=E,b=this._workCell.fg,L=this._workCell.bg}E+=this._workCell.getChars().length||g.WHITESPACE_CELL_CHAR.length}if(this._bufferService.cols-S>1){const B=this._getJoinedRanges(w,p,E,h,S);for(let D=0;D<B.length;D++)m.push(B[D])}return m}_getJoinedRanges(o,h,m,w,S){const E=o.substring(h,m);let p=[];try{p=this._characterJoiners[0].handler(E)}catch(b){console.error(b)}for(let b=1;b<this._characterJoiners.length;b++)try{const L=this._characterJoiners[b].handler(E);for(let B=0;B<L.length;B++)jf._mergeRanges(p,L[B])}catch(L){console.error(L)}return this._stringRangesToCellRanges(p,w,S),p}_stringRangesToCellRanges(o,h,m){let w=0,S=!1,E=0,p=o[w];if(p){for(let b=m;b<this._bufferService.cols;b++){const L=h.getWidth(b),B=h.getString(b).length||g.WHITESPACE_CELL_CHAR.length;if(L!==0){if(!S&&p[0]<=E&&(p[0]=b,S=!0),p[1]<=E){if(p[1]=b,p=o[++w],!p)break;p[0]<=E?(p[0]=b,S=!0):S=!1}E+=B}}p&&(p[1]=this._bufferService.cols)}}static _mergeRanges(o,h){let m=!1;for(let w=0;w<o.length;w++){const S=o[w];if(m){if(h[1]<=S[0])return o[w-1][1]=h[1],o;if(h[1]<=S[1])return o[w-1][1]=Math.max(h[1],S[1]),o.splice(w,1),o;o.splice(w,1),w--}else{if(h[1]<=S[0])return o.splice(w,0,h),o;if(h[1]<=S[1])return S[0]=Math.min(h[0],S[0]),o;h[0]<S[1]&&(S[0]=Math.min(h[0],S[0]),m=!0)}}return m?o[o.length-1][1]=h[1]:o.push(h),o}};a.CharacterJoinerService=r=_([v(0,C.IBufferService)],r)},5114:(W,a,d)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.CoreBrowserService=void 0;const _=d(844),v=d(8460),l=d(3656);class g extends _.Disposable{constructor(f,r,c){super(),this._textarea=f,this._window=r,this.mainDocument=c,this._isFocused=!1,this._cachedIsFocused=void 0,this._screenDprMonitor=new y(this._window),this._onDprChange=this.register(new v.EventEmitter),this.onDprChange=this._onDprChange.event,this._onWindowChange=this.register(new v.EventEmitter),this.onWindowChange=this._onWindowChange.event,this.register(this.onWindowChange((o=>this._screenDprMonitor.setWindow(o)))),this.register((0,v.forwardEvent)(this._screenDprMonitor.onDprChange,this._onDprChange)),this._textarea.addEventListener("focus",(()=>this._isFocused=!0)),this._textarea.addEventListener("blur",(()=>this._isFocused=!1))}get window(){return this._window}set window(f){this._window!==f&&(this._window=f,this._onWindowChange.fire(this._window))}get dpr(){return this.window.devicePixelRatio}get isFocused(){return this._cachedIsFocused===void 0&&(this._cachedIsFocused=this._isFocused&&this._textarea.ownerDocument.hasFocus(),queueMicrotask((()=>this._cachedIsFocused=void 0))),this._cachedIsFocused}}a.CoreBrowserService=g;class y extends _.Disposable{constructor(f){super(),this._parentWindow=f,this._windowResizeListener=this.register(new _.MutableDisposable),this._onDprChange=this.register(new v.EventEmitter),this.onDprChange=this._onDprChange.event,this._outerListener=()=>this._setDprAndFireIfDiffers(),this._currentDevicePixelRatio=this._parentWindow.devicePixelRatio,this._updateDpr(),this._setWindowResizeListener(),this.register((0,_.toDisposable)((()=>this.clearListener())))}setWindow(f){this._parentWindow=f,this._setWindowResizeListener(),this._setDprAndFireIfDiffers()}_setWindowResizeListener(){this._windowResizeListener.value=(0,l.addDisposableDomListener)(this._parentWindow,"resize",(()=>this._setDprAndFireIfDiffers()))}_setDprAndFireIfDiffers(){this._parentWindow.devicePixelRatio!==this._currentDevicePixelRatio&&this._onDprChange.fire(this._parentWindow.devicePixelRatio),this._updateDpr()}_updateDpr(){this._outerListener&&(this._resolutionMediaMatchList?.removeListener(this._outerListener),this._currentDevicePixelRatio=this._parentWindow.devicePixelRatio,this._resolutionMediaMatchList=this._parentWindow.matchMedia(`screen and (resolution: ${this._parentWindow.devicePixelRatio}dppx)`),this._resolutionMediaMatchList.addListener(this._outerListener))}clearListener(){this._resolutionMediaMatchList&&this._outerListener&&(this._resolutionMediaMatchList.removeListener(this._outerListener),this._resolutionMediaMatchList=void 0,this._outerListener=void 0)}}},779:(W,a,d)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.LinkProviderService=void 0;const _=d(844);class v extends _.Disposable{constructor(){super(),this.linkProviders=[],this.register((0,_.toDisposable)((()=>this.linkProviders.length=0)))}registerLinkProvider(g){return this.linkProviders.push(g),{dispose:()=>{const y=this.linkProviders.indexOf(g);y!==-1&&this.linkProviders.splice(y,1)}}}}a.LinkProviderService=v},8934:function(W,a,d){var _=this&&this.__decorate||function(C,f,r,c){var o,h=arguments.length,m=h<3?f:c===null?c=Object.getOwnPropertyDescriptor(f,r):c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")m=Reflect.decorate(C,f,r,c);else for(var w=C.length-1;w>=0;w--)(o=C[w])&&(m=(h<3?o(m):h>3?o(f,r,m):o(f,r))||m);return h>3&&m&&Object.defineProperty(f,r,m),m},v=this&&this.__param||function(C,f){return function(r,c){f(r,c,C)}};Object.defineProperty(a,"__esModule",{value:!0}),a.MouseService=void 0;const l=d(4725),g=d(9806);let y=a.MouseService=class{constructor(C,f){this._renderService=C,this._charSizeService=f}getCoords(C,f,r,c,o){return(0,g.getCoords)(window,C,f,r,c,this._charSizeService.hasValidSize,this._renderService.dimensions.css.cell.width,this._renderService.dimensions.css.cell.height,o)}getMouseReportCoords(C,f){const r=(0,g.getCoordsRelativeToElement)(window,C,f);if(this._charSizeService.hasValidSize)return r[0]=Math.min(Math.max(r[0],0),this._renderService.dimensions.css.canvas.width-1),r[1]=Math.min(Math.max(r[1],0),this._renderService.dimensions.css.canvas.height-1),{col:Math.floor(r[0]/this._renderService.dimensions.css.cell.width),row:Math.floor(r[1]/this._renderService.dimensions.css.cell.height),x:Math.floor(r[0]),y:Math.floor(r[1])}}};a.MouseService=y=_([v(0,l.IRenderService),v(1,l.ICharSizeService)],y)},3230:function(W,a,d){var _=this&&this.__decorate||function(o,h,m,w){var S,E=arguments.length,p=E<3?h:w===null?w=Object.getOwnPropertyDescriptor(h,m):w;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(o,h,m,w);else for(var b=o.length-1;b>=0;b--)(S=o[b])&&(p=(E<3?S(p):E>3?S(h,m,p):S(h,m))||p);return E>3&&p&&Object.defineProperty(h,m,p),p},v=this&&this.__param||function(o,h){return function(m,w){h(m,w,o)}};Object.defineProperty(a,"__esModule",{value:!0}),a.RenderService=void 0;const l=d(6193),g=d(4725),y=d(8460),C=d(844),f=d(7226),r=d(2585);let c=a.RenderService=class extends C.Disposable{get dimensions(){return this._renderer.value.dimensions}constructor(o,h,m,w,S,E,p,b){super(),this._rowCount=o,this._charSizeService=w,this._renderer=this.register(new C.MutableDisposable),this._pausedResizeTask=new f.DebouncedIdleTask,this._observerDisposable=this.register(new C.MutableDisposable),this._isPaused=!1,this._needsFullRefresh=!1,this._isNextRenderRedrawOnly=!0,this._needsSelectionRefresh=!1,this._canvasWidth=0,this._canvasHeight=0,this._selectionState={start:void 0,end:void 0,columnSelectMode:!1},this._onDimensionsChange=this.register(new y.EventEmitter),this.onDimensionsChange=this._onDimensionsChange.event,this._onRenderedViewportChange=this.register(new y.EventEmitter),this.onRenderedViewportChange=this._onRenderedViewportChange.event,this._onRender=this.register(new y.EventEmitter),this.onRender=this._onRender.event,this._onRefreshRequest=this.register(new y.EventEmitter),this.onRefreshRequest=this._onRefreshRequest.event,this._renderDebouncer=new l.RenderDebouncer(((L,B)=>this._renderRows(L,B)),p),this.register(this._renderDebouncer),this.register(p.onDprChange((()=>this.handleDevicePixelRatioChange()))),this.register(E.onResize((()=>this._fullRefresh()))),this.register(E.buffers.onBufferActivate((()=>this._renderer.value?.clear()))),this.register(m.onOptionChange((()=>this._handleOptionsChanged()))),this.register(this._charSizeService.onCharSizeChange((()=>this.handleCharSizeChanged()))),this.register(S.onDecorationRegistered((()=>this._fullRefresh()))),this.register(S.onDecorationRemoved((()=>this._fullRefresh()))),this.register(m.onMultipleOptionChange(["customGlyphs","drawBoldTextInBrightColors","letterSpacing","lineHeight","fontFamily","fontSize","fontWeight","fontWeightBold","minimumContrastRatio","rescaleOverlappingGlyphs"],(()=>{this.clear(),this.handleResize(E.cols,E.rows),this._fullRefresh()}))),this.register(m.onMultipleOptionChange(["cursorBlink","cursorStyle"],(()=>this.refreshRows(E.buffer.y,E.buffer.y,!0)))),this.register(b.onChangeColors((()=>this._fullRefresh()))),this._registerIntersectionObserver(p.window,h),this.register(p.onWindowChange((L=>this._registerIntersectionObserver(L,h))))}_registerIntersectionObserver(o,h){if("IntersectionObserver"in o){const m=new o.IntersectionObserver((w=>this._handleIntersectionChange(w[w.length-1])),{threshold:0});m.observe(h),this._observerDisposable.value=(0,C.toDisposable)((()=>m.disconnect()))}}_handleIntersectionChange(o){this._isPaused=o.isIntersecting===void 0?o.intersectionRatio===0:!o.isIntersecting,this._isPaused||this._charSizeService.hasValidSize||this._charSizeService.measure(),!this._isPaused&&this._needsFullRefresh&&(this._pausedResizeTask.flush(),this.refreshRows(0,this._rowCount-1),this._needsFullRefresh=!1)}refreshRows(o,h,m=!1){this._isPaused?this._needsFullRefresh=!0:(m||(this._isNextRenderRedrawOnly=!1),this._renderDebouncer.refresh(o,h,this._rowCount))}_renderRows(o,h){this._renderer.value&&(o=Math.min(o,this._rowCount-1),h=Math.min(h,this._rowCount-1),this._renderer.value.renderRows(o,h),this._needsSelectionRefresh&&(this._renderer.value.handleSelectionChanged(this._selectionState.start,this._selectionState.end,this._selectionState.columnSelectMode),this._needsSelectionRefresh=!1),this._isNextRenderRedrawOnly||this._onRenderedViewportChange.fire({start:o,end:h}),this._onRender.fire({start:o,end:h}),this._isNextRenderRedrawOnly=!0)}resize(o,h){this._rowCount=h,this._fireOnCanvasResize()}_handleOptionsChanged(){this._renderer.value&&(this.refreshRows(0,this._rowCount-1),this._fireOnCanvasResize())}_fireOnCanvasResize(){this._renderer.value&&(this._renderer.value.dimensions.css.canvas.width===this._canvasWidth&&this._renderer.value.dimensions.css.canvas.height===this._canvasHeight||this._onDimensionsChange.fire(this._renderer.value.dimensions))}hasRenderer(){return!!this._renderer.value}setRenderer(o){this._renderer.value=o,this._renderer.value&&(this._renderer.value.onRequestRedraw((h=>this.refreshRows(h.start,h.end,!0))),this._needsSelectionRefresh=!0,this._fullRefresh())}addRefreshCallback(o){return this._renderDebouncer.addRefreshCallback(o)}_fullRefresh(){this._isPaused?this._needsFullRefresh=!0:this.refreshRows(0,this._rowCount-1)}clearTextureAtlas(){this._renderer.value&&(this._renderer.value.clearTextureAtlas?.(),this._fullRefresh())}handleDevicePixelRatioChange(){this._charSizeService.measure(),this._renderer.value&&(this._renderer.value.handleDevicePixelRatioChange(),this.refreshRows(0,this._rowCount-1))}handleResize(o,h){this._renderer.value&&(this._isPaused?this._pausedResizeTask.set((()=>this._renderer.value?.handleResize(o,h))):this._renderer.value.handleResize(o,h),this._fullRefresh())}handleCharSizeChanged(){this._renderer.value?.handleCharSizeChanged()}handleBlur(){this._renderer.value?.handleBlur()}handleFocus(){this._renderer.value?.handleFocus()}handleSelectionChanged(o,h,m){this._selectionState.start=o,this._selectionState.end=h,this._selectionState.columnSelectMode=m,this._renderer.value?.handleSelectionChanged(o,h,m)}handleCursorMove(){this._renderer.value?.handleCursorMove()}clear(){this._renderer.value?.clear()}};a.RenderService=c=_([v(2,r.IOptionsService),v(3,g.ICharSizeService),v(4,r.IDecorationService),v(5,r.IBufferService),v(6,g.ICoreBrowserService),v(7,g.IThemeService)],c)},9312:function(W,a,d){var _=this&&this.__decorate||function(p,b,L,B){var D,M=arguments.length,z=M<3?b:B===null?B=Object.getOwnPropertyDescriptor(b,L):B;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")z=Reflect.decorate(p,b,L,B);else for(var V=p.length-1;V>=0;V--)(D=p[V])&&(z=(M<3?D(z):M>3?D(b,L,z):D(b,L))||z);return M>3&&z&&Object.defineProperty(b,L,z),z},v=this&&this.__param||function(p,b){return function(L,B){b(L,B,p)}};Object.defineProperty(a,"__esModule",{value:!0}),a.SelectionService=void 0;const l=d(9806),g=d(9504),y=d(456),C=d(4725),f=d(8460),r=d(844),c=d(6114),o=d(4841),h=d(511),m=d(2585),w="",S=new RegExp(w,"g");let E=a.SelectionService=class extends r.Disposable{constructor(p,b,L,B,D,M,z,V,U){super(),this._element=p,this._screenElement=b,this._linkifier=L,this._bufferService=B,this._coreService=D,this._mouseService=M,this._optionsService=z,this._renderService=V,this._coreBrowserService=U,this._dragScrollAmount=0,this._enabled=!0,this._workCell=new h.CellData,this._mouseDownTimeStamp=0,this._oldHasSelection=!1,this._oldSelectionStart=void 0,this._oldSelectionEnd=void 0,this._onLinuxMouseSelection=this.register(new f.EventEmitter),this.onLinuxMouseSelection=this._onLinuxMouseSelection.event,this._onRedrawRequest=this.register(new f.EventEmitter),this.onRequestRedraw=this._onRedrawRequest.event,this._onSelectionChange=this.register(new f.EventEmitter),this.onSelectionChange=this._onSelectionChange.event,this._onRequestScrollLines=this.register(new f.EventEmitter),this.onRequestScrollLines=this._onRequestScrollLines.event,this._mouseMoveListener=N=>this._handleMouseMove(N),this._mouseUpListener=N=>this._handleMouseUp(N),this._coreService.onUserInput((()=>{this.hasSelection&&this.clearSelection()})),this._trimListener=this._bufferService.buffer.lines.onTrim((N=>this._handleTrim(N))),this.register(this._bufferService.buffers.onBufferActivate((N=>this._handleBufferActivate(N)))),this.enable(),this._model=new y.SelectionModel(this._bufferService),this._activeSelectionMode=0,this.register((0,r.toDisposable)((()=>{this._removeMouseDownListeners()})))}reset(){this.clearSelection()}disable(){this.clearSelection(),this._enabled=!1}enable(){this._enabled=!0}get selectionStart(){return this._model.finalSelectionStart}get selectionEnd(){return this._model.finalSelectionEnd}get hasSelection(){const p=this._model.finalSelectionStart,b=this._model.finalSelectionEnd;return!(!p||!b||p[0]===b[0]&&p[1]===b[1])}get selectionText(){const p=this._model.finalSelectionStart,b=this._model.finalSelectionEnd;if(!p||!b)return"";const L=this._bufferService.buffer,B=[];if(this._activeSelectionMode===3){if(p[0]===b[0])return"";const D=p[0]<b[0]?p[0]:b[0],M=p[0]<b[0]?b[0]:p[0];for(let z=p[1];z<=b[1];z++){const V=L.translateBufferLineToString(z,!0,D,M);B.push(V)}}else{const D=p[1]===b[1]?b[0]:void 0;B.push(L.translateBufferLineToString(p[1],!0,p[0],D));for(let M=p[1]+1;M<=b[1]-1;M++){const z=L.lines.get(M),V=L.translateBufferLineToString(M,!0);z?.isWrapped?B[B.length-1]+=V:B.push(V)}if(p[1]!==b[1]){const M=L.lines.get(b[1]),z=L.translateBufferLineToString(b[1],!0,0,b[0]);M&&M.isWrapped?B[B.length-1]+=z:B.push(z)}}return B.map((D=>D.replace(S," "))).join(c.isWindows?`\r
`:`
`)}clearSelection(){this._model.clearSelection(),this._removeMouseDownListeners(),this.refresh(),this._onSelectionChange.fire()}refresh(p){this._refreshAnimationFrame||(this._refreshAnimationFrame=this._coreBrowserService.window.requestAnimationFrame((()=>this._refresh()))),c.isLinux&&p&&this.selectionText.length&&this._onLinuxMouseSelection.fire(this.selectionText)}_refresh(){this._refreshAnimationFrame=void 0,this._onRedrawRequest.fire({start:this._model.finalSelectionStart,end:this._model.finalSelectionEnd,columnSelectMode:this._activeSelectionMode===3})}_isClickInSelection(p){const b=this._getMouseBufferCoords(p),L=this._model.finalSelectionStart,B=this._model.finalSelectionEnd;return!!(L&&B&&b)&&this._areCoordsInSelection(b,L,B)}isCellInSelection(p,b){const L=this._model.finalSelectionStart,B=this._model.finalSelectionEnd;return!(!L||!B)&&this._areCoordsInSelection([p,b],L,B)}_areCoordsInSelection(p,b,L){return p[1]>b[1]&&p[1]<L[1]||b[1]===L[1]&&p[1]===b[1]&&p[0]>=b[0]&&p[0]<L[0]||b[1]<L[1]&&p[1]===L[1]&&p[0]<L[0]||b[1]<L[1]&&p[1]===b[1]&&p[0]>=b[0]}_selectWordAtCursor(p,b){const L=this._linkifier.currentLink?.link?.range;if(L)return this._model.selectionStart=[L.start.x-1,L.start.y-1],this._model.selectionStartLength=(0,o.getRangeLength)(L,this._bufferService.cols),this._model.selectionEnd=void 0,!0;const B=this._getMouseBufferCoords(p);return!!B&&(this._selectWordAt(B,b),this._model.selectionEnd=void 0,!0)}selectAll(){this._model.isSelectAllActive=!0,this.refresh(),this._onSelectionChange.fire()}selectLines(p,b){this._model.clearSelection(),p=Math.max(p,0),b=Math.min(b,this._bufferService.buffer.lines.length-1),this._model.selectionStart=[0,p],this._model.selectionEnd=[this._bufferService.cols,b],this.refresh(),this._onSelectionChange.fire()}_handleTrim(p){this._model.handleTrim(p)&&this.refresh()}_getMouseBufferCoords(p){const b=this._mouseService.getCoords(p,this._screenElement,this._bufferService.cols,this._bufferService.rows,!0);if(b)return b[0]--,b[1]--,b[1]+=this._bufferService.buffer.ydisp,b}_getMouseEventScrollAmount(p){let b=(0,l.getCoordsRelativeToElement)(this._coreBrowserService.window,p,this._screenElement)[1];const L=this._renderService.dimensions.css.canvas.height;return b>=0&&b<=L?0:(b>L&&(b-=L),b=Math.min(Math.max(b,-50),50),b/=50,b/Math.abs(b)+Math.round(14*b))}shouldForceSelection(p){return c.isMac?p.altKey&&this._optionsService.rawOptions.macOptionClickForcesSelection:p.shiftKey}handleMouseDown(p){if(this._mouseDownTimeStamp=p.timeStamp,(p.button!==2||!this.hasSelection)&&p.button===0){if(!this._enabled){if(!this.shouldForceSelection(p))return;p.stopPropagation()}p.preventDefault(),this._dragScrollAmount=0,this._enabled&&p.shiftKey?this._handleIncrementalClick(p):p.detail===1?this._handleSingleClick(p):p.detail===2?this._handleDoubleClick(p):p.detail===3&&this._handleTripleClick(p),this._addMouseDownListeners(),this.refresh(!0)}}_addMouseDownListeners(){this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.addEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.addEventListener("mouseup",this._mouseUpListener)),this._dragScrollIntervalTimer=this._coreBrowserService.window.setInterval((()=>this._dragScroll()),50)}_removeMouseDownListeners(){this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.removeEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.removeEventListener("mouseup",this._mouseUpListener)),this._coreBrowserService.window.clearInterval(this._dragScrollIntervalTimer),this._dragScrollIntervalTimer=void 0}_handleIncrementalClick(p){this._model.selectionStart&&(this._model.selectionEnd=this._getMouseBufferCoords(p))}_handleSingleClick(p){if(this._model.selectionStartLength=0,this._model.isSelectAllActive=!1,this._activeSelectionMode=this.shouldColumnSelect(p)?3:0,this._model.selectionStart=this._getMouseBufferCoords(p),!this._model.selectionStart)return;this._model.selectionEnd=void 0;const b=this._bufferService.buffer.lines.get(this._model.selectionStart[1]);b&&b.length!==this._model.selectionStart[0]&&b.hasWidth(this._model.selectionStart[0])===0&&this._model.selectionStart[0]++}_handleDoubleClick(p){this._selectWordAtCursor(p,!0)&&(this._activeSelectionMode=1)}_handleTripleClick(p){const b=this._getMouseBufferCoords(p);b&&(this._activeSelectionMode=2,this._selectLineAt(b[1]))}shouldColumnSelect(p){return p.altKey&&!(c.isMac&&this._optionsService.rawOptions.macOptionClickForcesSelection)}_handleMouseMove(p){if(p.stopImmediatePropagation(),!this._model.selectionStart)return;const b=this._model.selectionEnd?[this._model.selectionEnd[0],this._model.selectionEnd[1]]:null;if(this._model.selectionEnd=this._getMouseBufferCoords(p),!this._model.selectionEnd)return void this.refresh(!0);this._activeSelectionMode===2?this._model.selectionEnd[1]<this._model.selectionStart[1]?this._model.selectionEnd[0]=0:this._model.selectionEnd[0]=this._bufferService.cols:this._activeSelectionMode===1&&this._selectToWordAt(this._model.selectionEnd),this._dragScrollAmount=this._getMouseEventScrollAmount(p),this._activeSelectionMode!==3&&(this._dragScrollAmount>0?this._model.selectionEnd[0]=this._bufferService.cols:this._dragScrollAmount<0&&(this._model.selectionEnd[0]=0));const L=this._bufferService.buffer;if(this._model.selectionEnd[1]<L.lines.length){const B=L.lines.get(this._model.selectionEnd[1]);B&&B.hasWidth(this._model.selectionEnd[0])===0&&this._model.selectionEnd[0]<this._bufferService.cols&&this._model.selectionEnd[0]++}b&&b[0]===this._model.selectionEnd[0]&&b[1]===this._model.selectionEnd[1]||this.refresh(!0)}_dragScroll(){if(this._model.selectionEnd&&this._model.selectionStart&&this._dragScrollAmount){this._onRequestScrollLines.fire({amount:this._dragScrollAmount,suppressScrollEvent:!1});const p=this._bufferService.buffer;this._dragScrollAmount>0?(this._activeSelectionMode!==3&&(this._model.selectionEnd[0]=this._bufferService.cols),this._model.selectionEnd[1]=Math.min(p.ydisp+this._bufferService.rows,p.lines.length-1)):(this._activeSelectionMode!==3&&(this._model.selectionEnd[0]=0),this._model.selectionEnd[1]=p.ydisp),this.refresh()}}_handleMouseUp(p){const b=p.timeStamp-this._mouseDownTimeStamp;if(this._removeMouseDownListeners(),this.selectionText.length<=1&&b<500&&p.altKey&&this._optionsService.rawOptions.altClickMovesCursor){if(this._bufferService.buffer.ybase===this._bufferService.buffer.ydisp){const L=this._mouseService.getCoords(p,this._element,this._bufferService.cols,this._bufferService.rows,!1);if(L&&L[0]!==void 0&&L[1]!==void 0){const B=(0,g.moveToCellSequence)(L[0]-1,L[1]-1,this._bufferService,this._coreService.decPrivateModes.applicationCursorKeys);this._coreService.triggerDataEvent(B,!0)}}}else this._fireEventIfSelectionChanged()}_fireEventIfSelectionChanged(){const p=this._model.finalSelectionStart,b=this._model.finalSelectionEnd,L=!(!p||!b||p[0]===b[0]&&p[1]===b[1]);L?p&&b&&(this._oldSelectionStart&&this._oldSelectionEnd&&p[0]===this._oldSelectionStart[0]&&p[1]===this._oldSelectionStart[1]&&b[0]===this._oldSelectionEnd[0]&&b[1]===this._oldSelectionEnd[1]||this._fireOnSelectionChange(p,b,L)):this._oldHasSelection&&this._fireOnSelectionChange(p,b,L)}_fireOnSelectionChange(p,b,L){this._oldSelectionStart=p,this._oldSelectionEnd=b,this._oldHasSelection=L,this._onSelectionChange.fire()}_handleBufferActivate(p){this.clearSelection(),this._trimListener.dispose(),this._trimListener=p.activeBuffer.lines.onTrim((b=>this._handleTrim(b)))}_convertViewportColToCharacterIndex(p,b){let L=b;for(let B=0;b>=B;B++){const D=p.loadCell(B,this._workCell).getChars().length;this._workCell.getWidth()===0?L--:D>1&&b!==B&&(L+=D-1)}return L}setSelection(p,b,L){this._model.clearSelection(),this._removeMouseDownListeners(),this._model.selectionStart=[p,b],this._model.selectionStartLength=L,this.refresh(),this._fireEventIfSelectionChanged()}rightClickSelect(p){this._isClickInSelection(p)||(this._selectWordAtCursor(p,!1)&&this.refresh(!0),this._fireEventIfSelectionChanged())}_getWordAt(p,b,L=!0,B=!0){if(p[0]>=this._bufferService.cols)return;const D=this._bufferService.buffer,M=D.lines.get(p[1]);if(!M)return;const z=D.translateBufferLineToString(p[1],!1);let V=this._convertViewportColToCharacterIndex(M,p[0]),U=V;const N=p[0]-V;let F=0,x=0,k=0,R=0;if(z.charAt(V)===" "){for(;V>0&&z.charAt(V-1)===" ";)V--;for(;U<z.length&&z.charAt(U+1)===" ";)U++}else{let $=p[0],ne=p[0];M.getWidth($)===0&&(F++,$--),M.getWidth(ne)===2&&(x++,ne++);const ae=M.getString(ne).length;for(ae>1&&(R+=ae-1,U+=ae-1);$>0&&V>0&&!this._isCharWordSeparator(M.loadCell($-1,this._workCell));){M.loadCell($-1,this._workCell);const P=this._workCell.getChars().length;this._workCell.getWidth()===0?(F++,$--):P>1&&(k+=P-1,V-=P-1),V--,$--}for(;ne<M.length&&U+1<z.length&&!this._isCharWordSeparator(M.loadCell(ne+1,this._workCell));){M.loadCell(ne+1,this._workCell);const P=this._workCell.getChars().length;this._workCell.getWidth()===2?(x++,ne++):P>1&&(R+=P-1,U+=P-1),U++,ne++}}U++;let O=V+N-F+k,G=Math.min(this._bufferService.cols,U-V+F+x-k-R);if(b||z.slice(V,U).trim()!==""){if(L&&O===0&&M.getCodePoint(0)!==32){const $=D.lines.get(p[1]-1);if($&&M.isWrapped&&$.getCodePoint(this._bufferService.cols-1)!==32){const ne=this._getWordAt([this._bufferService.cols-1,p[1]-1],!1,!0,!1);if(ne){const ae=this._bufferService.cols-ne.start;O-=ae,G+=ae}}}if(B&&O+G===this._bufferService.cols&&M.getCodePoint(this._bufferService.cols-1)!==32){const $=D.lines.get(p[1]+1);if($?.isWrapped&&$.getCodePoint(0)!==32){const ne=this._getWordAt([0,p[1]+1],!1,!1,!0);ne&&(G+=ne.length)}}return{start:O,length:G}}}_selectWordAt(p,b){const L=this._getWordAt(p,b);if(L){for(;L.start<0;)L.start+=this._bufferService.cols,p[1]--;this._model.selectionStart=[L.start,p[1]],this._model.selectionStartLength=L.length}}_selectToWordAt(p){const b=this._getWordAt(p,!0);if(b){let L=p[1];for(;b.start<0;)b.start+=this._bufferService.cols,L--;if(!this._model.areSelectionValuesReversed())for(;b.start+b.length>this._bufferService.cols;)b.length-=this._bufferService.cols,L++;this._model.selectionEnd=[this._model.areSelectionValuesReversed()?b.start:b.start+b.length,L]}}_isCharWordSeparator(p){return p.getWidth()!==0&&this._optionsService.rawOptions.wordSeparator.indexOf(p.getChars())>=0}_selectLineAt(p){const b=this._bufferService.buffer.getWrappedRangeForLine(p),L={start:{x:0,y:b.first},end:{x:this._bufferService.cols-1,y:b.last}};this._model.selectionStart=[0,b.first],this._model.selectionEnd=void 0,this._model.selectionStartLength=(0,o.getRangeLength)(L,this._bufferService.cols)}};a.SelectionService=E=_([v(3,m.IBufferService),v(4,m.ICoreService),v(5,C.IMouseService),v(6,m.IOptionsService),v(7,C.IRenderService),v(8,C.ICoreBrowserService)],E)},4725:(W,a,d)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.ILinkProviderService=a.IThemeService=a.ICharacterJoinerService=a.ISelectionService=a.IRenderService=a.IMouseService=a.ICoreBrowserService=a.ICharSizeService=void 0;const _=d(8343);a.ICharSizeService=(0,_.createDecorator)("CharSizeService"),a.ICoreBrowserService=(0,_.createDecorator)("CoreBrowserService"),a.IMouseService=(0,_.createDecorator)("MouseService"),a.IRenderService=(0,_.createDecorator)("RenderService"),a.ISelectionService=(0,_.createDecorator)("SelectionService"),a.ICharacterJoinerService=(0,_.createDecorator)("CharacterJoinerService"),a.IThemeService=(0,_.createDecorator)("ThemeService"),a.ILinkProviderService=(0,_.createDecorator)("LinkProviderService")},6731:function(W,a,d){var _=this&&this.__decorate||function(E,p,b,L){var B,D=arguments.length,M=D<3?p:L===null?L=Object.getOwnPropertyDescriptor(p,b):L;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")M=Reflect.decorate(E,p,b,L);else for(var z=E.length-1;z>=0;z--)(B=E[z])&&(M=(D<3?B(M):D>3?B(p,b,M):B(p,b))||M);return D>3&&M&&Object.defineProperty(p,b,M),M},v=this&&this.__param||function(E,p){return function(b,L){p(b,L,E)}};Object.defineProperty(a,"__esModule",{value:!0}),a.ThemeService=a.DEFAULT_ANSI_COLORS=void 0;const l=d(7239),g=d(8055),y=d(8460),C=d(844),f=d(2585),r=g.css.toColor("#ffffff"),c=g.css.toColor("#000000"),o=g.css.toColor("#ffffff"),h=g.css.toColor("#000000"),m={css:"rgba(255, 255, 255, 0.3)",rgba:4294967117};a.DEFAULT_ANSI_COLORS=Object.freeze((()=>{const E=[g.css.toColor("#2e3436"),g.css.toColor("#cc0000"),g.css.toColor("#4e9a06"),g.css.toColor("#c4a000"),g.css.toColor("#3465a4"),g.css.toColor("#75507b"),g.css.toColor("#06989a"),g.css.toColor("#d3d7cf"),g.css.toColor("#555753"),g.css.toColor("#ef2929"),g.css.toColor("#8ae234"),g.css.toColor("#fce94f"),g.css.toColor("#729fcf"),g.css.toColor("#ad7fa8"),g.css.toColor("#34e2e2"),g.css.toColor("#eeeeec")],p=[0,95,135,175,215,255];for(let b=0;b<216;b++){const L=p[b/36%6|0],B=p[b/6%6|0],D=p[b%6];E.push({css:g.channels.toCss(L,B,D),rgba:g.channels.toRgba(L,B,D)})}for(let b=0;b<24;b++){const L=8+10*b;E.push({css:g.channels.toCss(L,L,L),rgba:g.channels.toRgba(L,L,L)})}return E})());let w=a.ThemeService=class extends C.Disposable{get colors(){return this._colors}constructor(E){super(),this._optionsService=E,this._contrastCache=new l.ColorContrastCache,this._halfContrastCache=new l.ColorContrastCache,this._onChangeColors=this.register(new y.EventEmitter),this.onChangeColors=this._onChangeColors.event,this._colors={foreground:r,background:c,cursor:o,cursorAccent:h,selectionForeground:void 0,selectionBackgroundTransparent:m,selectionBackgroundOpaque:g.color.blend(c,m),selectionInactiveBackgroundTransparent:m,selectionInactiveBackgroundOpaque:g.color.blend(c,m),ansi:a.DEFAULT_ANSI_COLORS.slice(),contrastCache:this._contrastCache,halfContrastCache:this._halfContrastCache},this._updateRestoreColors(),this._setTheme(this._optionsService.rawOptions.theme),this.register(this._optionsService.onSpecificOptionChange("minimumContrastRatio",(()=>this._contrastCache.clear()))),this.register(this._optionsService.onSpecificOptionChange("theme",(()=>this._setTheme(this._optionsService.rawOptions.theme))))}_setTheme(E={}){const p=this._colors;if(p.foreground=S(E.foreground,r),p.background=S(E.background,c),p.cursor=S(E.cursor,o),p.cursorAccent=S(E.cursorAccent,h),p.selectionBackgroundTransparent=S(E.selectionBackground,m),p.selectionBackgroundOpaque=g.color.blend(p.background,p.selectionBackgroundTransparent),p.selectionInactiveBackgroundTransparent=S(E.selectionInactiveBackground,p.selectionBackgroundTransparent),p.selectionInactiveBackgroundOpaque=g.color.blend(p.background,p.selectionInactiveBackgroundTransparent),p.selectionForeground=E.selectionForeground?S(E.selectionForeground,g.NULL_COLOR):void 0,p.selectionForeground===g.NULL_COLOR&&(p.selectionForeground=void 0),g.color.isOpaque(p.selectionBackgroundTransparent)&&(p.selectionBackgroundTransparent=g.color.opacity(p.selectionBackgroundTransparent,.3)),g.color.isOpaque(p.selectionInactiveBackgroundTransparent)&&(p.selectionInactiveBackgroundTransparent=g.color.opacity(p.selectionInactiveBackgroundTransparent,.3)),p.ansi=a.DEFAULT_ANSI_COLORS.slice(),p.ansi[0]=S(E.black,a.DEFAULT_ANSI_COLORS[0]),p.ansi[1]=S(E.red,a.DEFAULT_ANSI_COLORS[1]),p.ansi[2]=S(E.green,a.DEFAULT_ANSI_COLORS[2]),p.ansi[3]=S(E.yellow,a.DEFAULT_ANSI_COLORS[3]),p.ansi[4]=S(E.blue,a.DEFAULT_ANSI_COLORS[4]),p.ansi[5]=S(E.magenta,a.DEFAULT_ANSI_COLORS[5]),p.ansi[6]=S(E.cyan,a.DEFAULT_ANSI_COLORS[6]),p.ansi[7]=S(E.white,a.DEFAULT_ANSI_COLORS[7]),p.ansi[8]=S(E.brightBlack,a.DEFAULT_ANSI_COLORS[8]),p.ansi[9]=S(E.brightRed,a.DEFAULT_ANSI_COLORS[9]),p.ansi[10]=S(E.brightGreen,a.DEFAULT_ANSI_COLORS[10]),p.ansi[11]=S(E.brightYellow,a.DEFAULT_ANSI_COLORS[11]),p.ansi[12]=S(E.brightBlue,a.DEFAULT_ANSI_COLORS[12]),p.ansi[13]=S(E.brightMagenta,a.DEFAULT_ANSI_COLORS[13]),p.ansi[14]=S(E.brightCyan,a.DEFAULT_ANSI_COLORS[14]),p.ansi[15]=S(E.brightWhite,a.DEFAULT_ANSI_COLORS[15]),E.extendedAnsi){const b=Math.min(p.ansi.length-16,E.extendedAnsi.length);for(let L=0;L<b;L++)p.ansi[L+16]=S(E.extendedAnsi[L],a.DEFAULT_ANSI_COLORS[L+16])}this._contrastCache.clear(),this._halfContrastCache.clear(),this._updateRestoreColors(),this._onChangeColors.fire(this.colors)}restoreColor(E){this._restoreColor(E),this._onChangeColors.fire(this.colors)}_restoreColor(E){if(E!==void 0)switch(E){case 256:this._colors.foreground=this._restoreColors.foreground;break;case 257:this._colors.background=this._restoreColors.background;break;case 258:this._colors.cursor=this._restoreColors.cursor;break;default:this._colors.ansi[E]=this._restoreColors.ansi[E]}else for(let p=0;p<this._restoreColors.ansi.length;++p)this._colors.ansi[p]=this._restoreColors.ansi[p]}modifyColors(E){E(this._colors),this._onChangeColors.fire(this.colors)}_updateRestoreColors(){this._restoreColors={foreground:this._colors.foreground,background:this._colors.background,cursor:this._colors.cursor,ansi:this._colors.ansi.slice()}}};function S(E,p){if(E!==void 0)try{return g.css.toColor(E)}catch{}return p}a.ThemeService=w=_([v(0,f.IOptionsService)],w)},6349:(W,a,d)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.CircularList=void 0;const _=d(8460),v=d(844);class l extends v.Disposable{constructor(y){super(),this._maxLength=y,this.onDeleteEmitter=this.register(new _.EventEmitter),this.onDelete=this.onDeleteEmitter.event,this.onInsertEmitter=this.register(new _.EventEmitter),this.onInsert=this.onInsertEmitter.event,this.onTrimEmitter=this.register(new _.EventEmitter),this.onTrim=this.onTrimEmitter.event,this._array=new Array(this._maxLength),this._startIndex=0,this._length=0}get maxLength(){return this._maxLength}set maxLength(y){if(this._maxLength===y)return;const C=new Array(y);for(let f=0;f<Math.min(y,this.length);f++)C[f]=this._array[this._getCyclicIndex(f)];this._array=C,this._maxLength=y,this._startIndex=0}get length(){return this._length}set length(y){if(y>this._length)for(let C=this._length;C<y;C++)this._array[C]=void 0;this._length=y}get(y){return this._array[this._getCyclicIndex(y)]}set(y,C){this._array[this._getCyclicIndex(y)]=C}push(y){this._array[this._getCyclicIndex(this._length)]=y,this._length===this._maxLength?(this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1)):this._length++}recycle(){if(this._length!==this._maxLength)throw new Error("Can only recycle when the buffer is full");return this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1),this._array[this._getCyclicIndex(this._length-1)]}get isFull(){return this._length===this._maxLength}pop(){return this._array[this._getCyclicIndex(this._length---1)]}splice(y,C,...f){if(C){for(let r=y;r<this._length-C;r++)this._array[this._getCyclicIndex(r)]=this._array[this._getCyclicIndex(r+C)];this._length-=C,this.onDeleteEmitter.fire({index:y,amount:C})}for(let r=this._length-1;r>=y;r--)this._array[this._getCyclicIndex(r+f.length)]=this._array[this._getCyclicIndex(r)];for(let r=0;r<f.length;r++)this._array[this._getCyclicIndex(y+r)]=f[r];if(f.length&&this.onInsertEmitter.fire({index:y,amount:f.length}),this._length+f.length>this._maxLength){const r=this._length+f.length-this._maxLength;this._startIndex+=r,this._length=this._maxLength,this.onTrimEmitter.fire(r)}else this._length+=f.length}trimStart(y){y>this._length&&(y=this._length),this._startIndex+=y,this._length-=y,this.onTrimEmitter.fire(y)}shiftElements(y,C,f){if(!(C<=0)){if(y<0||y>=this._length)throw new Error("start argument out of range");if(y+f<0)throw new Error("Cannot shift elements in list beyond index 0");if(f>0){for(let c=C-1;c>=0;c--)this.set(y+c+f,this.get(y+c));const r=y+C+f-this._length;if(r>0)for(this._length+=r;this._length>this._maxLength;)this._length--,this._startIndex++,this.onTrimEmitter.fire(1)}else for(let r=0;r<C;r++)this.set(y+r+f,this.get(y+r))}}_getCyclicIndex(y){return(this._startIndex+y)%this._maxLength}}a.CircularList=l},1439:(W,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.clone=void 0,a.clone=function d(_,v=5){if(typeof _!="object")return _;const l=Array.isArray(_)?[]:{};for(const g in _)l[g]=v<=1?_[g]:_[g]&&d(_[g],v-1);return l}},8055:(W,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.contrastRatio=a.toPaddedHex=a.rgba=a.rgb=a.css=a.color=a.channels=a.NULL_COLOR=void 0;let d=0,_=0,v=0,l=0;var g,y,C,f,r;function c(h){const m=h.toString(16);return m.length<2?"0"+m:m}function o(h,m){return h<m?(m+.05)/(h+.05):(h+.05)/(m+.05)}a.NULL_COLOR={css:"#00000000",rgba:0},(function(h){h.toCss=function(m,w,S,E){return E!==void 0?`#${c(m)}${c(w)}${c(S)}${c(E)}`:`#${c(m)}${c(w)}${c(S)}`},h.toRgba=function(m,w,S,E=255){return(m<<24|w<<16|S<<8|E)>>>0},h.toColor=function(m,w,S,E){return{css:h.toCss(m,w,S,E),rgba:h.toRgba(m,w,S,E)}}})(g||(a.channels=g={})),(function(h){function m(w,S){return l=Math.round(255*S),[d,_,v]=r.toChannels(w.rgba),{css:g.toCss(d,_,v,l),rgba:g.toRgba(d,_,v,l)}}h.blend=function(w,S){if(l=(255&S.rgba)/255,l===1)return{css:S.css,rgba:S.rgba};const E=S.rgba>>24&255,p=S.rgba>>16&255,b=S.rgba>>8&255,L=w.rgba>>24&255,B=w.rgba>>16&255,D=w.rgba>>8&255;return d=L+Math.round((E-L)*l),_=B+Math.round((p-B)*l),v=D+Math.round((b-D)*l),{css:g.toCss(d,_,v),rgba:g.toRgba(d,_,v)}},h.isOpaque=function(w){return(255&w.rgba)==255},h.ensureContrastRatio=function(w,S,E){const p=r.ensureContrastRatio(w.rgba,S.rgba,E);if(p)return g.toColor(p>>24&255,p>>16&255,p>>8&255)},h.opaque=function(w){const S=(255|w.rgba)>>>0;return[d,_,v]=r.toChannels(S),{css:g.toCss(d,_,v),rgba:S}},h.opacity=m,h.multiplyOpacity=function(w,S){return l=255&w.rgba,m(w,l*S/255)},h.toColorRGB=function(w){return[w.rgba>>24&255,w.rgba>>16&255,w.rgba>>8&255]}})(y||(a.color=y={})),(function(h){let m,w;try{const S=document.createElement("canvas");S.width=1,S.height=1;const E=S.getContext("2d",{willReadFrequently:!0});E&&(m=E,m.globalCompositeOperation="copy",w=m.createLinearGradient(0,0,1,1))}catch{}h.toColor=function(S){if(S.match(/#[\da-f]{3,8}/i))switch(S.length){case 4:return d=parseInt(S.slice(1,2).repeat(2),16),_=parseInt(S.slice(2,3).repeat(2),16),v=parseInt(S.slice(3,4).repeat(2),16),g.toColor(d,_,v);case 5:return d=parseInt(S.slice(1,2).repeat(2),16),_=parseInt(S.slice(2,3).repeat(2),16),v=parseInt(S.slice(3,4).repeat(2),16),l=parseInt(S.slice(4,5).repeat(2),16),g.toColor(d,_,v,l);case 7:return{css:S,rgba:(parseInt(S.slice(1),16)<<8|255)>>>0};case 9:return{css:S,rgba:parseInt(S.slice(1),16)>>>0}}const E=S.match(/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(,\s*(0|1|\d?\.(\d+))\s*)?\)/);if(E)return d=parseInt(E[1]),_=parseInt(E[2]),v=parseInt(E[3]),l=Math.round(255*(E[5]===void 0?1:parseFloat(E[5]))),g.toColor(d,_,v,l);if(!m||!w)throw new Error("css.toColor: Unsupported css format");if(m.fillStyle=w,m.fillStyle=S,typeof m.fillStyle!="string")throw new Error("css.toColor: Unsupported css format");if(m.fillRect(0,0,1,1),[d,_,v,l]=m.getImageData(0,0,1,1).data,l!==255)throw new Error("css.toColor: Unsupported css format");return{rgba:g.toRgba(d,_,v,l),css:S}}})(C||(a.css=C={})),(function(h){function m(w,S,E){const p=w/255,b=S/255,L=E/255;return .2126*(p<=.03928?p/12.92:Math.pow((p+.055)/1.055,2.4))+.7152*(b<=.03928?b/12.92:Math.pow((b+.055)/1.055,2.4))+.0722*(L<=.03928?L/12.92:Math.pow((L+.055)/1.055,2.4))}h.relativeLuminance=function(w){return m(w>>16&255,w>>8&255,255&w)},h.relativeLuminance2=m})(f||(a.rgb=f={})),(function(h){function m(S,E,p){const b=S>>24&255,L=S>>16&255,B=S>>8&255;let D=E>>24&255,M=E>>16&255,z=E>>8&255,V=o(f.relativeLuminance2(D,M,z),f.relativeLuminance2(b,L,B));for(;V<p&&(D>0||M>0||z>0);)D-=Math.max(0,Math.ceil(.1*D)),M-=Math.max(0,Math.ceil(.1*M)),z-=Math.max(0,Math.ceil(.1*z)),V=o(f.relativeLuminance2(D,M,z),f.relativeLuminance2(b,L,B));return(D<<24|M<<16|z<<8|255)>>>0}function w(S,E,p){const b=S>>24&255,L=S>>16&255,B=S>>8&255;let D=E>>24&255,M=E>>16&255,z=E>>8&255,V=o(f.relativeLuminance2(D,M,z),f.relativeLuminance2(b,L,B));for(;V<p&&(D<255||M<255||z<255);)D=Math.min(255,D+Math.ceil(.1*(255-D))),M=Math.min(255,M+Math.ceil(.1*(255-M))),z=Math.min(255,z+Math.ceil(.1*(255-z))),V=o(f.relativeLuminance2(D,M,z),f.relativeLuminance2(b,L,B));return(D<<24|M<<16|z<<8|255)>>>0}h.blend=function(S,E){if(l=(255&E)/255,l===1)return E;const p=E>>24&255,b=E>>16&255,L=E>>8&255,B=S>>24&255,D=S>>16&255,M=S>>8&255;return d=B+Math.round((p-B)*l),_=D+Math.round((b-D)*l),v=M+Math.round((L-M)*l),g.toRgba(d,_,v)},h.ensureContrastRatio=function(S,E,p){const b=f.relativeLuminance(S>>8),L=f.relativeLuminance(E>>8);if(o(b,L)<p){if(L<b){const M=m(S,E,p),z=o(b,f.relativeLuminance(M>>8));if(z<p){const V=w(S,E,p);return z>o(b,f.relativeLuminance(V>>8))?M:V}return M}const B=w(S,E,p),D=o(b,f.relativeLuminance(B>>8));if(D<p){const M=m(S,E,p);return D>o(b,f.relativeLuminance(M>>8))?B:M}return B}},h.reduceLuminance=m,h.increaseLuminance=w,h.toChannels=function(S){return[S>>24&255,S>>16&255,S>>8&255,255&S]}})(r||(a.rgba=r={})),a.toPaddedHex=c,a.contrastRatio=o},8969:(W,a,d)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.CoreTerminal=void 0;const _=d(844),v=d(2585),l=d(4348),g=d(7866),y=d(744),C=d(7302),f=d(6975),r=d(8460),c=d(1753),o=d(1480),h=d(7994),m=d(9282),w=d(5435),S=d(5981),E=d(2660);let p=!1;class b extends _.Disposable{get onScroll(){return this._onScrollApi||(this._onScrollApi=this.register(new r.EventEmitter),this._onScroll.event((B=>{this._onScrollApi?.fire(B.position)}))),this._onScrollApi.event}get cols(){return this._bufferService.cols}get rows(){return this._bufferService.rows}get buffers(){return this._bufferService.buffers}get options(){return this.optionsService.options}set options(B){for(const D in B)this.optionsService.options[D]=B[D]}constructor(B){super(),this._windowsWrappingHeuristics=this.register(new _.MutableDisposable),this._onBinary=this.register(new r.EventEmitter),this.onBinary=this._onBinary.event,this._onData=this.register(new r.EventEmitter),this.onData=this._onData.event,this._onLineFeed=this.register(new r.EventEmitter),this.onLineFeed=this._onLineFeed.event,this._onResize=this.register(new r.EventEmitter),this.onResize=this._onResize.event,this._onWriteParsed=this.register(new r.EventEmitter),this.onWriteParsed=this._onWriteParsed.event,this._onScroll=this.register(new r.EventEmitter),this._instantiationService=new l.InstantiationService,this.optionsService=this.register(new C.OptionsService(B)),this._instantiationService.setService(v.IOptionsService,this.optionsService),this._bufferService=this.register(this._instantiationService.createInstance(y.BufferService)),this._instantiationService.setService(v.IBufferService,this._bufferService),this._logService=this.register(this._instantiationService.createInstance(g.LogService)),this._instantiationService.setService(v.ILogService,this._logService),this.coreService=this.register(this._instantiationService.createInstance(f.CoreService)),this._instantiationService.setService(v.ICoreService,this.coreService),this.coreMouseService=this.register(this._instantiationService.createInstance(c.CoreMouseService)),this._instantiationService.setService(v.ICoreMouseService,this.coreMouseService),this.unicodeService=this.register(this._instantiationService.createInstance(o.UnicodeService)),this._instantiationService.setService(v.IUnicodeService,this.unicodeService),this._charsetService=this._instantiationService.createInstance(h.CharsetService),this._instantiationService.setService(v.ICharsetService,this._charsetService),this._oscLinkService=this._instantiationService.createInstance(E.OscLinkService),this._instantiationService.setService(v.IOscLinkService,this._oscLinkService),this._inputHandler=this.register(new w.InputHandler(this._bufferService,this._charsetService,this.coreService,this._logService,this.optionsService,this._oscLinkService,this.coreMouseService,this.unicodeService)),this.register((0,r.forwardEvent)(this._inputHandler.onLineFeed,this._onLineFeed)),this.register(this._inputHandler),this.register((0,r.forwardEvent)(this._bufferService.onResize,this._onResize)),this.register((0,r.forwardEvent)(this.coreService.onData,this._onData)),this.register((0,r.forwardEvent)(this.coreService.onBinary,this._onBinary)),this.register(this.coreService.onRequestScrollToBottom((()=>this.scrollToBottom()))),this.register(this.coreService.onUserInput((()=>this._writeBuffer.handleUserInput()))),this.register(this.optionsService.onMultipleOptionChange(["windowsMode","windowsPty"],(()=>this._handleWindowsPtyOptionChange()))),this.register(this._bufferService.onScroll((D=>{this._onScroll.fire({position:this._bufferService.buffer.ydisp,source:0}),this._inputHandler.markRangeDirty(this._bufferService.buffer.scrollTop,this._bufferService.buffer.scrollBottom)}))),this.register(this._inputHandler.onScroll((D=>{this._onScroll.fire({position:this._bufferService.buffer.ydisp,source:0}),this._inputHandler.markRangeDirty(this._bufferService.buffer.scrollTop,this._bufferService.buffer.scrollBottom)}))),this._writeBuffer=this.register(new S.WriteBuffer(((D,M)=>this._inputHandler.parse(D,M)))),this.register((0,r.forwardEvent)(this._writeBuffer.onWriteParsed,this._onWriteParsed))}write(B,D){this._writeBuffer.write(B,D)}writeSync(B,D){this._logService.logLevel<=v.LogLevelEnum.WARN&&!p&&(this._logService.warn("writeSync is unreliable and will be removed soon."),p=!0),this._writeBuffer.writeSync(B,D)}input(B,D=!0){this.coreService.triggerDataEvent(B,D)}resize(B,D){isNaN(B)||isNaN(D)||(B=Math.max(B,y.MINIMUM_COLS),D=Math.max(D,y.MINIMUM_ROWS),this._bufferService.resize(B,D))}scroll(B,D=!1){this._bufferService.scroll(B,D)}scrollLines(B,D,M){this._bufferService.scrollLines(B,D,M)}scrollPages(B){this.scrollLines(B*(this.rows-1))}scrollToTop(){this.scrollLines(-this._bufferService.buffer.ydisp)}scrollToBottom(){this.scrollLines(this._bufferService.buffer.ybase-this._bufferService.buffer.ydisp)}scrollToLine(B){const D=B-this._bufferService.buffer.ydisp;D!==0&&this.scrollLines(D)}registerEscHandler(B,D){return this._inputHandler.registerEscHandler(B,D)}registerDcsHandler(B,D){return this._inputHandler.registerDcsHandler(B,D)}registerCsiHandler(B,D){return this._inputHandler.registerCsiHandler(B,D)}registerOscHandler(B,D){return this._inputHandler.registerOscHandler(B,D)}_setup(){this._handleWindowsPtyOptionChange()}reset(){this._inputHandler.reset(),this._bufferService.reset(),this._charsetService.reset(),this.coreService.reset(),this.coreMouseService.reset()}_handleWindowsPtyOptionChange(){let B=!1;const D=this.optionsService.rawOptions.windowsPty;D&&D.buildNumber!==void 0&&D.buildNumber!==void 0?B=D.backend==="conpty"&&D.buildNumber<21376:this.optionsService.rawOptions.windowsMode&&(B=!0),B?this._enableWindowsWrappingHeuristics():this._windowsWrappingHeuristics.clear()}_enableWindowsWrappingHeuristics(){if(!this._windowsWrappingHeuristics.value){const B=[];B.push(this.onLineFeed(m.updateWindowsModeWrappedState.bind(null,this._bufferService))),B.push(this.registerCsiHandler({final:"H"},(()=>((0,m.updateWindowsModeWrappedState)(this._bufferService),!1)))),this._windowsWrappingHeuristics.value=(0,_.toDisposable)((()=>{for(const D of B)D.dispose()}))}}}a.CoreTerminal=b},8460:(W,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.runAndSubscribe=a.forwardEvent=a.EventEmitter=void 0,a.EventEmitter=class{constructor(){this._listeners=[],this._disposed=!1}get event(){return this._event||(this._event=d=>(this._listeners.push(d),{dispose:()=>{if(!this._disposed){for(let _=0;_<this._listeners.length;_++)if(this._listeners[_]===d)return void this._listeners.splice(_,1)}}})),this._event}fire(d,_){const v=[];for(let l=0;l<this._listeners.length;l++)v.push(this._listeners[l]);for(let l=0;l<v.length;l++)v[l].call(void 0,d,_)}dispose(){this.clearListeners(),this._disposed=!0}clearListeners(){this._listeners&&(this._listeners.length=0)}},a.forwardEvent=function(d,_){return d((v=>_.fire(v)))},a.runAndSubscribe=function(d,_){return _(void 0),d((v=>_(v)))}},5435:function(W,a,d){var _=this&&this.__decorate||function(F,x,k,R){var O,G=arguments.length,$=G<3?x:R===null?R=Object.getOwnPropertyDescriptor(x,k):R;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$=Reflect.decorate(F,x,k,R);else for(var ne=F.length-1;ne>=0;ne--)(O=F[ne])&&($=(G<3?O($):G>3?O(x,k,$):O(x,k))||$);return G>3&&$&&Object.defineProperty(x,k,$),$},v=this&&this.__param||function(F,x){return function(k,R){x(k,R,F)}};Object.defineProperty(a,"__esModule",{value:!0}),a.InputHandler=a.WindowsOptionsReportType=void 0;const l=d(2584),g=d(7116),y=d(2015),C=d(844),f=d(482),r=d(8437),c=d(8460),o=d(643),h=d(511),m=d(3734),w=d(2585),S=d(1480),E=d(6242),p=d(6351),b=d(5941),L={"(":0,")":1,"*":2,"+":3,"-":1,".":2},B=131072;function D(F,x){if(F>24)return x.setWinLines||!1;switch(F){case 1:return!!x.restoreWin;case 2:return!!x.minimizeWin;case 3:return!!x.setWinPosition;case 4:return!!x.setWinSizePixels;case 5:return!!x.raiseWin;case 6:return!!x.lowerWin;case 7:return!!x.refreshWin;case 8:return!!x.setWinSizeChars;case 9:return!!x.maximizeWin;case 10:return!!x.fullscreenWin;case 11:return!!x.getWinState;case 13:return!!x.getWinPosition;case 14:return!!x.getWinSizePixels;case 15:return!!x.getScreenSizePixels;case 16:return!!x.getCellSizePixels;case 18:return!!x.getWinSizeChars;case 19:return!!x.getScreenSizeChars;case 20:return!!x.getIconTitle;case 21:return!!x.getWinTitle;case 22:return!!x.pushTitle;case 23:return!!x.popTitle;case 24:return!!x.setWinLines}return!1}var M;(function(F){F[F.GET_WIN_SIZE_PIXELS=0]="GET_WIN_SIZE_PIXELS",F[F.GET_CELL_SIZE_PIXELS=1]="GET_CELL_SIZE_PIXELS"})(M||(a.WindowsOptionsReportType=M={}));let z=0;class V extends C.Disposable{getAttrData(){return this._curAttrData}constructor(x,k,R,O,G,$,ne,ae,P=new y.EscapeSequenceParser){super(),this._bufferService=x,this._charsetService=k,this._coreService=R,this._logService=O,this._optionsService=G,this._oscLinkService=$,this._coreMouseService=ne,this._unicodeService=ae,this._parser=P,this._parseBuffer=new Uint32Array(4096),this._stringDecoder=new f.StringToUtf32,this._utf8Decoder=new f.Utf8ToUtf32,this._workCell=new h.CellData,this._windowTitle="",this._iconName="",this._windowTitleStack=[],this._iconNameStack=[],this._curAttrData=r.DEFAULT_ATTR_DATA.clone(),this._eraseAttrDataInternal=r.DEFAULT_ATTR_DATA.clone(),this._onRequestBell=this.register(new c.EventEmitter),this.onRequestBell=this._onRequestBell.event,this._onRequestRefreshRows=this.register(new c.EventEmitter),this.onRequestRefreshRows=this._onRequestRefreshRows.event,this._onRequestReset=this.register(new c.EventEmitter),this.onRequestReset=this._onRequestReset.event,this._onRequestSendFocus=this.register(new c.EventEmitter),this.onRequestSendFocus=this._onRequestSendFocus.event,this._onRequestSyncScrollBar=this.register(new c.EventEmitter),this.onRequestSyncScrollBar=this._onRequestSyncScrollBar.event,this._onRequestWindowsOptionsReport=this.register(new c.EventEmitter),this.onRequestWindowsOptionsReport=this._onRequestWindowsOptionsReport.event,this._onA11yChar=this.register(new c.EventEmitter),this.onA11yChar=this._onA11yChar.event,this._onA11yTab=this.register(new c.EventEmitter),this.onA11yTab=this._onA11yTab.event,this._onCursorMove=this.register(new c.EventEmitter),this.onCursorMove=this._onCursorMove.event,this._onLineFeed=this.register(new c.EventEmitter),this.onLineFeed=this._onLineFeed.event,this._onScroll=this.register(new c.EventEmitter),this.onScroll=this._onScroll.event,this._onTitleChange=this.register(new c.EventEmitter),this.onTitleChange=this._onTitleChange.event,this._onColor=this.register(new c.EventEmitter),this.onColor=this._onColor.event,this._parseStack={paused:!1,cursorStartX:0,cursorStartY:0,decodedLength:0,position:0},this._specialColors=[256,257,258],this.register(this._parser),this._dirtyRowTracker=new U(this._bufferService),this._activeBuffer=this._bufferService.buffer,this.register(this._bufferService.buffers.onBufferActivate((H=>this._activeBuffer=H.activeBuffer))),this._parser.setCsiHandlerFallback(((H,Q)=>{this._logService.debug("Unknown CSI code: ",{identifier:this._parser.identToString(H),params:Q.toArray()})})),this._parser.setEscHandlerFallback((H=>{this._logService.debug("Unknown ESC code: ",{identifier:this._parser.identToString(H)})})),this._parser.setExecuteHandlerFallback((H=>{this._logService.debug("Unknown EXECUTE code: ",{code:H})})),this._parser.setOscHandlerFallback(((H,Q,q)=>{this._logService.debug("Unknown OSC code: ",{identifier:H,action:Q,data:q})})),this._parser.setDcsHandlerFallback(((H,Q,q)=>{Q==="HOOK"&&(q=q.toArray()),this._logService.debug("Unknown DCS code: ",{identifier:this._parser.identToString(H),action:Q,payload:q})})),this._parser.setPrintHandler(((H,Q,q)=>this.print(H,Q,q))),this._parser.registerCsiHandler({final:"@"},(H=>this.insertChars(H))),this._parser.registerCsiHandler({intermediates:" ",final:"@"},(H=>this.scrollLeft(H))),this._parser.registerCsiHandler({final:"A"},(H=>this.cursorUp(H))),this._parser.registerCsiHandler({intermediates:" ",final:"A"},(H=>this.scrollRight(H))),this._parser.registerCsiHandler({final:"B"},(H=>this.cursorDown(H))),this._parser.registerCsiHandler({final:"C"},(H=>this.cursorForward(H))),this._parser.registerCsiHandler({final:"D"},(H=>this.cursorBackward(H))),this._parser.registerCsiHandler({final:"E"},(H=>this.cursorNextLine(H))),this._parser.registerCsiHandler({final:"F"},(H=>this.cursorPrecedingLine(H))),this._parser.registerCsiHandler({final:"G"},(H=>this.cursorCharAbsolute(H))),this._parser.registerCsiHandler({final:"H"},(H=>this.cursorPosition(H))),this._parser.registerCsiHandler({final:"I"},(H=>this.cursorForwardTab(H))),this._parser.registerCsiHandler({final:"J"},(H=>this.eraseInDisplay(H,!1))),this._parser.registerCsiHandler({prefix:"?",final:"J"},(H=>this.eraseInDisplay(H,!0))),this._parser.registerCsiHandler({final:"K"},(H=>this.eraseInLine(H,!1))),this._parser.registerCsiHandler({prefix:"?",final:"K"},(H=>this.eraseInLine(H,!0))),this._parser.registerCsiHandler({final:"L"},(H=>this.insertLines(H))),this._parser.registerCsiHandler({final:"M"},(H=>this.deleteLines(H))),this._parser.registerCsiHandler({final:"P"},(H=>this.deleteChars(H))),this._parser.registerCsiHandler({final:"S"},(H=>this.scrollUp(H))),this._parser.registerCsiHandler({final:"T"},(H=>this.scrollDown(H))),this._parser.registerCsiHandler({final:"X"},(H=>this.eraseChars(H))),this._parser.registerCsiHandler({final:"Z"},(H=>this.cursorBackwardTab(H))),this._parser.registerCsiHandler({final:"`"},(H=>this.charPosAbsolute(H))),this._parser.registerCsiHandler({final:"a"},(H=>this.hPositionRelative(H))),this._parser.registerCsiHandler({final:"b"},(H=>this.repeatPrecedingCharacter(H))),this._parser.registerCsiHandler({final:"c"},(H=>this.sendDeviceAttributesPrimary(H))),this._parser.registerCsiHandler({prefix:">",final:"c"},(H=>this.sendDeviceAttributesSecondary(H))),this._parser.registerCsiHandler({final:"d"},(H=>this.linePosAbsolute(H))),this._parser.registerCsiHandler({final:"e"},(H=>this.vPositionRelative(H))),this._parser.registerCsiHandler({final:"f"},(H=>this.hVPosition(H))),this._parser.registerCsiHandler({final:"g"},(H=>this.tabClear(H))),this._parser.registerCsiHandler({final:"h"},(H=>this.setMode(H))),this._parser.registerCsiHandler({prefix:"?",final:"h"},(H=>this.setModePrivate(H))),this._parser.registerCsiHandler({final:"l"},(H=>this.resetMode(H))),this._parser.registerCsiHandler({prefix:"?",final:"l"},(H=>this.resetModePrivate(H))),this._parser.registerCsiHandler({final:"m"},(H=>this.charAttributes(H))),this._parser.registerCsiHandler({final:"n"},(H=>this.deviceStatus(H))),this._parser.registerCsiHandler({prefix:"?",final:"n"},(H=>this.deviceStatusPrivate(H))),this._parser.registerCsiHandler({intermediates:"!",final:"p"},(H=>this.softReset(H))),this._parser.registerCsiHandler({intermediates:" ",final:"q"},(H=>this.setCursorStyle(H))),this._parser.registerCsiHandler({final:"r"},(H=>this.setScrollRegion(H))),this._parser.registerCsiHandler({final:"s"},(H=>this.saveCursor(H))),this._parser.registerCsiHandler({final:"t"},(H=>this.windowOptions(H))),this._parser.registerCsiHandler({final:"u"},(H=>this.restoreCursor(H))),this._parser.registerCsiHandler({intermediates:"'",final:"}"},(H=>this.insertColumns(H))),this._parser.registerCsiHandler({intermediates:"'",final:"~"},(H=>this.deleteColumns(H))),this._parser.registerCsiHandler({intermediates:'"',final:"q"},(H=>this.selectProtected(H))),this._parser.registerCsiHandler({intermediates:"$",final:"p"},(H=>this.requestMode(H,!0))),this._parser.registerCsiHandler({prefix:"?",intermediates:"$",final:"p"},(H=>this.requestMode(H,!1))),this._parser.setExecuteHandler(l.C0.BEL,(()=>this.bell())),this._parser.setExecuteHandler(l.C0.LF,(()=>this.lineFeed())),this._parser.setExecuteHandler(l.C0.VT,(()=>this.lineFeed())),this._parser.setExecuteHandler(l.C0.FF,(()=>this.lineFeed())),this._parser.setExecuteHandler(l.C0.CR,(()=>this.carriageReturn())),this._parser.setExecuteHandler(l.C0.BS,(()=>this.backspace())),this._parser.setExecuteHandler(l.C0.HT,(()=>this.tab())),this._parser.setExecuteHandler(l.C0.SO,(()=>this.shiftOut())),this._parser.setExecuteHandler(l.C0.SI,(()=>this.shiftIn())),this._parser.setExecuteHandler(l.C1.IND,(()=>this.index())),this._parser.setExecuteHandler(l.C1.NEL,(()=>this.nextLine())),this._parser.setExecuteHandler(l.C1.HTS,(()=>this.tabSet())),this._parser.registerOscHandler(0,new E.OscHandler((H=>(this.setTitle(H),this.setIconName(H),!0)))),this._parser.registerOscHandler(1,new E.OscHandler((H=>this.setIconName(H)))),this._parser.registerOscHandler(2,new E.OscHandler((H=>this.setTitle(H)))),this._parser.registerOscHandler(4,new E.OscHandler((H=>this.setOrReportIndexedColor(H)))),this._parser.registerOscHandler(8,new E.OscHandler((H=>this.setHyperlink(H)))),this._parser.registerOscHandler(10,new E.OscHandler((H=>this.setOrReportFgColor(H)))),this._parser.registerOscHandler(11,new E.OscHandler((H=>this.setOrReportBgColor(H)))),this._parser.registerOscHandler(12,new E.OscHandler((H=>this.setOrReportCursorColor(H)))),this._parser.registerOscHandler(104,new E.OscHandler((H=>this.restoreIndexedColor(H)))),this._parser.registerOscHandler(110,new E.OscHandler((H=>this.restoreFgColor(H)))),this._parser.registerOscHandler(111,new E.OscHandler((H=>this.restoreBgColor(H)))),this._parser.registerOscHandler(112,new E.OscHandler((H=>this.restoreCursorColor(H)))),this._parser.registerEscHandler({final:"7"},(()=>this.saveCursor())),this._parser.registerEscHandler({final:"8"},(()=>this.restoreCursor())),this._parser.registerEscHandler({final:"D"},(()=>this.index())),this._parser.registerEscHandler({final:"E"},(()=>this.nextLine())),this._parser.registerEscHandler({final:"H"},(()=>this.tabSet())),this._parser.registerEscHandler({final:"M"},(()=>this.reverseIndex())),this._parser.registerEscHandler({final:"="},(()=>this.keypadApplicationMode())),this._parser.registerEscHandler({final:">"},(()=>this.keypadNumericMode())),this._parser.registerEscHandler({final:"c"},(()=>this.fullReset())),this._parser.registerEscHandler({final:"n"},(()=>this.setgLevel(2))),this._parser.registerEscHandler({final:"o"},(()=>this.setgLevel(3))),this._parser.registerEscHandler({final:"|"},(()=>this.setgLevel(3))),this._parser.registerEscHandler({final:"}"},(()=>this.setgLevel(2))),this._parser.registerEscHandler({final:"~"},(()=>this.setgLevel(1))),this._parser.registerEscHandler({intermediates:"%",final:"@"},(()=>this.selectDefaultCharset())),this._parser.registerEscHandler({intermediates:"%",final:"G"},(()=>this.selectDefaultCharset()));for(const H in g.CHARSETS)this._parser.registerEscHandler({intermediates:"(",final:H},(()=>this.selectCharset("("+H))),this._parser.registerEscHandler({intermediates:")",final:H},(()=>this.selectCharset(")"+H))),this._parser.registerEscHandler({intermediates:"*",final:H},(()=>this.selectCharset("*"+H))),this._parser.registerEscHandler({intermediates:"+",final:H},(()=>this.selectCharset("+"+H))),this._parser.registerEscHandler({intermediates:"-",final:H},(()=>this.selectCharset("-"+H))),this._parser.registerEscHandler({intermediates:".",final:H},(()=>this.selectCharset("."+H))),this._parser.registerEscHandler({intermediates:"/",final:H},(()=>this.selectCharset("/"+H)));this._parser.registerEscHandler({intermediates:"#",final:"8"},(()=>this.screenAlignmentPattern())),this._parser.setErrorHandler((H=>(this._logService.error("Parsing error: ",H),H))),this._parser.registerDcsHandler({intermediates:"$",final:"q"},new p.DcsHandler(((H,Q)=>this.requestStatusString(H,Q))))}_preserveStack(x,k,R,O){this._parseStack.paused=!0,this._parseStack.cursorStartX=x,this._parseStack.cursorStartY=k,this._parseStack.decodedLength=R,this._parseStack.position=O}_logSlowResolvingAsync(x){this._logService.logLevel<=w.LogLevelEnum.WARN&&Promise.race([x,new Promise(((k,R)=>setTimeout((()=>R("#SLOW_TIMEOUT")),5e3)))]).catch((k=>{if(k!=="#SLOW_TIMEOUT")throw k;console.warn("async parser handler taking longer than 5000 ms")}))}_getCurrentLinkId(){return this._curAttrData.extended.urlId}parse(x,k){let R,O=this._activeBuffer.x,G=this._activeBuffer.y,$=0;const ne=this._parseStack.paused;if(ne){if(R=this._parser.parse(this._parseBuffer,this._parseStack.decodedLength,k))return this._logSlowResolvingAsync(R),R;O=this._parseStack.cursorStartX,G=this._parseStack.cursorStartY,this._parseStack.paused=!1,x.length>B&&($=this._parseStack.position+B)}if(this._logService.logLevel<=w.LogLevelEnum.DEBUG&&this._logService.debug("parsing data"+(typeof x=="string"?` "${x}"`:` "${Array.prototype.map.call(x,(H=>String.fromCharCode(H))).join("")}"`),typeof x=="string"?x.split("").map((H=>H.charCodeAt(0))):x),this._parseBuffer.length<x.length&&this._parseBuffer.length<B&&(this._parseBuffer=new Uint32Array(Math.min(x.length,B))),ne||this._dirtyRowTracker.clearRange(),x.length>B)for(let H=$;H<x.length;H+=B){const Q=H+B<x.length?H+B:x.length,q=typeof x=="string"?this._stringDecoder.decode(x.substring(H,Q),this._parseBuffer):this._utf8Decoder.decode(x.subarray(H,Q),this._parseBuffer);if(R=this._parser.parse(this._parseBuffer,q))return this._preserveStack(O,G,q,H),this._logSlowResolvingAsync(R),R}else if(!ne){const H=typeof x=="string"?this._stringDecoder.decode(x,this._parseBuffer):this._utf8Decoder.decode(x,this._parseBuffer);if(R=this._parser.parse(this._parseBuffer,H))return this._preserveStack(O,G,H,0),this._logSlowResolvingAsync(R),R}this._activeBuffer.x===O&&this._activeBuffer.y===G||this._onCursorMove.fire();const ae=this._dirtyRowTracker.end+(this._bufferService.buffer.ybase-this._bufferService.buffer.ydisp),P=this._dirtyRowTracker.start+(this._bufferService.buffer.ybase-this._bufferService.buffer.ydisp);P<this._bufferService.rows&&this._onRequestRefreshRows.fire(Math.min(P,this._bufferService.rows-1),Math.min(ae,this._bufferService.rows-1))}print(x,k,R){let O,G;const $=this._charsetService.charset,ne=this._optionsService.rawOptions.screenReaderMode,ae=this._bufferService.cols,P=this._coreService.decPrivateModes.wraparound,H=this._coreService.modes.insertMode,Q=this._curAttrData;let q=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._activeBuffer.x&&R-k>0&&q.getWidth(this._activeBuffer.x-1)===2&&q.setCellFromCodepoint(this._activeBuffer.x-1,0,1,Q);let te=this._parser.precedingJoinState;for(let le=k;le<R;++le){if(O=x[le],O<127&&$){const Fe=$[String.fromCharCode(O)];Fe&&(O=Fe.charCodeAt(0))}const pe=this._unicodeService.charProperties(O,te);G=S.UnicodeService.extractWidth(pe);const fe=S.UnicodeService.extractShouldJoin(pe),Ce=fe?S.UnicodeService.extractWidth(te):0;if(te=pe,ne&&this._onA11yChar.fire((0,f.stringFromCodePoint)(O)),this._getCurrentLinkId()&&this._oscLinkService.addLineToLink(this._getCurrentLinkId(),this._activeBuffer.ybase+this._activeBuffer.y),this._activeBuffer.x+G-Ce>ae){if(P){const Fe=q;let ve=this._activeBuffer.x-Ce;for(this._activeBuffer.x=Ce,this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData(),!0)):(this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!0),q=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y),Ce>0&&q instanceof r.BufferLine&&q.copyCellsFrom(Fe,ve,0,Ce,!1);ve<ae;)Fe.setCellFromCodepoint(ve++,0,1,Q)}else if(this._activeBuffer.x=ae-1,G===2)continue}if(fe&&this._activeBuffer.x){const Fe=q.getWidth(this._activeBuffer.x-1)?1:2;q.addCodepointToCell(this._activeBuffer.x-Fe,O,G);for(let ve=G-Ce;--ve>=0;)q.setCellFromCodepoint(this._activeBuffer.x++,0,0,Q)}else if(H&&(q.insertCells(this._activeBuffer.x,G-Ce,this._activeBuffer.getNullCell(Q)),q.getWidth(ae-1)===2&&q.setCellFromCodepoint(ae-1,o.NULL_CELL_CODE,o.NULL_CELL_WIDTH,Q)),q.setCellFromCodepoint(this._activeBuffer.x++,O,G,Q),G>0)for(;--G;)q.setCellFromCodepoint(this._activeBuffer.x++,0,0,Q)}this._parser.precedingJoinState=te,this._activeBuffer.x<ae&&R-k>0&&q.getWidth(this._activeBuffer.x)===0&&!q.hasContent(this._activeBuffer.x)&&q.setCellFromCodepoint(this._activeBuffer.x,0,1,Q),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}registerCsiHandler(x,k){return x.final!=="t"||x.prefix||x.intermediates?this._parser.registerCsiHandler(x,k):this._parser.registerCsiHandler(x,(R=>!D(R.params[0],this._optionsService.rawOptions.windowOptions)||k(R)))}registerDcsHandler(x,k){return this._parser.registerDcsHandler(x,new p.DcsHandler(k))}registerEscHandler(x,k){return this._parser.registerEscHandler(x,k)}registerOscHandler(x,k){return this._parser.registerOscHandler(x,new E.OscHandler(k))}bell(){return this._onRequestBell.fire(),!0}lineFeed(){return this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._optionsService.rawOptions.convertEol&&(this._activeBuffer.x=0),this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData())):this._activeBuffer.y>=this._bufferService.rows?this._activeBuffer.y=this._bufferService.rows-1:this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!1,this._activeBuffer.x>=this._bufferService.cols&&this._activeBuffer.x--,this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._onLineFeed.fire(),!0}carriageReturn(){return this._activeBuffer.x=0,!0}backspace(){if(!this._coreService.decPrivateModes.reverseWraparound)return this._restrictCursor(),this._activeBuffer.x>0&&this._activeBuffer.x--,!0;if(this._restrictCursor(this._bufferService.cols),this._activeBuffer.x>0)this._activeBuffer.x--;else if(this._activeBuffer.x===0&&this._activeBuffer.y>this._activeBuffer.scrollTop&&this._activeBuffer.y<=this._activeBuffer.scrollBottom&&this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y)?.isWrapped){this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!1,this._activeBuffer.y--,this._activeBuffer.x=this._bufferService.cols-1;const x=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);x.hasWidth(this._activeBuffer.x)&&!x.hasContent(this._activeBuffer.x)&&this._activeBuffer.x--}return this._restrictCursor(),!0}tab(){if(this._activeBuffer.x>=this._bufferService.cols)return!0;const x=this._activeBuffer.x;return this._activeBuffer.x=this._activeBuffer.nextStop(),this._optionsService.rawOptions.screenReaderMode&&this._onA11yTab.fire(this._activeBuffer.x-x),!0}shiftOut(){return this._charsetService.setgLevel(1),!0}shiftIn(){return this._charsetService.setgLevel(0),!0}_restrictCursor(x=this._bufferService.cols-1){this._activeBuffer.x=Math.min(x,Math.max(0,this._activeBuffer.x)),this._activeBuffer.y=this._coreService.decPrivateModes.origin?Math.min(this._activeBuffer.scrollBottom,Math.max(this._activeBuffer.scrollTop,this._activeBuffer.y)):Math.min(this._bufferService.rows-1,Math.max(0,this._activeBuffer.y)),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}_setCursor(x,k){this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._coreService.decPrivateModes.origin?(this._activeBuffer.x=x,this._activeBuffer.y=this._activeBuffer.scrollTop+k):(this._activeBuffer.x=x,this._activeBuffer.y=k),this._restrictCursor(),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}_moveCursor(x,k){this._restrictCursor(),this._setCursor(this._activeBuffer.x+x,this._activeBuffer.y+k)}cursorUp(x){const k=this._activeBuffer.y-this._activeBuffer.scrollTop;return k>=0?this._moveCursor(0,-Math.min(k,x.params[0]||1)):this._moveCursor(0,-(x.params[0]||1)),!0}cursorDown(x){const k=this._activeBuffer.scrollBottom-this._activeBuffer.y;return k>=0?this._moveCursor(0,Math.min(k,x.params[0]||1)):this._moveCursor(0,x.params[0]||1),!0}cursorForward(x){return this._moveCursor(x.params[0]||1,0),!0}cursorBackward(x){return this._moveCursor(-(x.params[0]||1),0),!0}cursorNextLine(x){return this.cursorDown(x),this._activeBuffer.x=0,!0}cursorPrecedingLine(x){return this.cursorUp(x),this._activeBuffer.x=0,!0}cursorCharAbsolute(x){return this._setCursor((x.params[0]||1)-1,this._activeBuffer.y),!0}cursorPosition(x){return this._setCursor(x.length>=2?(x.params[1]||1)-1:0,(x.params[0]||1)-1),!0}charPosAbsolute(x){return this._setCursor((x.params[0]||1)-1,this._activeBuffer.y),!0}hPositionRelative(x){return this._moveCursor(x.params[0]||1,0),!0}linePosAbsolute(x){return this._setCursor(this._activeBuffer.x,(x.params[0]||1)-1),!0}vPositionRelative(x){return this._moveCursor(0,x.params[0]||1),!0}hVPosition(x){return this.cursorPosition(x),!0}tabClear(x){const k=x.params[0];return k===0?delete this._activeBuffer.tabs[this._activeBuffer.x]:k===3&&(this._activeBuffer.tabs={}),!0}cursorForwardTab(x){if(this._activeBuffer.x>=this._bufferService.cols)return!0;let k=x.params[0]||1;for(;k--;)this._activeBuffer.x=this._activeBuffer.nextStop();return!0}cursorBackwardTab(x){if(this._activeBuffer.x>=this._bufferService.cols)return!0;let k=x.params[0]||1;for(;k--;)this._activeBuffer.x=this._activeBuffer.prevStop();return!0}selectProtected(x){const k=x.params[0];return k===1&&(this._curAttrData.bg|=536870912),k!==2&&k!==0||(this._curAttrData.bg&=-536870913),!0}_eraseInBufferLine(x,k,R,O=!1,G=!1){const $=this._activeBuffer.lines.get(this._activeBuffer.ybase+x);$.replaceCells(k,R,this._activeBuffer.getNullCell(this._eraseAttrData()),G),O&&($.isWrapped=!1)}_resetBufferLine(x,k=!1){const R=this._activeBuffer.lines.get(this._activeBuffer.ybase+x);R&&(R.fill(this._activeBuffer.getNullCell(this._eraseAttrData()),k),this._bufferService.buffer.clearMarkers(this._activeBuffer.ybase+x),R.isWrapped=!1)}eraseInDisplay(x,k=!1){let R;switch(this._restrictCursor(this._bufferService.cols),x.params[0]){case 0:for(R=this._activeBuffer.y,this._dirtyRowTracker.markDirty(R),this._eraseInBufferLine(R++,this._activeBuffer.x,this._bufferService.cols,this._activeBuffer.x===0,k);R<this._bufferService.rows;R++)this._resetBufferLine(R,k);this._dirtyRowTracker.markDirty(R);break;case 1:for(R=this._activeBuffer.y,this._dirtyRowTracker.markDirty(R),this._eraseInBufferLine(R,0,this._activeBuffer.x+1,!0,k),this._activeBuffer.x+1>=this._bufferService.cols&&(this._activeBuffer.lines.get(R+1).isWrapped=!1);R--;)this._resetBufferLine(R,k);this._dirtyRowTracker.markDirty(0);break;case 2:for(R=this._bufferService.rows,this._dirtyRowTracker.markDirty(R-1);R--;)this._resetBufferLine(R,k);this._dirtyRowTracker.markDirty(0);break;case 3:const O=this._activeBuffer.lines.length-this._bufferService.rows;O>0&&(this._activeBuffer.lines.trimStart(O),this._activeBuffer.ybase=Math.max(this._activeBuffer.ybase-O,0),this._activeBuffer.ydisp=Math.max(this._activeBuffer.ydisp-O,0),this._onScroll.fire(0))}return!0}eraseInLine(x,k=!1){switch(this._restrictCursor(this._bufferService.cols),x.params[0]){case 0:this._eraseInBufferLine(this._activeBuffer.y,this._activeBuffer.x,this._bufferService.cols,this._activeBuffer.x===0,k);break;case 1:this._eraseInBufferLine(this._activeBuffer.y,0,this._activeBuffer.x+1,!1,k);break;case 2:this._eraseInBufferLine(this._activeBuffer.y,0,this._bufferService.cols,!0,k)}return this._dirtyRowTracker.markDirty(this._activeBuffer.y),!0}insertLines(x){this._restrictCursor();let k=x.params[0]||1;if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const R=this._activeBuffer.ybase+this._activeBuffer.y,O=this._bufferService.rows-1-this._activeBuffer.scrollBottom,G=this._bufferService.rows-1+this._activeBuffer.ybase-O+1;for(;k--;)this._activeBuffer.lines.splice(G-1,1),this._activeBuffer.lines.splice(R,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.y,this._activeBuffer.scrollBottom),this._activeBuffer.x=0,!0}deleteLines(x){this._restrictCursor();let k=x.params[0]||1;if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const R=this._activeBuffer.ybase+this._activeBuffer.y;let O;for(O=this._bufferService.rows-1-this._activeBuffer.scrollBottom,O=this._bufferService.rows-1+this._activeBuffer.ybase-O;k--;)this._activeBuffer.lines.splice(R,1),this._activeBuffer.lines.splice(O,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.y,this._activeBuffer.scrollBottom),this._activeBuffer.x=0,!0}insertChars(x){this._restrictCursor();const k=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return k&&(k.insertCells(this._activeBuffer.x,x.params[0]||1,this._activeBuffer.getNullCell(this._eraseAttrData())),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}deleteChars(x){this._restrictCursor();const k=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return k&&(k.deleteCells(this._activeBuffer.x,x.params[0]||1,this._activeBuffer.getNullCell(this._eraseAttrData())),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}scrollUp(x){let k=x.params[0]||1;for(;k--;)this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollTop,1),this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollBottom,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollDown(x){let k=x.params[0]||1;for(;k--;)this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollBottom,1),this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollTop,0,this._activeBuffer.getBlankLine(r.DEFAULT_ATTR_DATA));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollLeft(x){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const k=x.params[0]||1;for(let R=this._activeBuffer.scrollTop;R<=this._activeBuffer.scrollBottom;++R){const O=this._activeBuffer.lines.get(this._activeBuffer.ybase+R);O.deleteCells(0,k,this._activeBuffer.getNullCell(this._eraseAttrData())),O.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollRight(x){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const k=x.params[0]||1;for(let R=this._activeBuffer.scrollTop;R<=this._activeBuffer.scrollBottom;++R){const O=this._activeBuffer.lines.get(this._activeBuffer.ybase+R);O.insertCells(0,k,this._activeBuffer.getNullCell(this._eraseAttrData())),O.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}insertColumns(x){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const k=x.params[0]||1;for(let R=this._activeBuffer.scrollTop;R<=this._activeBuffer.scrollBottom;++R){const O=this._activeBuffer.lines.get(this._activeBuffer.ybase+R);O.insertCells(this._activeBuffer.x,k,this._activeBuffer.getNullCell(this._eraseAttrData())),O.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}deleteColumns(x){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const k=x.params[0]||1;for(let R=this._activeBuffer.scrollTop;R<=this._activeBuffer.scrollBottom;++R){const O=this._activeBuffer.lines.get(this._activeBuffer.ybase+R);O.deleteCells(this._activeBuffer.x,k,this._activeBuffer.getNullCell(this._eraseAttrData())),O.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}eraseChars(x){this._restrictCursor();const k=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return k&&(k.replaceCells(this._activeBuffer.x,this._activeBuffer.x+(x.params[0]||1),this._activeBuffer.getNullCell(this._eraseAttrData())),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}repeatPrecedingCharacter(x){const k=this._parser.precedingJoinState;if(!k)return!0;const R=x.params[0]||1,O=S.UnicodeService.extractWidth(k),G=this._activeBuffer.x-O,$=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).getString(G),ne=new Uint32Array($.length*R);let ae=0;for(let H=0;H<$.length;){const Q=$.codePointAt(H)||0;ne[ae++]=Q,H+=Q>65535?2:1}let P=ae;for(let H=1;H<R;++H)ne.copyWithin(P,0,ae),P+=ae;return this.print(ne,0,P),!0}sendDeviceAttributesPrimary(x){return x.params[0]>0||(this._is("xterm")||this._is("rxvt-unicode")||this._is("screen")?this._coreService.triggerDataEvent(l.C0.ESC+"[?1;2c"):this._is("linux")&&this._coreService.triggerDataEvent(l.C0.ESC+"[?6c")),!0}sendDeviceAttributesSecondary(x){return x.params[0]>0||(this._is("xterm")?this._coreService.triggerDataEvent(l.C0.ESC+"[>0;276;0c"):this._is("rxvt-unicode")?this._coreService.triggerDataEvent(l.C0.ESC+"[>85;95;0c"):this._is("linux")?this._coreService.triggerDataEvent(x.params[0]+"c"):this._is("screen")&&this._coreService.triggerDataEvent(l.C0.ESC+"[>83;40003;0c")),!0}_is(x){return(this._optionsService.rawOptions.termName+"").indexOf(x)===0}setMode(x){for(let k=0;k<x.length;k++)switch(x.params[k]){case 4:this._coreService.modes.insertMode=!0;break;case 20:this._optionsService.options.convertEol=!0}return!0}setModePrivate(x){for(let k=0;k<x.length;k++)switch(x.params[k]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!0;break;case 2:this._charsetService.setgCharset(0,g.DEFAULT_CHARSET),this._charsetService.setgCharset(1,g.DEFAULT_CHARSET),this._charsetService.setgCharset(2,g.DEFAULT_CHARSET),this._charsetService.setgCharset(3,g.DEFAULT_CHARSET);break;case 3:this._optionsService.rawOptions.windowOptions.setWinLines&&(this._bufferService.resize(132,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!0,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!0;break;case 12:this._optionsService.options.cursorBlink=!0;break;case 45:this._coreService.decPrivateModes.reverseWraparound=!0;break;case 66:this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,this._onRequestSyncScrollBar.fire();break;case 9:this._coreMouseService.activeProtocol="X10";break;case 1e3:this._coreMouseService.activeProtocol="VT200";break;case 1002:this._coreMouseService.activeProtocol="DRAG";break;case 1003:this._coreMouseService.activeProtocol="ANY";break;case 1004:this._coreService.decPrivateModes.sendFocus=!0,this._onRequestSendFocus.fire();break;case 1005:this._logService.debug("DECSET 1005 not supported (see #2507)");break;case 1006:this._coreMouseService.activeEncoding="SGR";break;case 1015:this._logService.debug("DECSET 1015 not supported (see #2507)");break;case 1016:this._coreMouseService.activeEncoding="SGR_PIXELS";break;case 25:this._coreService.isCursorHidden=!1;break;case 1048:this.saveCursor();break;case 1049:this.saveCursor();case 47:case 1047:this._bufferService.buffers.activateAltBuffer(this._eraseAttrData()),this._coreService.isCursorInitialized=!0,this._onRequestRefreshRows.fire(0,this._bufferService.rows-1),this._onRequestSyncScrollBar.fire();break;case 2004:this._coreService.decPrivateModes.bracketedPasteMode=!0}return!0}resetMode(x){for(let k=0;k<x.length;k++)switch(x.params[k]){case 4:this._coreService.modes.insertMode=!1;break;case 20:this._optionsService.options.convertEol=!1}return!0}resetModePrivate(x){for(let k=0;k<x.length;k++)switch(x.params[k]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!1;break;case 3:this._optionsService.rawOptions.windowOptions.setWinLines&&(this._bufferService.resize(80,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!1,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!1;break;case 12:this._optionsService.options.cursorBlink=!1;break;case 45:this._coreService.decPrivateModes.reverseWraparound=!1;break;case 66:this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,this._onRequestSyncScrollBar.fire();break;case 9:case 1e3:case 1002:case 1003:this._coreMouseService.activeProtocol="NONE";break;case 1004:this._coreService.decPrivateModes.sendFocus=!1;break;case 1005:this._logService.debug("DECRST 1005 not supported (see #2507)");break;case 1006:case 1016:this._coreMouseService.activeEncoding="DEFAULT";break;case 1015:this._logService.debug("DECRST 1015 not supported (see #2507)");break;case 25:this._coreService.isCursorHidden=!0;break;case 1048:this.restoreCursor();break;case 1049:case 47:case 1047:this._bufferService.buffers.activateNormalBuffer(),x.params[k]===1049&&this.restoreCursor(),this._coreService.isCursorInitialized=!0,this._onRequestRefreshRows.fire(0,this._bufferService.rows-1),this._onRequestSyncScrollBar.fire();break;case 2004:this._coreService.decPrivateModes.bracketedPasteMode=!1}return!0}requestMode(x,k){const R=this._coreService.decPrivateModes,{activeProtocol:O,activeEncoding:G}=this._coreMouseService,$=this._coreService,{buffers:ne,cols:ae}=this._bufferService,{active:P,alt:H}=ne,Q=this._optionsService.rawOptions,q=fe=>fe?1:2,te=x.params[0];return le=te,pe=k?te===2?4:te===4?q($.modes.insertMode):te===12?3:te===20?q(Q.convertEol):0:te===1?q(R.applicationCursorKeys):te===3?Q.windowOptions.setWinLines?ae===80?2:ae===132?1:0:0:te===6?q(R.origin):te===7?q(R.wraparound):te===8?3:te===9?q(O==="X10"):te===12?q(Q.cursorBlink):te===25?q(!$.isCursorHidden):te===45?q(R.reverseWraparound):te===66?q(R.applicationKeypad):te===67?4:te===1e3?q(O==="VT200"):te===1002?q(O==="DRAG"):te===1003?q(O==="ANY"):te===1004?q(R.sendFocus):te===1005?4:te===1006?q(G==="SGR"):te===1015?4:te===1016?q(G==="SGR_PIXELS"):te===1048?1:te===47||te===1047||te===1049?q(P===H):te===2004?q(R.bracketedPasteMode):0,$.triggerDataEvent(`${l.C0.ESC}[${k?"":"?"}${le};${pe}$y`),!0;var le,pe}_updateAttrColor(x,k,R,O,G){return k===2?(x|=50331648,x&=-16777216,x|=m.AttributeData.fromColorRGB([R,O,G])):k===5&&(x&=-50331904,x|=33554432|255&R),x}_extractColor(x,k,R){const O=[0,0,-1,0,0,0];let G=0,$=0;do{if(O[$+G]=x.params[k+$],x.hasSubParams(k+$)){const ne=x.getSubParams(k+$);let ae=0;do O[1]===5&&(G=1),O[$+ae+1+G]=ne[ae];while(++ae<ne.length&&ae+$+1+G<O.length);break}if(O[1]===5&&$+G>=2||O[1]===2&&$+G>=5)break;O[1]&&(G=1)}while(++$+k<x.length&&$+G<O.length);for(let ne=2;ne<O.length;++ne)O[ne]===-1&&(O[ne]=0);switch(O[0]){case 38:R.fg=this._updateAttrColor(R.fg,O[1],O[3],O[4],O[5]);break;case 48:R.bg=this._updateAttrColor(R.bg,O[1],O[3],O[4],O[5]);break;case 58:R.extended=R.extended.clone(),R.extended.underlineColor=this._updateAttrColor(R.extended.underlineColor,O[1],O[3],O[4],O[5])}return $}_processUnderline(x,k){k.extended=k.extended.clone(),(!~x||x>5)&&(x=1),k.extended.underlineStyle=x,k.fg|=268435456,x===0&&(k.fg&=-268435457),k.updateExtended()}_processSGR0(x){x.fg=r.DEFAULT_ATTR_DATA.fg,x.bg=r.DEFAULT_ATTR_DATA.bg,x.extended=x.extended.clone(),x.extended.underlineStyle=0,x.extended.underlineColor&=-67108864,x.updateExtended()}charAttributes(x){if(x.length===1&&x.params[0]===0)return this._processSGR0(this._curAttrData),!0;const k=x.length;let R;const O=this._curAttrData;for(let G=0;G<k;G++)R=x.params[G],R>=30&&R<=37?(O.fg&=-50331904,O.fg|=16777216|R-30):R>=40&&R<=47?(O.bg&=-50331904,O.bg|=16777216|R-40):R>=90&&R<=97?(O.fg&=-50331904,O.fg|=16777224|R-90):R>=100&&R<=107?(O.bg&=-50331904,O.bg|=16777224|R-100):R===0?this._processSGR0(O):R===1?O.fg|=134217728:R===3?O.bg|=67108864:R===4?(O.fg|=268435456,this._processUnderline(x.hasSubParams(G)?x.getSubParams(G)[0]:1,O)):R===5?O.fg|=536870912:R===7?O.fg|=67108864:R===8?O.fg|=1073741824:R===9?O.fg|=2147483648:R===2?O.bg|=134217728:R===21?this._processUnderline(2,O):R===22?(O.fg&=-134217729,O.bg&=-134217729):R===23?O.bg&=-67108865:R===24?(O.fg&=-268435457,this._processUnderline(0,O)):R===25?O.fg&=-536870913:R===27?O.fg&=-67108865:R===28?O.fg&=-1073741825:R===29?O.fg&=2147483647:R===39?(O.fg&=-67108864,O.fg|=16777215&r.DEFAULT_ATTR_DATA.fg):R===49?(O.bg&=-67108864,O.bg|=16777215&r.DEFAULT_ATTR_DATA.bg):R===38||R===48||R===58?G+=this._extractColor(x,G,O):R===53?O.bg|=1073741824:R===55?O.bg&=-1073741825:R===59?(O.extended=O.extended.clone(),O.extended.underlineColor=-1,O.updateExtended()):R===100?(O.fg&=-67108864,O.fg|=16777215&r.DEFAULT_ATTR_DATA.fg,O.bg&=-67108864,O.bg|=16777215&r.DEFAULT_ATTR_DATA.bg):this._logService.debug("Unknown SGR attribute: %d.",R);return!0}deviceStatus(x){switch(x.params[0]){case 5:this._coreService.triggerDataEvent(`${l.C0.ESC}[0n`);break;case 6:const k=this._activeBuffer.y+1,R=this._activeBuffer.x+1;this._coreService.triggerDataEvent(`${l.C0.ESC}[${k};${R}R`)}return!0}deviceStatusPrivate(x){if(x.params[0]===6){const k=this._activeBuffer.y+1,R=this._activeBuffer.x+1;this._coreService.triggerDataEvent(`${l.C0.ESC}[?${k};${R}R`)}return!0}softReset(x){return this._coreService.isCursorHidden=!1,this._onRequestSyncScrollBar.fire(),this._activeBuffer.scrollTop=0,this._activeBuffer.scrollBottom=this._bufferService.rows-1,this._curAttrData=r.DEFAULT_ATTR_DATA.clone(),this._coreService.reset(),this._charsetService.reset(),this._activeBuffer.savedX=0,this._activeBuffer.savedY=this._activeBuffer.ybase,this._activeBuffer.savedCurAttrData.fg=this._curAttrData.fg,this._activeBuffer.savedCurAttrData.bg=this._curAttrData.bg,this._activeBuffer.savedCharset=this._charsetService.charset,this._coreService.decPrivateModes.origin=!1,!0}setCursorStyle(x){const k=x.params[0]||1;switch(k){case 1:case 2:this._optionsService.options.cursorStyle="block";break;case 3:case 4:this._optionsService.options.cursorStyle="underline";break;case 5:case 6:this._optionsService.options.cursorStyle="bar"}const R=k%2==1;return this._optionsService.options.cursorBlink=R,!0}setScrollRegion(x){const k=x.params[0]||1;let R;return(x.length<2||(R=x.params[1])>this._bufferService.rows||R===0)&&(R=this._bufferService.rows),R>k&&(this._activeBuffer.scrollTop=k-1,this._activeBuffer.scrollBottom=R-1,this._setCursor(0,0)),!0}windowOptions(x){if(!D(x.params[0],this._optionsService.rawOptions.windowOptions))return!0;const k=x.length>1?x.params[1]:0;switch(x.params[0]){case 14:k!==2&&this._onRequestWindowsOptionsReport.fire(M.GET_WIN_SIZE_PIXELS);break;case 16:this._onRequestWindowsOptionsReport.fire(M.GET_CELL_SIZE_PIXELS);break;case 18:this._bufferService&&this._coreService.triggerDataEvent(`${l.C0.ESC}[8;${this._bufferService.rows};${this._bufferService.cols}t`);break;case 22:k!==0&&k!==2||(this._windowTitleStack.push(this._windowTitle),this._windowTitleStack.length>10&&this._windowTitleStack.shift()),k!==0&&k!==1||(this._iconNameStack.push(this._iconName),this._iconNameStack.length>10&&this._iconNameStack.shift());break;case 23:k!==0&&k!==2||this._windowTitleStack.length&&this.setTitle(this._windowTitleStack.pop()),k!==0&&k!==1||this._iconNameStack.length&&this.setIconName(this._iconNameStack.pop())}return!0}saveCursor(x){return this._activeBuffer.savedX=this._activeBuffer.x,this._activeBuffer.savedY=this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.savedCurAttrData.fg=this._curAttrData.fg,this._activeBuffer.savedCurAttrData.bg=this._curAttrData.bg,this._activeBuffer.savedCharset=this._charsetService.charset,!0}restoreCursor(x){return this._activeBuffer.x=this._activeBuffer.savedX||0,this._activeBuffer.y=Math.max(this._activeBuffer.savedY-this._activeBuffer.ybase,0),this._curAttrData.fg=this._activeBuffer.savedCurAttrData.fg,this._curAttrData.bg=this._activeBuffer.savedCurAttrData.bg,this._charsetService.charset=this._savedCharset,this._activeBuffer.savedCharset&&(this._charsetService.charset=this._activeBuffer.savedCharset),this._restrictCursor(),!0}setTitle(x){return this._windowTitle=x,this._onTitleChange.fire(x),!0}setIconName(x){return this._iconName=x,!0}setOrReportIndexedColor(x){const k=[],R=x.split(";");for(;R.length>1;){const O=R.shift(),G=R.shift();if(/^\d+$/.exec(O)){const $=parseInt(O);if(N($))if(G==="?")k.push({type:0,index:$});else{const ne=(0,b.parseColor)(G);ne&&k.push({type:1,index:$,color:ne})}}}return k.length&&this._onColor.fire(k),!0}setHyperlink(x){const k=x.split(";");return!(k.length<2)&&(k[1]?this._createHyperlink(k[0],k[1]):!k[0]&&this._finishHyperlink())}_createHyperlink(x,k){this._getCurrentLinkId()&&this._finishHyperlink();const R=x.split(":");let O;const G=R.findIndex(($=>$.startsWith("id=")));return G!==-1&&(O=R[G].slice(3)||void 0),this._curAttrData.extended=this._curAttrData.extended.clone(),this._curAttrData.extended.urlId=this._oscLinkService.registerLink({id:O,uri:k}),this._curAttrData.updateExtended(),!0}_finishHyperlink(){return this._curAttrData.extended=this._curAttrData.extended.clone(),this._curAttrData.extended.urlId=0,this._curAttrData.updateExtended(),!0}_setOrReportSpecialColor(x,k){const R=x.split(";");for(let O=0;O<R.length&&!(k>=this._specialColors.length);++O,++k)if(R[O]==="?")this._onColor.fire([{type:0,index:this._specialColors[k]}]);else{const G=(0,b.parseColor)(R[O]);G&&this._onColor.fire([{type:1,index:this._specialColors[k],color:G}])}return!0}setOrReportFgColor(x){return this._setOrReportSpecialColor(x,0)}setOrReportBgColor(x){return this._setOrReportSpecialColor(x,1)}setOrReportCursorColor(x){return this._setOrReportSpecialColor(x,2)}restoreIndexedColor(x){if(!x)return this._onColor.fire([{type:2}]),!0;const k=[],R=x.split(";");for(let O=0;O<R.length;++O)if(/^\d+$/.exec(R[O])){const G=parseInt(R[O]);N(G)&&k.push({type:2,index:G})}return k.length&&this._onColor.fire(k),!0}restoreFgColor(x){return this._onColor.fire([{type:2,index:256}]),!0}restoreBgColor(x){return this._onColor.fire([{type:2,index:257}]),!0}restoreCursorColor(x){return this._onColor.fire([{type:2,index:258}]),!0}nextLine(){return this._activeBuffer.x=0,this.index(),!0}keypadApplicationMode(){return this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,this._onRequestSyncScrollBar.fire(),!0}keypadNumericMode(){return this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,this._onRequestSyncScrollBar.fire(),!0}selectDefaultCharset(){return this._charsetService.setgLevel(0),this._charsetService.setgCharset(0,g.DEFAULT_CHARSET),!0}selectCharset(x){return x.length!==2?(this.selectDefaultCharset(),!0):(x[0]==="/"||this._charsetService.setgCharset(L[x[0]],g.CHARSETS[x[1]]||g.DEFAULT_CHARSET),!0)}index(){return this._restrictCursor(),this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData())):this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._restrictCursor(),!0}tabSet(){return this._activeBuffer.tabs[this._activeBuffer.x]=!0,!0}reverseIndex(){if(this._restrictCursor(),this._activeBuffer.y===this._activeBuffer.scrollTop){const x=this._activeBuffer.scrollBottom-this._activeBuffer.scrollTop;this._activeBuffer.lines.shiftElements(this._activeBuffer.ybase+this._activeBuffer.y,x,1),this._activeBuffer.lines.set(this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.getBlankLine(this._eraseAttrData())),this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom)}else this._activeBuffer.y--,this._restrictCursor();return!0}fullReset(){return this._parser.reset(),this._onRequestReset.fire(),!0}reset(){this._curAttrData=r.DEFAULT_ATTR_DATA.clone(),this._eraseAttrDataInternal=r.DEFAULT_ATTR_DATA.clone()}_eraseAttrData(){return this._eraseAttrDataInternal.bg&=-67108864,this._eraseAttrDataInternal.bg|=67108863&this._curAttrData.bg,this._eraseAttrDataInternal}setgLevel(x){return this._charsetService.setgLevel(x),!0}screenAlignmentPattern(){const x=new h.CellData;x.content=4194373,x.fg=this._curAttrData.fg,x.bg=this._curAttrData.bg,this._setCursor(0,0);for(let k=0;k<this._bufferService.rows;++k){const R=this._activeBuffer.ybase+this._activeBuffer.y+k,O=this._activeBuffer.lines.get(R);O&&(O.fill(x),O.isWrapped=!1)}return this._dirtyRowTracker.markAllDirty(),this._setCursor(0,0),!0}requestStatusString(x,k){const R=this._bufferService.buffer,O=this._optionsService.rawOptions;return(G=>(this._coreService.triggerDataEvent(`${l.C0.ESC}${G}${l.C0.ESC}\\`),!0))(x==='"q'?`P1$r${this._curAttrData.isProtected()?1:0}"q`:x==='"p'?'P1$r61;1"p':x==="r"?`P1$r${R.scrollTop+1};${R.scrollBottom+1}r`:x==="m"?"P1$r0m":x===" q"?`P1$r${{block:2,underline:4,bar:6}[O.cursorStyle]-(O.cursorBlink?1:0)} q`:"P0$r")}markRangeDirty(x,k){this._dirtyRowTracker.markRangeDirty(x,k)}}a.InputHandler=V;let U=class{constructor(F){this._bufferService=F,this.clearRange()}clearRange(){this.start=this._bufferService.buffer.y,this.end=this._bufferService.buffer.y}markDirty(F){F<this.start?this.start=F:F>this.end&&(this.end=F)}markRangeDirty(F,x){F>x&&(z=F,F=x,x=z),F<this.start&&(this.start=F),x>this.end&&(this.end=x)}markAllDirty(){this.markRangeDirty(0,this._bufferService.rows-1)}};function N(F){return 0<=F&&F<256}U=_([v(0,w.IBufferService)],U)},844:(W,a)=>{function d(_){for(const v of _)v.dispose();_.length=0}Object.defineProperty(a,"__esModule",{value:!0}),a.getDisposeArrayDisposable=a.disposeArray=a.toDisposable=a.MutableDisposable=a.Disposable=void 0,a.Disposable=class{constructor(){this._disposables=[],this._isDisposed=!1}dispose(){this._isDisposed=!0;for(const _ of this._disposables)_.dispose();this._disposables.length=0}register(_){return this._disposables.push(_),_}unregister(_){const v=this._disposables.indexOf(_);v!==-1&&this._disposables.splice(v,1)}},a.MutableDisposable=class{constructor(){this._isDisposed=!1}get value(){return this._isDisposed?void 0:this._value}set value(_){this._isDisposed||_===this._value||(this._value?.dispose(),this._value=_)}clear(){this.value=void 0}dispose(){this._isDisposed=!0,this._value?.dispose(),this._value=void 0}},a.toDisposable=function(_){return{dispose:_}},a.disposeArray=d,a.getDisposeArrayDisposable=function(_){return{dispose:()=>d(_)}}},1505:(W,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.FourKeyMap=a.TwoKeyMap=void 0;class d{constructor(){this._data={}}set(v,l,g){this._data[v]||(this._data[v]={}),this._data[v][l]=g}get(v,l){return this._data[v]?this._data[v][l]:void 0}clear(){this._data={}}}a.TwoKeyMap=d,a.FourKeyMap=class{constructor(){this._data=new d}set(_,v,l,g,y){this._data.get(_,v)||this._data.set(_,v,new d),this._data.get(_,v).set(l,g,y)}get(_,v,l,g){return this._data.get(_,v)?.get(l,g)}clear(){this._data.clear()}}},6114:(W,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.isChromeOS=a.isLinux=a.isWindows=a.isIphone=a.isIpad=a.isMac=a.getSafariVersion=a.isSafari=a.isLegacyEdge=a.isFirefox=a.isNode=void 0,a.isNode=typeof process<"u"&&"title"in process;const d=a.isNode?"node":navigator.userAgent,_=a.isNode?"node":navigator.platform;a.isFirefox=d.includes("Firefox"),a.isLegacyEdge=d.includes("Edge"),a.isSafari=/^((?!chrome|android).)*safari/i.test(d),a.getSafariVersion=function(){if(!a.isSafari)return 0;const v=d.match(/Version\/(\d+)/);return v===null||v.length<2?0:parseInt(v[1])},a.isMac=["Macintosh","MacIntel","MacPPC","Mac68K"].includes(_),a.isIpad=_==="iPad",a.isIphone=_==="iPhone",a.isWindows=["Windows","Win16","Win32","WinCE"].includes(_),a.isLinux=_.indexOf("Linux")>=0,a.isChromeOS=/\bCrOS\b/.test(d)},6106:(W,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.SortedList=void 0;let d=0;a.SortedList=class{constructor(_){this._getKey=_,this._array=[]}clear(){this._array.length=0}insert(_){this._array.length!==0?(d=this._search(this._getKey(_)),this._array.splice(d,0,_)):this._array.push(_)}delete(_){if(this._array.length===0)return!1;const v=this._getKey(_);if(v===void 0||(d=this._search(v),d===-1)||this._getKey(this._array[d])!==v)return!1;do if(this._array[d]===_)return this._array.splice(d,1),!0;while(++d<this._array.length&&this._getKey(this._array[d])===v);return!1}*getKeyIterator(_){if(this._array.length!==0&&(d=this._search(_),!(d<0||d>=this._array.length)&&this._getKey(this._array[d])===_))do yield this._array[d];while(++d<this._array.length&&this._getKey(this._array[d])===_)}forEachByKey(_,v){if(this._array.length!==0&&(d=this._search(_),!(d<0||d>=this._array.length)&&this._getKey(this._array[d])===_))do v(this._array[d]);while(++d<this._array.length&&this._getKey(this._array[d])===_)}values(){return[...this._array].values()}_search(_){let v=0,l=this._array.length-1;for(;l>=v;){let g=v+l>>1;const y=this._getKey(this._array[g]);if(y>_)l=g-1;else{if(!(y<_)){for(;g>0&&this._getKey(this._array[g-1])===_;)g--;return g}v=g+1}}return v}}},7226:(W,a,d)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.DebouncedIdleTask=a.IdleTaskQueue=a.PriorityTaskQueue=void 0;const _=d(6114);class v{constructor(){this._tasks=[],this._i=0}enqueue(y){this._tasks.push(y),this._start()}flush(){for(;this._i<this._tasks.length;)this._tasks[this._i]()||this._i++;this.clear()}clear(){this._idleCallback&&(this._cancelCallback(this._idleCallback),this._idleCallback=void 0),this._i=0,this._tasks.length=0}_start(){this._idleCallback||(this._idleCallback=this._requestCallback(this._process.bind(this)))}_process(y){this._idleCallback=void 0;let C=0,f=0,r=y.timeRemaining(),c=0;for(;this._i<this._tasks.length;){if(C=Date.now(),this._tasks[this._i]()||this._i++,C=Math.max(1,Date.now()-C),f=Math.max(C,f),c=y.timeRemaining(),1.5*f>c)return r-C<-20&&console.warn(`task queue exceeded allotted deadline by ${Math.abs(Math.round(r-C))}ms`),void this._start();r=c}this.clear()}}class l extends v{_requestCallback(y){return setTimeout((()=>y(this._createDeadline(16))))}_cancelCallback(y){clearTimeout(y)}_createDeadline(y){const C=Date.now()+y;return{timeRemaining:()=>Math.max(0,C-Date.now())}}}a.PriorityTaskQueue=l,a.IdleTaskQueue=!_.isNode&&"requestIdleCallback"in window?class extends v{_requestCallback(g){return requestIdleCallback(g)}_cancelCallback(g){cancelIdleCallback(g)}}:l,a.DebouncedIdleTask=class{constructor(){this._queue=new a.IdleTaskQueue}set(g){this._queue.clear(),this._queue.enqueue(g)}flush(){this._queue.flush()}}},9282:(W,a,d)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.updateWindowsModeWrappedState=void 0;const _=d(643);a.updateWindowsModeWrappedState=function(v){const l=v.buffer.lines.get(v.buffer.ybase+v.buffer.y-1),g=l?.get(v.cols-1),y=v.buffer.lines.get(v.buffer.ybase+v.buffer.y);y&&g&&(y.isWrapped=g[_.CHAR_DATA_CODE_INDEX]!==_.NULL_CELL_CODE&&g[_.CHAR_DATA_CODE_INDEX]!==_.WHITESPACE_CELL_CODE)}},3734:(W,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.ExtendedAttrs=a.AttributeData=void 0;class d{constructor(){this.fg=0,this.bg=0,this.extended=new _}static toColorRGB(l){return[l>>>16&255,l>>>8&255,255&l]}static fromColorRGB(l){return(255&l[0])<<16|(255&l[1])<<8|255&l[2]}clone(){const l=new d;return l.fg=this.fg,l.bg=this.bg,l.extended=this.extended.clone(),l}isInverse(){return 67108864&this.fg}isBold(){return 134217728&this.fg}isUnderline(){return this.hasExtendedAttrs()&&this.extended.underlineStyle!==0?1:268435456&this.fg}isBlink(){return 536870912&this.fg}isInvisible(){return 1073741824&this.fg}isItalic(){return 67108864&this.bg}isDim(){return 134217728&this.bg}isStrikethrough(){return 2147483648&this.fg}isProtected(){return 536870912&this.bg}isOverline(){return 1073741824&this.bg}getFgColorMode(){return 50331648&this.fg}getBgColorMode(){return 50331648&this.bg}isFgRGB(){return(50331648&this.fg)==50331648}isBgRGB(){return(50331648&this.bg)==50331648}isFgPalette(){return(50331648&this.fg)==16777216||(50331648&this.fg)==33554432}isBgPalette(){return(50331648&this.bg)==16777216||(50331648&this.bg)==33554432}isFgDefault(){return(50331648&this.fg)==0}isBgDefault(){return(50331648&this.bg)==0}isAttributeDefault(){return this.fg===0&&this.bg===0}getFgColor(){switch(50331648&this.fg){case 16777216:case 33554432:return 255&this.fg;case 50331648:return 16777215&this.fg;default:return-1}}getBgColor(){switch(50331648&this.bg){case 16777216:case 33554432:return 255&this.bg;case 50331648:return 16777215&this.bg;default:return-1}}hasExtendedAttrs(){return 268435456&this.bg}updateExtended(){this.extended.isEmpty()?this.bg&=-268435457:this.bg|=268435456}getUnderlineColor(){if(268435456&this.bg&&~this.extended.underlineColor)switch(50331648&this.extended.underlineColor){case 16777216:case 33554432:return 255&this.extended.underlineColor;case 50331648:return 16777215&this.extended.underlineColor;default:return this.getFgColor()}return this.getFgColor()}getUnderlineColorMode(){return 268435456&this.bg&&~this.extended.underlineColor?50331648&this.extended.underlineColor:this.getFgColorMode()}isUnderlineColorRGB(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==50331648:this.isFgRGB()}isUnderlineColorPalette(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==16777216||(50331648&this.extended.underlineColor)==33554432:this.isFgPalette()}isUnderlineColorDefault(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==0:this.isFgDefault()}getUnderlineStyle(){return 268435456&this.fg?268435456&this.bg?this.extended.underlineStyle:1:0}getUnderlineVariantOffset(){return this.extended.underlineVariantOffset}}a.AttributeData=d;class _{get ext(){return this._urlId?-469762049&this._ext|this.underlineStyle<<26:this._ext}set ext(l){this._ext=l}get underlineStyle(){return this._urlId?5:(469762048&this._ext)>>26}set underlineStyle(l){this._ext&=-469762049,this._ext|=l<<26&469762048}get underlineColor(){return 67108863&this._ext}set underlineColor(l){this._ext&=-67108864,this._ext|=67108863&l}get urlId(){return this._urlId}set urlId(l){this._urlId=l}get underlineVariantOffset(){const l=(3758096384&this._ext)>>29;return l<0?4294967288^l:l}set underlineVariantOffset(l){this._ext&=536870911,this._ext|=l<<29&3758096384}constructor(l=0,g=0){this._ext=0,this._urlId=0,this._ext=l,this._urlId=g}clone(){return new _(this._ext,this._urlId)}isEmpty(){return this.underlineStyle===0&&this._urlId===0}}a.ExtendedAttrs=_},9092:(W,a,d)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.Buffer=a.MAX_BUFFER_SIZE=void 0;const _=d(6349),v=d(7226),l=d(3734),g=d(8437),y=d(4634),C=d(511),f=d(643),r=d(4863),c=d(7116);a.MAX_BUFFER_SIZE=4294967295,a.Buffer=class{constructor(o,h,m){this._hasScrollback=o,this._optionsService=h,this._bufferService=m,this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.tabs={},this.savedY=0,this.savedX=0,this.savedCurAttrData=g.DEFAULT_ATTR_DATA.clone(),this.savedCharset=c.DEFAULT_CHARSET,this.markers=[],this._nullCell=C.CellData.fromCharData([0,f.NULL_CELL_CHAR,f.NULL_CELL_WIDTH,f.NULL_CELL_CODE]),this._whitespaceCell=C.CellData.fromCharData([0,f.WHITESPACE_CELL_CHAR,f.WHITESPACE_CELL_WIDTH,f.WHITESPACE_CELL_CODE]),this._isClearing=!1,this._memoryCleanupQueue=new v.IdleTaskQueue,this._memoryCleanupPosition=0,this._cols=this._bufferService.cols,this._rows=this._bufferService.rows,this.lines=new _.CircularList(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()}getNullCell(o){return o?(this._nullCell.fg=o.fg,this._nullCell.bg=o.bg,this._nullCell.extended=o.extended):(this._nullCell.fg=0,this._nullCell.bg=0,this._nullCell.extended=new l.ExtendedAttrs),this._nullCell}getWhitespaceCell(o){return o?(this._whitespaceCell.fg=o.fg,this._whitespaceCell.bg=o.bg,this._whitespaceCell.extended=o.extended):(this._whitespaceCell.fg=0,this._whitespaceCell.bg=0,this._whitespaceCell.extended=new l.ExtendedAttrs),this._whitespaceCell}getBlankLine(o,h){return new g.BufferLine(this._bufferService.cols,this.getNullCell(o),h)}get hasScrollback(){return this._hasScrollback&&this.lines.maxLength>this._rows}get isCursorInViewport(){const o=this.ybase+this.y-this.ydisp;return o>=0&&o<this._rows}_getCorrectBufferLength(o){if(!this._hasScrollback)return o;const h=o+this._optionsService.rawOptions.scrollback;return h>a.MAX_BUFFER_SIZE?a.MAX_BUFFER_SIZE:h}fillViewportRows(o){if(this.lines.length===0){o===void 0&&(o=g.DEFAULT_ATTR_DATA);let h=this._rows;for(;h--;)this.lines.push(this.getBlankLine(o))}}clear(){this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.lines=new _.CircularList(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()}resize(o,h){const m=this.getNullCell(g.DEFAULT_ATTR_DATA);let w=0;const S=this._getCorrectBufferLength(h);if(S>this.lines.maxLength&&(this.lines.maxLength=S),this.lines.length>0){if(this._cols<o)for(let p=0;p<this.lines.length;p++)w+=+this.lines.get(p).resize(o,m);let E=0;if(this._rows<h)for(let p=this._rows;p<h;p++)this.lines.length<h+this.ybase&&(this._optionsService.rawOptions.windowsMode||this._optionsService.rawOptions.windowsPty.backend!==void 0||this._optionsService.rawOptions.windowsPty.buildNumber!==void 0?this.lines.push(new g.BufferLine(o,m)):this.ybase>0&&this.lines.length<=this.ybase+this.y+E+1?(this.ybase--,E++,this.ydisp>0&&this.ydisp--):this.lines.push(new g.BufferLine(o,m)));else for(let p=this._rows;p>h;p--)this.lines.length>h+this.ybase&&(this.lines.length>this.ybase+this.y+1?this.lines.pop():(this.ybase++,this.ydisp++));if(S<this.lines.maxLength){const p=this.lines.length-S;p>0&&(this.lines.trimStart(p),this.ybase=Math.max(this.ybase-p,0),this.ydisp=Math.max(this.ydisp-p,0),this.savedY=Math.max(this.savedY-p,0)),this.lines.maxLength=S}this.x=Math.min(this.x,o-1),this.y=Math.min(this.y,h-1),E&&(this.y+=E),this.savedX=Math.min(this.savedX,o-1),this.scrollTop=0}if(this.scrollBottom=h-1,this._isReflowEnabled&&(this._reflow(o,h),this._cols>o))for(let E=0;E<this.lines.length;E++)w+=+this.lines.get(E).resize(o,m);this._cols=o,this._rows=h,this._memoryCleanupQueue.clear(),w>.1*this.lines.length&&(this._memoryCleanupPosition=0,this._memoryCleanupQueue.enqueue((()=>this._batchedMemoryCleanup())))}_batchedMemoryCleanup(){let o=!0;this._memoryCleanupPosition>=this.lines.length&&(this._memoryCleanupPosition=0,o=!1);let h=0;for(;this._memoryCleanupPosition<this.lines.length;)if(h+=this.lines.get(this._memoryCleanupPosition++).cleanupMemory(),h>100)return!0;return o}get _isReflowEnabled(){const o=this._optionsService.rawOptions.windowsPty;return o&&o.buildNumber?this._hasScrollback&&o.backend==="conpty"&&o.buildNumber>=21376:this._hasScrollback&&!this._optionsService.rawOptions.windowsMode}_reflow(o,h){this._cols!==o&&(o>this._cols?this._reflowLarger(o,h):this._reflowSmaller(o,h))}_reflowLarger(o,h){const m=(0,y.reflowLargerGetLinesToRemove)(this.lines,this._cols,o,this.ybase+this.y,this.getNullCell(g.DEFAULT_ATTR_DATA));if(m.length>0){const w=(0,y.reflowLargerCreateNewLayout)(this.lines,m);(0,y.reflowLargerApplyNewLayout)(this.lines,w.layout),this._reflowLargerAdjustViewport(o,h,w.countRemoved)}}_reflowLargerAdjustViewport(o,h,m){const w=this.getNullCell(g.DEFAULT_ATTR_DATA);let S=m;for(;S-- >0;)this.ybase===0?(this.y>0&&this.y--,this.lines.length<h&&this.lines.push(new g.BufferLine(o,w))):(this.ydisp===this.ybase&&this.ydisp--,this.ybase--);this.savedY=Math.max(this.savedY-m,0)}_reflowSmaller(o,h){const m=this.getNullCell(g.DEFAULT_ATTR_DATA),w=[];let S=0;for(let E=this.lines.length-1;E>=0;E--){let p=this.lines.get(E);if(!p||!p.isWrapped&&p.getTrimmedLength()<=o)continue;const b=[p];for(;p.isWrapped&&E>0;)p=this.lines.get(--E),b.unshift(p);const L=this.ybase+this.y;if(L>=E&&L<E+b.length)continue;const B=b[b.length-1].getTrimmedLength(),D=(0,y.reflowSmallerGetNewLineLengths)(b,this._cols,o),M=D.length-b.length;let z;z=this.ybase===0&&this.y!==this.lines.length-1?Math.max(0,this.y-this.lines.maxLength+M):Math.max(0,this.lines.length-this.lines.maxLength+M);const V=[];for(let R=0;R<M;R++){const O=this.getBlankLine(g.DEFAULT_ATTR_DATA,!0);V.push(O)}V.length>0&&(w.push({start:E+b.length+S,newLines:V}),S+=V.length),b.push(...V);let U=D.length-1,N=D[U];N===0&&(U--,N=D[U]);let F=b.length-M-1,x=B;for(;F>=0;){const R=Math.min(x,N);if(b[U]===void 0)break;if(b[U].copyCellsFrom(b[F],x-R,N-R,R,!0),N-=R,N===0&&(U--,N=D[U]),x-=R,x===0){F--;const O=Math.max(F,0);x=(0,y.getWrappedLineTrimmedLength)(b,O,this._cols)}}for(let R=0;R<b.length;R++)D[R]<o&&b[R].setCell(D[R],m);let k=M-z;for(;k-- >0;)this.ybase===0?this.y<h-1?(this.y++,this.lines.pop()):(this.ybase++,this.ydisp++):this.ybase<Math.min(this.lines.maxLength,this.lines.length+S)-h&&(this.ybase===this.ydisp&&this.ydisp++,this.ybase++);this.savedY=Math.min(this.savedY+M,this.ybase+h-1)}if(w.length>0){const E=[],p=[];for(let U=0;U<this.lines.length;U++)p.push(this.lines.get(U));const b=this.lines.length;let L=b-1,B=0,D=w[B];this.lines.length=Math.min(this.lines.maxLength,this.lines.length+S);let M=0;for(let U=Math.min(this.lines.maxLength-1,b+S-1);U>=0;U--)if(D&&D.start>L+M){for(let N=D.newLines.length-1;N>=0;N--)this.lines.set(U--,D.newLines[N]);U++,E.push({index:L+1,amount:D.newLines.length}),M+=D.newLines.length,D=w[++B]}else this.lines.set(U,p[L--]);let z=0;for(let U=E.length-1;U>=0;U--)E[U].index+=z,this.lines.onInsertEmitter.fire(E[U]),z+=E[U].amount;const V=Math.max(0,b+S-this.lines.maxLength);V>0&&this.lines.onTrimEmitter.fire(V)}}translateBufferLineToString(o,h,m=0,w){const S=this.lines.get(o);return S?S.translateToString(h,m,w):""}getWrappedRangeForLine(o){let h=o,m=o;for(;h>0&&this.lines.get(h).isWrapped;)h--;for(;m+1<this.lines.length&&this.lines.get(m+1).isWrapped;)m++;return{first:h,last:m}}setupTabStops(o){for(o!=null?this.tabs[o]||(o=this.prevStop(o)):(this.tabs={},o=0);o<this._cols;o+=this._optionsService.rawOptions.tabStopWidth)this.tabs[o]=!0}prevStop(o){for(o==null&&(o=this.x);!this.tabs[--o]&&o>0;);return o>=this._cols?this._cols-1:o<0?0:o}nextStop(o){for(o==null&&(o=this.x);!this.tabs[++o]&&o<this._cols;);return o>=this._cols?this._cols-1:o<0?0:o}clearMarkers(o){this._isClearing=!0;for(let h=0;h<this.markers.length;h++)this.markers[h].line===o&&(this.markers[h].dispose(),this.markers.splice(h--,1));this._isClearing=!1}clearAllMarkers(){this._isClearing=!0;for(let o=0;o<this.markers.length;o++)this.markers[o].dispose(),this.markers.splice(o--,1);this._isClearing=!1}addMarker(o){const h=new r.Marker(o);return this.markers.push(h),h.register(this.lines.onTrim((m=>{h.line-=m,h.line<0&&h.dispose()}))),h.register(this.lines.onInsert((m=>{h.line>=m.index&&(h.line+=m.amount)}))),h.register(this.lines.onDelete((m=>{h.line>=m.index&&h.line<m.index+m.amount&&h.dispose(),h.line>m.index&&(h.line-=m.amount)}))),h.register(h.onDispose((()=>this._removeMarker(h)))),h}_removeMarker(o){this._isClearing||this.markers.splice(this.markers.indexOf(o),1)}}},8437:(W,a,d)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.BufferLine=a.DEFAULT_ATTR_DATA=void 0;const _=d(3734),v=d(511),l=d(643),g=d(482);a.DEFAULT_ATTR_DATA=Object.freeze(new _.AttributeData);let y=0;class C{constructor(r,c,o=!1){this.isWrapped=o,this._combined={},this._extendedAttrs={},this._data=new Uint32Array(3*r);const h=c||v.CellData.fromCharData([0,l.NULL_CELL_CHAR,l.NULL_CELL_WIDTH,l.NULL_CELL_CODE]);for(let m=0;m<r;++m)this.setCell(m,h);this.length=r}get(r){const c=this._data[3*r+0],o=2097151&c;return[this._data[3*r+1],2097152&c?this._combined[r]:o?(0,g.stringFromCodePoint)(o):"",c>>22,2097152&c?this._combined[r].charCodeAt(this._combined[r].length-1):o]}set(r,c){this._data[3*r+1]=c[l.CHAR_DATA_ATTR_INDEX],c[l.CHAR_DATA_CHAR_INDEX].length>1?(this._combined[r]=c[1],this._data[3*r+0]=2097152|r|c[l.CHAR_DATA_WIDTH_INDEX]<<22):this._data[3*r+0]=c[l.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|c[l.CHAR_DATA_WIDTH_INDEX]<<22}getWidth(r){return this._data[3*r+0]>>22}hasWidth(r){return 12582912&this._data[3*r+0]}getFg(r){return this._data[3*r+1]}getBg(r){return this._data[3*r+2]}hasContent(r){return 4194303&this._data[3*r+0]}getCodePoint(r){const c=this._data[3*r+0];return 2097152&c?this._combined[r].charCodeAt(this._combined[r].length-1):2097151&c}isCombined(r){return 2097152&this._data[3*r+0]}getString(r){const c=this._data[3*r+0];return 2097152&c?this._combined[r]:2097151&c?(0,g.stringFromCodePoint)(2097151&c):""}isProtected(r){return 536870912&this._data[3*r+2]}loadCell(r,c){return y=3*r,c.content=this._data[y+0],c.fg=this._data[y+1],c.bg=this._data[y+2],2097152&c.content&&(c.combinedData=this._combined[r]),268435456&c.bg&&(c.extended=this._extendedAttrs[r]),c}setCell(r,c){2097152&c.content&&(this._combined[r]=c.combinedData),268435456&c.bg&&(this._extendedAttrs[r]=c.extended),this._data[3*r+0]=c.content,this._data[3*r+1]=c.fg,this._data[3*r+2]=c.bg}setCellFromCodepoint(r,c,o,h){268435456&h.bg&&(this._extendedAttrs[r]=h.extended),this._data[3*r+0]=c|o<<22,this._data[3*r+1]=h.fg,this._data[3*r+2]=h.bg}addCodepointToCell(r,c,o){let h=this._data[3*r+0];2097152&h?this._combined[r]+=(0,g.stringFromCodePoint)(c):2097151&h?(this._combined[r]=(0,g.stringFromCodePoint)(2097151&h)+(0,g.stringFromCodePoint)(c),h&=-2097152,h|=2097152):h=c|4194304,o&&(h&=-12582913,h|=o<<22),this._data[3*r+0]=h}insertCells(r,c,o){if((r%=this.length)&&this.getWidth(r-1)===2&&this.setCellFromCodepoint(r-1,0,1,o),c<this.length-r){const h=new v.CellData;for(let m=this.length-r-c-1;m>=0;--m)this.setCell(r+c+m,this.loadCell(r+m,h));for(let m=0;m<c;++m)this.setCell(r+m,o)}else for(let h=r;h<this.length;++h)this.setCell(h,o);this.getWidth(this.length-1)===2&&this.setCellFromCodepoint(this.length-1,0,1,o)}deleteCells(r,c,o){if(r%=this.length,c<this.length-r){const h=new v.CellData;for(let m=0;m<this.length-r-c;++m)this.setCell(r+m,this.loadCell(r+c+m,h));for(let m=this.length-c;m<this.length;++m)this.setCell(m,o)}else for(let h=r;h<this.length;++h)this.setCell(h,o);r&&this.getWidth(r-1)===2&&this.setCellFromCodepoint(r-1,0,1,o),this.getWidth(r)!==0||this.hasContent(r)||this.setCellFromCodepoint(r,0,1,o)}replaceCells(r,c,o,h=!1){if(h)for(r&&this.getWidth(r-1)===2&&!this.isProtected(r-1)&&this.setCellFromCodepoint(r-1,0,1,o),c<this.length&&this.getWidth(c-1)===2&&!this.isProtected(c)&&this.setCellFromCodepoint(c,0,1,o);r<c&&r<this.length;)this.isProtected(r)||this.setCell(r,o),r++;else for(r&&this.getWidth(r-1)===2&&this.setCellFromCodepoint(r-1,0,1,o),c<this.length&&this.getWidth(c-1)===2&&this.setCellFromCodepoint(c,0,1,o);r<c&&r<this.length;)this.setCell(r++,o)}resize(r,c){if(r===this.length)return 4*this._data.length*2<this._data.buffer.byteLength;const o=3*r;if(r>this.length){if(this._data.buffer.byteLength>=4*o)this._data=new Uint32Array(this._data.buffer,0,o);else{const h=new Uint32Array(o);h.set(this._data),this._data=h}for(let h=this.length;h<r;++h)this.setCell(h,c)}else{this._data=this._data.subarray(0,o);const h=Object.keys(this._combined);for(let w=0;w<h.length;w++){const S=parseInt(h[w],10);S>=r&&delete this._combined[S]}const m=Object.keys(this._extendedAttrs);for(let w=0;w<m.length;w++){const S=parseInt(m[w],10);S>=r&&delete this._extendedAttrs[S]}}return this.length=r,4*o*2<this._data.buffer.byteLength}cleanupMemory(){if(4*this._data.length*2<this._data.buffer.byteLength){const r=new Uint32Array(this._data.length);return r.set(this._data),this._data=r,1}return 0}fill(r,c=!1){if(c)for(let o=0;o<this.length;++o)this.isProtected(o)||this.setCell(o,r);else{this._combined={},this._extendedAttrs={};for(let o=0;o<this.length;++o)this.setCell(o,r)}}copyFrom(r){this.length!==r.length?this._data=new Uint32Array(r._data):this._data.set(r._data),this.length=r.length,this._combined={};for(const c in r._combined)this._combined[c]=r._combined[c];this._extendedAttrs={};for(const c in r._extendedAttrs)this._extendedAttrs[c]=r._extendedAttrs[c];this.isWrapped=r.isWrapped}clone(){const r=new C(0);r._data=new Uint32Array(this._data),r.length=this.length;for(const c in this._combined)r._combined[c]=this._combined[c];for(const c in this._extendedAttrs)r._extendedAttrs[c]=this._extendedAttrs[c];return r.isWrapped=this.isWrapped,r}getTrimmedLength(){for(let r=this.length-1;r>=0;--r)if(4194303&this._data[3*r+0])return r+(this._data[3*r+0]>>22);return 0}getNoBgTrimmedLength(){for(let r=this.length-1;r>=0;--r)if(4194303&this._data[3*r+0]||50331648&this._data[3*r+2])return r+(this._data[3*r+0]>>22);return 0}copyCellsFrom(r,c,o,h,m){const w=r._data;if(m)for(let E=h-1;E>=0;E--){for(let p=0;p<3;p++)this._data[3*(o+E)+p]=w[3*(c+E)+p];268435456&w[3*(c+E)+2]&&(this._extendedAttrs[o+E]=r._extendedAttrs[c+E])}else for(let E=0;E<h;E++){for(let p=0;p<3;p++)this._data[3*(o+E)+p]=w[3*(c+E)+p];268435456&w[3*(c+E)+2]&&(this._extendedAttrs[o+E]=r._extendedAttrs[c+E])}const S=Object.keys(r._combined);for(let E=0;E<S.length;E++){const p=parseInt(S[E],10);p>=c&&(this._combined[p-c+o]=r._combined[p])}}translateToString(r,c,o,h){c=c??0,o=o??this.length,r&&(o=Math.min(o,this.getTrimmedLength())),h&&(h.length=0);let m="";for(;c<o;){const w=this._data[3*c+0],S=2097151&w,E=2097152&w?this._combined[c]:S?(0,g.stringFromCodePoint)(S):l.WHITESPACE_CELL_CHAR;if(m+=E,h)for(let p=0;p<E.length;++p)h.push(c);c+=w>>22||1}return h&&h.push(c),m}}a.BufferLine=C},4841:(W,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.getRangeLength=void 0,a.getRangeLength=function(d,_){if(d.start.y>d.end.y)throw new Error(`Buffer range end (${d.end.x}, ${d.end.y}) cannot be before start (${d.start.x}, ${d.start.y})`);return _*(d.end.y-d.start.y)+(d.end.x-d.start.x+1)}},4634:(W,a)=>{function d(_,v,l){if(v===_.length-1)return _[v].getTrimmedLength();const g=!_[v].hasContent(l-1)&&_[v].getWidth(l-1)===1,y=_[v+1].getWidth(0)===2;return g&&y?l-1:l}Object.defineProperty(a,"__esModule",{value:!0}),a.getWrappedLineTrimmedLength=a.reflowSmallerGetNewLineLengths=a.reflowLargerApplyNewLayout=a.reflowLargerCreateNewLayout=a.reflowLargerGetLinesToRemove=void 0,a.reflowLargerGetLinesToRemove=function(_,v,l,g,y){const C=[];for(let f=0;f<_.length-1;f++){let r=f,c=_.get(++r);if(!c.isWrapped)continue;const o=[_.get(f)];for(;r<_.length&&c.isWrapped;)o.push(c),c=_.get(++r);if(g>=f&&g<r){f+=o.length-1;continue}let h=0,m=d(o,h,v),w=1,S=0;for(;w<o.length;){const p=d(o,w,v),b=p-S,L=l-m,B=Math.min(b,L);o[h].copyCellsFrom(o[w],S,m,B,!1),m+=B,m===l&&(h++,m=0),S+=B,S===p&&(w++,S=0),m===0&&h!==0&&o[h-1].getWidth(l-1)===2&&(o[h].copyCellsFrom(o[h-1],l-1,m++,1,!1),o[h-1].setCell(l-1,y))}o[h].replaceCells(m,l,y);let E=0;for(let p=o.length-1;p>0&&(p>h||o[p].getTrimmedLength()===0);p--)E++;E>0&&(C.push(f+o.length-E),C.push(E)),f+=o.length-1}return C},a.reflowLargerCreateNewLayout=function(_,v){const l=[];let g=0,y=v[g],C=0;for(let f=0;f<_.length;f++)if(y===f){const r=v[++g];_.onDeleteEmitter.fire({index:f-C,amount:r}),f+=r-1,C+=r,y=v[++g]}else l.push(f);return{layout:l,countRemoved:C}},a.reflowLargerApplyNewLayout=function(_,v){const l=[];for(let g=0;g<v.length;g++)l.push(_.get(v[g]));for(let g=0;g<l.length;g++)_.set(g,l[g]);_.length=v.length},a.reflowSmallerGetNewLineLengths=function(_,v,l){const g=[],y=_.map(((c,o)=>d(_,o,v))).reduce(((c,o)=>c+o));let C=0,f=0,r=0;for(;r<y;){if(y-r<l){g.push(y-r);break}C+=l;const c=d(_,f,v);C>c&&(C-=c,f++);const o=_[f].getWidth(C-1)===2;o&&C--;const h=o?l-1:l;g.push(h),r+=h}return g},a.getWrappedLineTrimmedLength=d},5295:(W,a,d)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.BufferSet=void 0;const _=d(8460),v=d(844),l=d(9092);class g extends v.Disposable{constructor(C,f){super(),this._optionsService=C,this._bufferService=f,this._onBufferActivate=this.register(new _.EventEmitter),this.onBufferActivate=this._onBufferActivate.event,this.reset(),this.register(this._optionsService.onSpecificOptionChange("scrollback",(()=>this.resize(this._bufferService.cols,this._bufferService.rows)))),this.register(this._optionsService.onSpecificOptionChange("tabStopWidth",(()=>this.setupTabStops())))}reset(){this._normal=new l.Buffer(!0,this._optionsService,this._bufferService),this._normal.fillViewportRows(),this._alt=new l.Buffer(!1,this._optionsService,this._bufferService),this._activeBuffer=this._normal,this._onBufferActivate.fire({activeBuffer:this._normal,inactiveBuffer:this._alt}),this.setupTabStops()}get alt(){return this._alt}get active(){return this._activeBuffer}get normal(){return this._normal}activateNormalBuffer(){this._activeBuffer!==this._normal&&(this._normal.x=this._alt.x,this._normal.y=this._alt.y,this._alt.clearAllMarkers(),this._alt.clear(),this._activeBuffer=this._normal,this._onBufferActivate.fire({activeBuffer:this._normal,inactiveBuffer:this._alt}))}activateAltBuffer(C){this._activeBuffer!==this._alt&&(this._alt.fillViewportRows(C),this._alt.x=this._normal.x,this._alt.y=this._normal.y,this._activeBuffer=this._alt,this._onBufferActivate.fire({activeBuffer:this._alt,inactiveBuffer:this._normal}))}resize(C,f){this._normal.resize(C,f),this._alt.resize(C,f),this.setupTabStops(C)}setupTabStops(C){this._normal.setupTabStops(C),this._alt.setupTabStops(C)}}a.BufferSet=g},511:(W,a,d)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.CellData=void 0;const _=d(482),v=d(643),l=d(3734);class g extends l.AttributeData{constructor(){super(...arguments),this.content=0,this.fg=0,this.bg=0,this.extended=new l.ExtendedAttrs,this.combinedData=""}static fromCharData(C){const f=new g;return f.setFromCharData(C),f}isCombined(){return 2097152&this.content}getWidth(){return this.content>>22}getChars(){return 2097152&this.content?this.combinedData:2097151&this.content?(0,_.stringFromCodePoint)(2097151&this.content):""}getCode(){return this.isCombined()?this.combinedData.charCodeAt(this.combinedData.length-1):2097151&this.content}setFromCharData(C){this.fg=C[v.CHAR_DATA_ATTR_INDEX],this.bg=0;let f=!1;if(C[v.CHAR_DATA_CHAR_INDEX].length>2)f=!0;else if(C[v.CHAR_DATA_CHAR_INDEX].length===2){const r=C[v.CHAR_DATA_CHAR_INDEX].charCodeAt(0);if(55296<=r&&r<=56319){const c=C[v.CHAR_DATA_CHAR_INDEX].charCodeAt(1);56320<=c&&c<=57343?this.content=1024*(r-55296)+c-56320+65536|C[v.CHAR_DATA_WIDTH_INDEX]<<22:f=!0}else f=!0}else this.content=C[v.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|C[v.CHAR_DATA_WIDTH_INDEX]<<22;f&&(this.combinedData=C[v.CHAR_DATA_CHAR_INDEX],this.content=2097152|C[v.CHAR_DATA_WIDTH_INDEX]<<22)}getAsCharData(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]}}a.CellData=g},643:(W,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.WHITESPACE_CELL_CODE=a.WHITESPACE_CELL_WIDTH=a.WHITESPACE_CELL_CHAR=a.NULL_CELL_CODE=a.NULL_CELL_WIDTH=a.NULL_CELL_CHAR=a.CHAR_DATA_CODE_INDEX=a.CHAR_DATA_WIDTH_INDEX=a.CHAR_DATA_CHAR_INDEX=a.CHAR_DATA_ATTR_INDEX=a.DEFAULT_EXT=a.DEFAULT_ATTR=a.DEFAULT_COLOR=void 0,a.DEFAULT_COLOR=0,a.DEFAULT_ATTR=256|a.DEFAULT_COLOR<<9,a.DEFAULT_EXT=0,a.CHAR_DATA_ATTR_INDEX=0,a.CHAR_DATA_CHAR_INDEX=1,a.CHAR_DATA_WIDTH_INDEX=2,a.CHAR_DATA_CODE_INDEX=3,a.NULL_CELL_CHAR="",a.NULL_CELL_WIDTH=1,a.NULL_CELL_CODE=0,a.WHITESPACE_CELL_CHAR=" ",a.WHITESPACE_CELL_WIDTH=1,a.WHITESPACE_CELL_CODE=32},4863:(W,a,d)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.Marker=void 0;const _=d(8460),v=d(844);class l{get id(){return this._id}constructor(y){this.line=y,this.isDisposed=!1,this._disposables=[],this._id=l._nextId++,this._onDispose=this.register(new _.EventEmitter),this.onDispose=this._onDispose.event}dispose(){this.isDisposed||(this.isDisposed=!0,this.line=-1,this._onDispose.fire(),(0,v.disposeArray)(this._disposables),this._disposables.length=0)}register(y){return this._disposables.push(y),y}}a.Marker=l,l._nextId=1},7116:(W,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.DEFAULT_CHARSET=a.CHARSETS=void 0,a.CHARSETS={},a.DEFAULT_CHARSET=a.CHARSETS.B,a.CHARSETS[0]={"`":"",a:"",b:"",c:"",d:"",e:"",f:"",g:"",h:"",i:"",j:"",k:"",l:"",m:"",n:"",o:"",p:"",q:"",r:"",s:"",t:"",u:"",v:"",w:"",x:"",y:"",z:"","{":"","|":"","}":"","~":""},a.CHARSETS.A={"#":""},a.CHARSETS.B=void 0,a.CHARSETS[4]={"#":"","@":"","[":"ij","\\":"","]":"|","{":"","|":"f","}":"","~":""},a.CHARSETS.C=a.CHARSETS[5]={"[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""},a.CHARSETS.R={"#":"","@":"","[":"","\\":"","]":"","{":"","|":"","}":"","~":""},a.CHARSETS.Q={"@":"","[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""},a.CHARSETS.K={"@":"","[":"","\\":"","]":"","{":"","|":"","}":"","~":""},a.CHARSETS.Y={"#":"","@":"","[":"","\\":"","]":"","`":"","{":"","|":"","}":"","~":""},a.CHARSETS.E=a.CHARSETS[6]={"@":"","[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""},a.CHARSETS.Z={"#":"","@":"","[":"","\\":"","]":"","{":"","|":"","}":""},a.CHARSETS.H=a.CHARSETS[7]={"@":"","[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""},a.CHARSETS["="]={"#":"","@":"","[":"","\\":"","]":"","^":"",_:"","`":"","{":"","|":"","}":"","~":""}},2584:(W,a)=>{var d,_,v;Object.defineProperty(a,"__esModule",{value:!0}),a.C1_ESCAPED=a.C1=a.C0=void 0,(function(l){l.NUL="\0",l.SOH="",l.STX="",l.ETX="",l.EOT="",l.ENQ="",l.ACK="",l.BEL="\x07",l.BS="\b",l.HT="	",l.LF=`
`,l.VT="\v",l.FF="\f",l.CR="\r",l.SO="",l.SI="",l.DLE="",l.DC1="",l.DC2="",l.DC3="",l.DC4="",l.NAK="",l.SYN="",l.ETB="",l.CAN="",l.EM="",l.SUB="",l.ESC="\x1B",l.FS="",l.GS="",l.RS="",l.US="",l.SP=" ",l.DEL=""})(d||(a.C0=d={})),(function(l){l.PAD="",l.HOP="",l.BPH="",l.NBH="",l.IND="",l.NEL="",l.SSA="",l.ESA="",l.HTS="",l.HTJ="",l.VTS="",l.PLD="",l.PLU="",l.RI="",l.SS2="",l.SS3="",l.DCS="",l.PU1="",l.PU2="",l.STS="",l.CCH="",l.MW="",l.SPA="",l.EPA="",l.SOS="",l.SGCI="",l.SCI="",l.CSI="",l.ST="",l.OSC="",l.PM="",l.APC=""})(_||(a.C1=_={})),(function(l){l.ST=`${d.ESC}\\`})(v||(a.C1_ESCAPED=v={}))},7399:(W,a,d)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.evaluateKeyboardEvent=void 0;const _=d(2584),v={48:["0",")"],49:["1","!"],50:["2","@"],51:["3","#"],52:["4","$"],53:["5","%"],54:["6","^"],55:["7","&"],56:["8","*"],57:["9","("],186:[";",":"],187:["=","+"],188:[",","<"],189:["-","_"],190:[".",">"],191:["/","?"],192:["`","~"],219:["[","{"],220:["\\","|"],221:["]","}"],222:["'",'"']};a.evaluateKeyboardEvent=function(l,g,y,C){const f={type:0,cancel:!1,key:void 0},r=(l.shiftKey?1:0)|(l.altKey?2:0)|(l.ctrlKey?4:0)|(l.metaKey?8:0);switch(l.keyCode){case 0:l.key==="UIKeyInputUpArrow"?f.key=g?_.C0.ESC+"OA":_.C0.ESC+"[A":l.key==="UIKeyInputLeftArrow"?f.key=g?_.C0.ESC+"OD":_.C0.ESC+"[D":l.key==="UIKeyInputRightArrow"?f.key=g?_.C0.ESC+"OC":_.C0.ESC+"[C":l.key==="UIKeyInputDownArrow"&&(f.key=g?_.C0.ESC+"OB":_.C0.ESC+"[B");break;case 8:f.key=l.ctrlKey?"\b":_.C0.DEL,l.altKey&&(f.key=_.C0.ESC+f.key);break;case 9:if(l.shiftKey){f.key=_.C0.ESC+"[Z";break}f.key=_.C0.HT,f.cancel=!0;break;case 13:f.key=l.altKey?_.C0.ESC+_.C0.CR:_.C0.CR,f.cancel=!0;break;case 27:f.key=_.C0.ESC,l.altKey&&(f.key=_.C0.ESC+_.C0.ESC),f.cancel=!0;break;case 37:if(l.metaKey)break;r?(f.key=_.C0.ESC+"[1;"+(r+1)+"D",f.key===_.C0.ESC+"[1;3D"&&(f.key=_.C0.ESC+(y?"b":"[1;5D"))):f.key=g?_.C0.ESC+"OD":_.C0.ESC+"[D";break;case 39:if(l.metaKey)break;r?(f.key=_.C0.ESC+"[1;"+(r+1)+"C",f.key===_.C0.ESC+"[1;3C"&&(f.key=_.C0.ESC+(y?"f":"[1;5C"))):f.key=g?_.C0.ESC+"OC":_.C0.ESC+"[C";break;case 38:if(l.metaKey)break;r?(f.key=_.C0.ESC+"[1;"+(r+1)+"A",y||f.key!==_.C0.ESC+"[1;3A"||(f.key=_.C0.ESC+"[1;5A")):f.key=g?_.C0.ESC+"OA":_.C0.ESC+"[A";break;case 40:if(l.metaKey)break;r?(f.key=_.C0.ESC+"[1;"+(r+1)+"B",y||f.key!==_.C0.ESC+"[1;3B"||(f.key=_.C0.ESC+"[1;5B")):f.key=g?_.C0.ESC+"OB":_.C0.ESC+"[B";break;case 45:l.shiftKey||l.ctrlKey||(f.key=_.C0.ESC+"[2~");break;case 46:f.key=r?_.C0.ESC+"[3;"+(r+1)+"~":_.C0.ESC+"[3~";break;case 36:f.key=r?_.C0.ESC+"[1;"+(r+1)+"H":g?_.C0.ESC+"OH":_.C0.ESC+"[H";break;case 35:f.key=r?_.C0.ESC+"[1;"+(r+1)+"F":g?_.C0.ESC+"OF":_.C0.ESC+"[F";break;case 33:l.shiftKey?f.type=2:l.ctrlKey?f.key=_.C0.ESC+"[5;"+(r+1)+"~":f.key=_.C0.ESC+"[5~";break;case 34:l.shiftKey?f.type=3:l.ctrlKey?f.key=_.C0.ESC+"[6;"+(r+1)+"~":f.key=_.C0.ESC+"[6~";break;case 112:f.key=r?_.C0.ESC+"[1;"+(r+1)+"P":_.C0.ESC+"OP";break;case 113:f.key=r?_.C0.ESC+"[1;"+(r+1)+"Q":_.C0.ESC+"OQ";break;case 114:f.key=r?_.C0.ESC+"[1;"+(r+1)+"R":_.C0.ESC+"OR";break;case 115:f.key=r?_.C0.ESC+"[1;"+(r+1)+"S":_.C0.ESC+"OS";break;case 116:f.key=r?_.C0.ESC+"[15;"+(r+1)+"~":_.C0.ESC+"[15~";break;case 117:f.key=r?_.C0.ESC+"[17;"+(r+1)+"~":_.C0.ESC+"[17~";break;case 118:f.key=r?_.C0.ESC+"[18;"+(r+1)+"~":_.C0.ESC+"[18~";break;case 119:f.key=r?_.C0.ESC+"[19;"+(r+1)+"~":_.C0.ESC+"[19~";break;case 120:f.key=r?_.C0.ESC+"[20;"+(r+1)+"~":_.C0.ESC+"[20~";break;case 121:f.key=r?_.C0.ESC+"[21;"+(r+1)+"~":_.C0.ESC+"[21~";break;case 122:f.key=r?_.C0.ESC+"[23;"+(r+1)+"~":_.C0.ESC+"[23~";break;case 123:f.key=r?_.C0.ESC+"[24;"+(r+1)+"~":_.C0.ESC+"[24~";break;default:if(!l.ctrlKey||l.shiftKey||l.altKey||l.metaKey)if(y&&!C||!l.altKey||l.metaKey)!y||l.altKey||l.ctrlKey||l.shiftKey||!l.metaKey?l.key&&!l.ctrlKey&&!l.altKey&&!l.metaKey&&l.keyCode>=48&&l.key.length===1?f.key=l.key:l.key&&l.ctrlKey&&(l.key==="_"&&(f.key=_.C0.US),l.key==="@"&&(f.key=_.C0.NUL)):l.keyCode===65&&(f.type=1);else{const c=v[l.keyCode],o=c?.[l.shiftKey?1:0];if(o)f.key=_.C0.ESC+o;else if(l.keyCode>=65&&l.keyCode<=90){const h=l.ctrlKey?l.keyCode-64:l.keyCode+32;let m=String.fromCharCode(h);l.shiftKey&&(m=m.toUpperCase()),f.key=_.C0.ESC+m}else if(l.keyCode===32)f.key=_.C0.ESC+(l.ctrlKey?_.C0.NUL:" ");else if(l.key==="Dead"&&l.code.startsWith("Key")){let h=l.code.slice(3,4);l.shiftKey||(h=h.toLowerCase()),f.key=_.C0.ESC+h,f.cancel=!0}}else l.keyCode>=65&&l.keyCode<=90?f.key=String.fromCharCode(l.keyCode-64):l.keyCode===32?f.key=_.C0.NUL:l.keyCode>=51&&l.keyCode<=55?f.key=String.fromCharCode(l.keyCode-51+27):l.keyCode===56?f.key=_.C0.DEL:l.keyCode===219?f.key=_.C0.ESC:l.keyCode===220?f.key=_.C0.FS:l.keyCode===221&&(f.key=_.C0.GS)}return f}},482:(W,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.Utf8ToUtf32=a.StringToUtf32=a.utf32ToString=a.stringFromCodePoint=void 0,a.stringFromCodePoint=function(d){return d>65535?(d-=65536,String.fromCharCode(55296+(d>>10))+String.fromCharCode(d%1024+56320)):String.fromCharCode(d)},a.utf32ToString=function(d,_=0,v=d.length){let l="";for(let g=_;g<v;++g){let y=d[g];y>65535?(y-=65536,l+=String.fromCharCode(55296+(y>>10))+String.fromCharCode(y%1024+56320)):l+=String.fromCharCode(y)}return l},a.StringToUtf32=class{constructor(){this._interim=0}clear(){this._interim=0}decode(d,_){const v=d.length;if(!v)return 0;let l=0,g=0;if(this._interim){const y=d.charCodeAt(g++);56320<=y&&y<=57343?_[l++]=1024*(this._interim-55296)+y-56320+65536:(_[l++]=this._interim,_[l++]=y),this._interim=0}for(let y=g;y<v;++y){const C=d.charCodeAt(y);if(55296<=C&&C<=56319){if(++y>=v)return this._interim=C,l;const f=d.charCodeAt(y);56320<=f&&f<=57343?_[l++]=1024*(C-55296)+f-56320+65536:(_[l++]=C,_[l++]=f)}else C!==65279&&(_[l++]=C)}return l}},a.Utf8ToUtf32=class{constructor(){this.interim=new Uint8Array(3)}clear(){this.interim.fill(0)}decode(d,_){const v=d.length;if(!v)return 0;let l,g,y,C,f=0,r=0,c=0;if(this.interim[0]){let m=!1,w=this.interim[0];w&=(224&w)==192?31:(240&w)==224?15:7;let S,E=0;for(;(S=63&this.interim[++E])&&E<4;)w<<=6,w|=S;const p=(224&this.interim[0])==192?2:(240&this.interim[0])==224?3:4,b=p-E;for(;c<b;){if(c>=v)return 0;if(S=d[c++],(192&S)!=128){c--,m=!0;break}this.interim[E++]=S,w<<=6,w|=63&S}m||(p===2?w<128?c--:_[f++]=w:p===3?w<2048||w>=55296&&w<=57343||w===65279||(_[f++]=w):w<65536||w>1114111||(_[f++]=w)),this.interim.fill(0)}const o=v-4;let h=c;for(;h<v;){for(;!(!(h<o)||128&(l=d[h])||128&(g=d[h+1])||128&(y=d[h+2])||128&(C=d[h+3]));)_[f++]=l,_[f++]=g,_[f++]=y,_[f++]=C,h+=4;if(l=d[h++],l<128)_[f++]=l;else if((224&l)==192){if(h>=v)return this.interim[0]=l,f;if(g=d[h++],(192&g)!=128){h--;continue}if(r=(31&l)<<6|63&g,r<128){h--;continue}_[f++]=r}else if((240&l)==224){if(h>=v)return this.interim[0]=l,f;if(g=d[h++],(192&g)!=128){h--;continue}if(h>=v)return this.interim[0]=l,this.interim[1]=g,f;if(y=d[h++],(192&y)!=128){h--;continue}if(r=(15&l)<<12|(63&g)<<6|63&y,r<2048||r>=55296&&r<=57343||r===65279)continue;_[f++]=r}else if((248&l)==240){if(h>=v)return this.interim[0]=l,f;if(g=d[h++],(192&g)!=128){h--;continue}if(h>=v)return this.interim[0]=l,this.interim[1]=g,f;if(y=d[h++],(192&y)!=128){h--;continue}if(h>=v)return this.interim[0]=l,this.interim[1]=g,this.interim[2]=y,f;if(C=d[h++],(192&C)!=128){h--;continue}if(r=(7&l)<<18|(63&g)<<12|(63&y)<<6|63&C,r<65536||r>1114111)continue;_[f++]=r}}return f}}},225:(W,a,d)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.UnicodeV6=void 0;const _=d(1480),v=[[768,879],[1155,1158],[1160,1161],[1425,1469],[1471,1471],[1473,1474],[1476,1477],[1479,1479],[1536,1539],[1552,1557],[1611,1630],[1648,1648],[1750,1764],[1767,1768],[1770,1773],[1807,1807],[1809,1809],[1840,1866],[1958,1968],[2027,2035],[2305,2306],[2364,2364],[2369,2376],[2381,2381],[2385,2388],[2402,2403],[2433,2433],[2492,2492],[2497,2500],[2509,2509],[2530,2531],[2561,2562],[2620,2620],[2625,2626],[2631,2632],[2635,2637],[2672,2673],[2689,2690],[2748,2748],[2753,2757],[2759,2760],[2765,2765],[2786,2787],[2817,2817],[2876,2876],[2879,2879],[2881,2883],[2893,2893],[2902,2902],[2946,2946],[3008,3008],[3021,3021],[3134,3136],[3142,3144],[3146,3149],[3157,3158],[3260,3260],[3263,3263],[3270,3270],[3276,3277],[3298,3299],[3393,3395],[3405,3405],[3530,3530],[3538,3540],[3542,3542],[3633,3633],[3636,3642],[3655,3662],[3761,3761],[3764,3769],[3771,3772],[3784,3789],[3864,3865],[3893,3893],[3895,3895],[3897,3897],[3953,3966],[3968,3972],[3974,3975],[3984,3991],[3993,4028],[4038,4038],[4141,4144],[4146,4146],[4150,4151],[4153,4153],[4184,4185],[4448,4607],[4959,4959],[5906,5908],[5938,5940],[5970,5971],[6002,6003],[6068,6069],[6071,6077],[6086,6086],[6089,6099],[6109,6109],[6155,6157],[6313,6313],[6432,6434],[6439,6440],[6450,6450],[6457,6459],[6679,6680],[6912,6915],[6964,6964],[6966,6970],[6972,6972],[6978,6978],[7019,7027],[7616,7626],[7678,7679],[8203,8207],[8234,8238],[8288,8291],[8298,8303],[8400,8431],[12330,12335],[12441,12442],[43014,43014],[43019,43019],[43045,43046],[64286,64286],[65024,65039],[65056,65059],[65279,65279],[65529,65531]],l=[[68097,68099],[68101,68102],[68108,68111],[68152,68154],[68159,68159],[119143,119145],[119155,119170],[119173,119179],[119210,119213],[119362,119364],[917505,917505],[917536,917631],[917760,917999]];let g;a.UnicodeV6=class{constructor(){if(this.version="6",!g){g=new Uint8Array(65536),g.fill(1),g[0]=0,g.fill(0,1,32),g.fill(0,127,160),g.fill(2,4352,4448),g[9001]=2,g[9002]=2,g.fill(2,11904,42192),g[12351]=1,g.fill(2,44032,55204),g.fill(2,63744,64256),g.fill(2,65040,65050),g.fill(2,65072,65136),g.fill(2,65280,65377),g.fill(2,65504,65511);for(let y=0;y<v.length;++y)g.fill(0,v[y][0],v[y][1]+1)}}wcwidth(y){return y<32?0:y<127?1:y<65536?g[y]:(function(C,f){let r,c=0,o=f.length-1;if(C<f[0][0]||C>f[o][1])return!1;for(;o>=c;)if(r=c+o>>1,C>f[r][1])c=r+1;else{if(!(C<f[r][0]))return!0;o=r-1}return!1})(y,l)?0:y>=131072&&y<=196605||y>=196608&&y<=262141?2:1}charProperties(y,C){let f=this.wcwidth(y),r=f===0&&C!==0;if(r){const c=_.UnicodeService.extractWidth(C);c===0?r=!1:c>f&&(f=c)}return _.UnicodeService.createPropertyValue(0,f,r)}}},5981:(W,a,d)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.WriteBuffer=void 0;const _=d(8460),v=d(844);class l extends v.Disposable{constructor(y){super(),this._action=y,this._writeBuffer=[],this._callbacks=[],this._pendingData=0,this._bufferOffset=0,this._isSyncWriting=!1,this._syncCalls=0,this._didUserInput=!1,this._onWriteParsed=this.register(new _.EventEmitter),this.onWriteParsed=this._onWriteParsed.event}handleUserInput(){this._didUserInput=!0}writeSync(y,C){if(C!==void 0&&this._syncCalls>C)return void(this._syncCalls=0);if(this._pendingData+=y.length,this._writeBuffer.push(y),this._callbacks.push(void 0),this._syncCalls++,this._isSyncWriting)return;let f;for(this._isSyncWriting=!0;f=this._writeBuffer.shift();){this._action(f);const r=this._callbacks.shift();r&&r()}this._pendingData=0,this._bufferOffset=2147483647,this._isSyncWriting=!1,this._syncCalls=0}write(y,C){if(this._pendingData>5e7)throw new Error("write data discarded, use flow control to avoid losing data");if(!this._writeBuffer.length){if(this._bufferOffset=0,this._didUserInput)return this._didUserInput=!1,this._pendingData+=y.length,this._writeBuffer.push(y),this._callbacks.push(C),void this._innerWrite();setTimeout((()=>this._innerWrite()))}this._pendingData+=y.length,this._writeBuffer.push(y),this._callbacks.push(C)}_innerWrite(y=0,C=!0){const f=y||Date.now();for(;this._writeBuffer.length>this._bufferOffset;){const r=this._writeBuffer[this._bufferOffset],c=this._action(r,C);if(c){const h=m=>Date.now()-f>=12?setTimeout((()=>this._innerWrite(0,m))):this._innerWrite(f,m);return void c.catch((m=>(queueMicrotask((()=>{throw m})),Promise.resolve(!1)))).then(h)}const o=this._callbacks[this._bufferOffset];if(o&&o(),this._bufferOffset++,this._pendingData-=r.length,Date.now()-f>=12)break}this._writeBuffer.length>this._bufferOffset?(this._bufferOffset>50&&(this._writeBuffer=this._writeBuffer.slice(this._bufferOffset),this._callbacks=this._callbacks.slice(this._bufferOffset),this._bufferOffset=0),setTimeout((()=>this._innerWrite()))):(this._writeBuffer.length=0,this._callbacks.length=0,this._pendingData=0,this._bufferOffset=0),this._onWriteParsed.fire()}}a.WriteBuffer=l},5941:(W,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.toRgbString=a.parseColor=void 0;const d=/^([\da-f])\/([\da-f])\/([\da-f])$|^([\da-f]{2})\/([\da-f]{2})\/([\da-f]{2})$|^([\da-f]{3})\/([\da-f]{3})\/([\da-f]{3})$|^([\da-f]{4})\/([\da-f]{4})\/([\da-f]{4})$/,_=/^[\da-f]+$/;function v(l,g){const y=l.toString(16),C=y.length<2?"0"+y:y;switch(g){case 4:return y[0];case 8:return C;case 12:return(C+C).slice(0,3);default:return C+C}}a.parseColor=function(l){if(!l)return;let g=l.toLowerCase();if(g.indexOf("rgb:")===0){g=g.slice(4);const y=d.exec(g);if(y){const C=y[1]?15:y[4]?255:y[7]?4095:65535;return[Math.round(parseInt(y[1]||y[4]||y[7]||y[10],16)/C*255),Math.round(parseInt(y[2]||y[5]||y[8]||y[11],16)/C*255),Math.round(parseInt(y[3]||y[6]||y[9]||y[12],16)/C*255)]}}else if(g.indexOf("#")===0&&(g=g.slice(1),_.exec(g)&&[3,6,9,12].includes(g.length))){const y=g.length/3,C=[0,0,0];for(let f=0;f<3;++f){const r=parseInt(g.slice(y*f,y*f+y),16);C[f]=y===1?r<<4:y===2?r:y===3?r>>4:r>>8}return C}},a.toRgbString=function(l,g=16){const[y,C,f]=l;return`rgb:${v(y,g)}/${v(C,g)}/${v(f,g)}`}},5770:(W,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.PAYLOAD_LIMIT=void 0,a.PAYLOAD_LIMIT=1e7},6351:(W,a,d)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.DcsHandler=a.DcsParser=void 0;const _=d(482),v=d(8742),l=d(5770),g=[];a.DcsParser=class{constructor(){this._handlers=Object.create(null),this._active=g,this._ident=0,this._handlerFb=()=>{},this._stack={paused:!1,loopPosition:0,fallThrough:!1}}dispose(){this._handlers=Object.create(null),this._handlerFb=()=>{},this._active=g}registerHandler(C,f){this._handlers[C]===void 0&&(this._handlers[C]=[]);const r=this._handlers[C];return r.push(f),{dispose:()=>{const c=r.indexOf(f);c!==-1&&r.splice(c,1)}}}clearHandler(C){this._handlers[C]&&delete this._handlers[C]}setHandlerFallback(C){this._handlerFb=C}reset(){if(this._active.length)for(let C=this._stack.paused?this._stack.loopPosition-1:this._active.length-1;C>=0;--C)this._active[C].unhook(!1);this._stack.paused=!1,this._active=g,this._ident=0}hook(C,f){if(this.reset(),this._ident=C,this._active=this._handlers[C]||g,this._active.length)for(let r=this._active.length-1;r>=0;r--)this._active[r].hook(f);else this._handlerFb(this._ident,"HOOK",f)}put(C,f,r){if(this._active.length)for(let c=this._active.length-1;c>=0;c--)this._active[c].put(C,f,r);else this._handlerFb(this._ident,"PUT",(0,_.utf32ToString)(C,f,r))}unhook(C,f=!0){if(this._active.length){let r=!1,c=this._active.length-1,o=!1;if(this._stack.paused&&(c=this._stack.loopPosition-1,r=f,o=this._stack.fallThrough,this._stack.paused=!1),!o&&r===!1){for(;c>=0&&(r=this._active[c].unhook(C),r!==!0);c--)if(r instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=c,this._stack.fallThrough=!1,r;c--}for(;c>=0;c--)if(r=this._active[c].unhook(!1),r instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=c,this._stack.fallThrough=!0,r}else this._handlerFb(this._ident,"UNHOOK",C);this._active=g,this._ident=0}};const y=new v.Params;y.addParam(0),a.DcsHandler=class{constructor(C){this._handler=C,this._data="",this._params=y,this._hitLimit=!1}hook(C){this._params=C.length>1||C.params[0]?C.clone():y,this._data="",this._hitLimit=!1}put(C,f,r){this._hitLimit||(this._data+=(0,_.utf32ToString)(C,f,r),this._data.length>l.PAYLOAD_LIMIT&&(this._data="",this._hitLimit=!0))}unhook(C){let f=!1;if(this._hitLimit)f=!1;else if(C&&(f=this._handler(this._data,this._params),f instanceof Promise))return f.then((r=>(this._params=y,this._data="",this._hitLimit=!1,r)));return this._params=y,this._data="",this._hitLimit=!1,f}}},2015:(W,a,d)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.EscapeSequenceParser=a.VT500_TRANSITION_TABLE=a.TransitionTable=void 0;const _=d(844),v=d(8742),l=d(6242),g=d(6351);class y{constructor(c){this.table=new Uint8Array(c)}setDefault(c,o){this.table.fill(c<<4|o)}add(c,o,h,m){this.table[o<<8|c]=h<<4|m}addMany(c,o,h,m){for(let w=0;w<c.length;w++)this.table[o<<8|c[w]]=h<<4|m}}a.TransitionTable=y;const C=160;a.VT500_TRANSITION_TABLE=(function(){const r=new y(4095),c=Array.apply(null,Array(256)).map(((E,p)=>p)),o=(E,p)=>c.slice(E,p),h=o(32,127),m=o(0,24);m.push(25),m.push.apply(m,o(28,32));const w=o(0,14);let S;for(S in r.setDefault(1,0),r.addMany(h,0,2,0),w)r.addMany([24,26,153,154],S,3,0),r.addMany(o(128,144),S,3,0),r.addMany(o(144,152),S,3,0),r.add(156,S,0,0),r.add(27,S,11,1),r.add(157,S,4,8),r.addMany([152,158,159],S,0,7),r.add(155,S,11,3),r.add(144,S,11,9);return r.addMany(m,0,3,0),r.addMany(m,1,3,1),r.add(127,1,0,1),r.addMany(m,8,0,8),r.addMany(m,3,3,3),r.add(127,3,0,3),r.addMany(m,4,3,4),r.add(127,4,0,4),r.addMany(m,6,3,6),r.addMany(m,5,3,5),r.add(127,5,0,5),r.addMany(m,2,3,2),r.add(127,2,0,2),r.add(93,1,4,8),r.addMany(h,8,5,8),r.add(127,8,5,8),r.addMany([156,27,24,26,7],8,6,0),r.addMany(o(28,32),8,0,8),r.addMany([88,94,95],1,0,7),r.addMany(h,7,0,7),r.addMany(m,7,0,7),r.add(156,7,0,0),r.add(127,7,0,7),r.add(91,1,11,3),r.addMany(o(64,127),3,7,0),r.addMany(o(48,60),3,8,4),r.addMany([60,61,62,63],3,9,4),r.addMany(o(48,60),4,8,4),r.addMany(o(64,127),4,7,0),r.addMany([60,61,62,63],4,0,6),r.addMany(o(32,64),6,0,6),r.add(127,6,0,6),r.addMany(o(64,127),6,0,0),r.addMany(o(32,48),3,9,5),r.addMany(o(32,48),5,9,5),r.addMany(o(48,64),5,0,6),r.addMany(o(64,127),5,7,0),r.addMany(o(32,48),4,9,5),r.addMany(o(32,48),1,9,2),r.addMany(o(32,48),2,9,2),r.addMany(o(48,127),2,10,0),r.addMany(o(48,80),1,10,0),r.addMany(o(81,88),1,10,0),r.addMany([89,90,92],1,10,0),r.addMany(o(96,127),1,10,0),r.add(80,1,11,9),r.addMany(m,9,0,9),r.add(127,9,0,9),r.addMany(o(28,32),9,0,9),r.addMany(o(32,48),9,9,12),r.addMany(o(48,60),9,8,10),r.addMany([60,61,62,63],9,9,10),r.addMany(m,11,0,11),r.addMany(o(32,128),11,0,11),r.addMany(o(28,32),11,0,11),r.addMany(m,10,0,10),r.add(127,10,0,10),r.addMany(o(28,32),10,0,10),r.addMany(o(48,60),10,8,10),r.addMany([60,61,62,63],10,0,11),r.addMany(o(32,48),10,9,12),r.addMany(m,12,0,12),r.add(127,12,0,12),r.addMany(o(28,32),12,0,12),r.addMany(o(32,48),12,9,12),r.addMany(o(48,64),12,0,11),r.addMany(o(64,127),12,12,13),r.addMany(o(64,127),10,12,13),r.addMany(o(64,127),9,12,13),r.addMany(m,13,13,13),r.addMany(h,13,13,13),r.add(127,13,0,13),r.addMany([27,156,24,26],13,14,0),r.add(C,0,2,0),r.add(C,8,5,8),r.add(C,6,0,6),r.add(C,11,0,11),r.add(C,13,13,13),r})();class f extends _.Disposable{constructor(c=a.VT500_TRANSITION_TABLE){super(),this._transitions=c,this._parseStack={state:0,handlers:[],handlerPos:0,transition:0,chunkPos:0},this.initialState=0,this.currentState=this.initialState,this._params=new v.Params,this._params.addParam(0),this._collect=0,this.precedingJoinState=0,this._printHandlerFb=(o,h,m)=>{},this._executeHandlerFb=o=>{},this._csiHandlerFb=(o,h)=>{},this._escHandlerFb=o=>{},this._errorHandlerFb=o=>o,this._printHandler=this._printHandlerFb,this._executeHandlers=Object.create(null),this._csiHandlers=Object.create(null),this._escHandlers=Object.create(null),this.register((0,_.toDisposable)((()=>{this._csiHandlers=Object.create(null),this._executeHandlers=Object.create(null),this._escHandlers=Object.create(null)}))),this._oscParser=this.register(new l.OscParser),this._dcsParser=this.register(new g.DcsParser),this._errorHandler=this._errorHandlerFb,this.registerEscHandler({final:"\\"},(()=>!0))}_identifier(c,o=[64,126]){let h=0;if(c.prefix){if(c.prefix.length>1)throw new Error("only one byte as prefix supported");if(h=c.prefix.charCodeAt(0),h&&60>h||h>63)throw new Error("prefix must be in range 0x3c .. 0x3f")}if(c.intermediates){if(c.intermediates.length>2)throw new Error("only two bytes as intermediates are supported");for(let w=0;w<c.intermediates.length;++w){const S=c.intermediates.charCodeAt(w);if(32>S||S>47)throw new Error("intermediate must be in range 0x20 .. 0x2f");h<<=8,h|=S}}if(c.final.length!==1)throw new Error("final must be a single byte");const m=c.final.charCodeAt(0);if(o[0]>m||m>o[1])throw new Error(`final must be in range ${o[0]} .. ${o[1]}`);return h<<=8,h|=m,h}identToString(c){const o=[];for(;c;)o.push(String.fromCharCode(255&c)),c>>=8;return o.reverse().join("")}setPrintHandler(c){this._printHandler=c}clearPrintHandler(){this._printHandler=this._printHandlerFb}registerEscHandler(c,o){const h=this._identifier(c,[48,126]);this._escHandlers[h]===void 0&&(this._escHandlers[h]=[]);const m=this._escHandlers[h];return m.push(o),{dispose:()=>{const w=m.indexOf(o);w!==-1&&m.splice(w,1)}}}clearEscHandler(c){this._escHandlers[this._identifier(c,[48,126])]&&delete this._escHandlers[this._identifier(c,[48,126])]}setEscHandlerFallback(c){this._escHandlerFb=c}setExecuteHandler(c,o){this._executeHandlers[c.charCodeAt(0)]=o}clearExecuteHandler(c){this._executeHandlers[c.charCodeAt(0)]&&delete this._executeHandlers[c.charCodeAt(0)]}setExecuteHandlerFallback(c){this._executeHandlerFb=c}registerCsiHandler(c,o){const h=this._identifier(c);this._csiHandlers[h]===void 0&&(this._csiHandlers[h]=[]);const m=this._csiHandlers[h];return m.push(o),{dispose:()=>{const w=m.indexOf(o);w!==-1&&m.splice(w,1)}}}clearCsiHandler(c){this._csiHandlers[this._identifier(c)]&&delete this._csiHandlers[this._identifier(c)]}setCsiHandlerFallback(c){this._csiHandlerFb=c}registerDcsHandler(c,o){return this._dcsParser.registerHandler(this._identifier(c),o)}clearDcsHandler(c){this._dcsParser.clearHandler(this._identifier(c))}setDcsHandlerFallback(c){this._dcsParser.setHandlerFallback(c)}registerOscHandler(c,o){return this._oscParser.registerHandler(c,o)}clearOscHandler(c){this._oscParser.clearHandler(c)}setOscHandlerFallback(c){this._oscParser.setHandlerFallback(c)}setErrorHandler(c){this._errorHandler=c}clearErrorHandler(){this._errorHandler=this._errorHandlerFb}reset(){this.currentState=this.initialState,this._oscParser.reset(),this._dcsParser.reset(),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingJoinState=0,this._parseStack.state!==0&&(this._parseStack.state=2,this._parseStack.handlers=[])}_preserveStack(c,o,h,m,w){this._parseStack.state=c,this._parseStack.handlers=o,this._parseStack.handlerPos=h,this._parseStack.transition=m,this._parseStack.chunkPos=w}parse(c,o,h){let m,w=0,S=0,E=0;if(this._parseStack.state)if(this._parseStack.state===2)this._parseStack.state=0,E=this._parseStack.chunkPos+1;else{if(h===void 0||this._parseStack.state===1)throw this._parseStack.state=1,new Error("improper continuation due to previous async handler, giving up parsing");const p=this._parseStack.handlers;let b=this._parseStack.handlerPos-1;switch(this._parseStack.state){case 3:if(h===!1&&b>-1){for(;b>=0&&(m=p[b](this._params),m!==!0);b--)if(m instanceof Promise)return this._parseStack.handlerPos=b,m}this._parseStack.handlers=[];break;case 4:if(h===!1&&b>-1){for(;b>=0&&(m=p[b](),m!==!0);b--)if(m instanceof Promise)return this._parseStack.handlerPos=b,m}this._parseStack.handlers=[];break;case 6:if(w=c[this._parseStack.chunkPos],m=this._dcsParser.unhook(w!==24&&w!==26,h),m)return m;w===27&&(this._parseStack.transition|=1),this._params.reset(),this._params.addParam(0),this._collect=0;break;case 5:if(w=c[this._parseStack.chunkPos],m=this._oscParser.end(w!==24&&w!==26,h),m)return m;w===27&&(this._parseStack.transition|=1),this._params.reset(),this._params.addParam(0),this._collect=0}this._parseStack.state=0,E=this._parseStack.chunkPos+1,this.precedingJoinState=0,this.currentState=15&this._parseStack.transition}for(let p=E;p<o;++p){switch(w=c[p],S=this._transitions.table[this.currentState<<8|(w<160?w:C)],S>>4){case 2:for(let M=p+1;;++M){if(M>=o||(w=c[M])<32||w>126&&w<C){this._printHandler(c,p,M),p=M-1;break}if(++M>=o||(w=c[M])<32||w>126&&w<C){this._printHandler(c,p,M),p=M-1;break}if(++M>=o||(w=c[M])<32||w>126&&w<C){this._printHandler(c,p,M),p=M-1;break}if(++M>=o||(w=c[M])<32||w>126&&w<C){this._printHandler(c,p,M),p=M-1;break}}break;case 3:this._executeHandlers[w]?this._executeHandlers[w]():this._executeHandlerFb(w),this.precedingJoinState=0;break;case 0:break;case 1:if(this._errorHandler({position:p,code:w,currentState:this.currentState,collect:this._collect,params:this._params,abort:!1}).abort)return;break;case 7:const b=this._csiHandlers[this._collect<<8|w];let L=b?b.length-1:-1;for(;L>=0&&(m=b[L](this._params),m!==!0);L--)if(m instanceof Promise)return this._preserveStack(3,b,L,S,p),m;L<0&&this._csiHandlerFb(this._collect<<8|w,this._params),this.precedingJoinState=0;break;case 8:do switch(w){case 59:this._params.addParam(0);break;case 58:this._params.addSubParam(-1);break;default:this._params.addDigit(w-48)}while(++p<o&&(w=c[p])>47&&w<60);p--;break;case 9:this._collect<<=8,this._collect|=w;break;case 10:const B=this._escHandlers[this._collect<<8|w];let D=B?B.length-1:-1;for(;D>=0&&(m=B[D](),m!==!0);D--)if(m instanceof Promise)return this._preserveStack(4,B,D,S,p),m;D<0&&this._escHandlerFb(this._collect<<8|w),this.precedingJoinState=0;break;case 11:this._params.reset(),this._params.addParam(0),this._collect=0;break;case 12:this._dcsParser.hook(this._collect<<8|w,this._params);break;case 13:for(let M=p+1;;++M)if(M>=o||(w=c[M])===24||w===26||w===27||w>127&&w<C){this._dcsParser.put(c,p,M),p=M-1;break}break;case 14:if(m=this._dcsParser.unhook(w!==24&&w!==26),m)return this._preserveStack(6,[],0,S,p),m;w===27&&(S|=1),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingJoinState=0;break;case 4:this._oscParser.start();break;case 5:for(let M=p+1;;M++)if(M>=o||(w=c[M])<32||w>127&&w<C){this._oscParser.put(c,p,M),p=M-1;break}break;case 6:if(m=this._oscParser.end(w!==24&&w!==26),m)return this._preserveStack(5,[],0,S,p),m;w===27&&(S|=1),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingJoinState=0}this.currentState=15&S}}}a.EscapeSequenceParser=f},6242:(W,a,d)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.OscHandler=a.OscParser=void 0;const _=d(5770),v=d(482),l=[];a.OscParser=class{constructor(){this._state=0,this._active=l,this._id=-1,this._handlers=Object.create(null),this._handlerFb=()=>{},this._stack={paused:!1,loopPosition:0,fallThrough:!1}}registerHandler(g,y){this._handlers[g]===void 0&&(this._handlers[g]=[]);const C=this._handlers[g];return C.push(y),{dispose:()=>{const f=C.indexOf(y);f!==-1&&C.splice(f,1)}}}clearHandler(g){this._handlers[g]&&delete this._handlers[g]}setHandlerFallback(g){this._handlerFb=g}dispose(){this._handlers=Object.create(null),this._handlerFb=()=>{},this._active=l}reset(){if(this._state===2)for(let g=this._stack.paused?this._stack.loopPosition-1:this._active.length-1;g>=0;--g)this._active[g].end(!1);this._stack.paused=!1,this._active=l,this._id=-1,this._state=0}_start(){if(this._active=this._handlers[this._id]||l,this._active.length)for(let g=this._active.length-1;g>=0;g--)this._active[g].start();else this._handlerFb(this._id,"START")}_put(g,y,C){if(this._active.length)for(let f=this._active.length-1;f>=0;f--)this._active[f].put(g,y,C);else this._handlerFb(this._id,"PUT",(0,v.utf32ToString)(g,y,C))}start(){this.reset(),this._state=1}put(g,y,C){if(this._state!==3){if(this._state===1)for(;y<C;){const f=g[y++];if(f===59){this._state=2,this._start();break}if(f<48||57<f)return void(this._state=3);this._id===-1&&(this._id=0),this._id=10*this._id+f-48}this._state===2&&C-y>0&&this._put(g,y,C)}}end(g,y=!0){if(this._state!==0){if(this._state!==3)if(this._state===1&&this._start(),this._active.length){let C=!1,f=this._active.length-1,r=!1;if(this._stack.paused&&(f=this._stack.loopPosition-1,C=y,r=this._stack.fallThrough,this._stack.paused=!1),!r&&C===!1){for(;f>=0&&(C=this._active[f].end(g),C!==!0);f--)if(C instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=f,this._stack.fallThrough=!1,C;f--}for(;f>=0;f--)if(C=this._active[f].end(!1),C instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=f,this._stack.fallThrough=!0,C}else this._handlerFb(this._id,"END",g);this._active=l,this._id=-1,this._state=0}}},a.OscHandler=class{constructor(g){this._handler=g,this._data="",this._hitLimit=!1}start(){this._data="",this._hitLimit=!1}put(g,y,C){this._hitLimit||(this._data+=(0,v.utf32ToString)(g,y,C),this._data.length>_.PAYLOAD_LIMIT&&(this._data="",this._hitLimit=!0))}end(g){let y=!1;if(this._hitLimit)y=!1;else if(g&&(y=this._handler(this._data),y instanceof Promise))return y.then((C=>(this._data="",this._hitLimit=!1,C)));return this._data="",this._hitLimit=!1,y}}},8742:(W,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.Params=void 0;const d=2147483647;class _{static fromArray(l){const g=new _;if(!l.length)return g;for(let y=Array.isArray(l[0])?1:0;y<l.length;++y){const C=l[y];if(Array.isArray(C))for(let f=0;f<C.length;++f)g.addSubParam(C[f]);else g.addParam(C)}return g}constructor(l=32,g=32){if(this.maxLength=l,this.maxSubParamsLength=g,g>256)throw new Error("maxSubParamsLength must not be greater than 256");this.params=new Int32Array(l),this.length=0,this._subParams=new Int32Array(g),this._subParamsLength=0,this._subParamsIdx=new Uint16Array(l),this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1}clone(){const l=new _(this.maxLength,this.maxSubParamsLength);return l.params.set(this.params),l.length=this.length,l._subParams.set(this._subParams),l._subParamsLength=this._subParamsLength,l._subParamsIdx.set(this._subParamsIdx),l._rejectDigits=this._rejectDigits,l._rejectSubDigits=this._rejectSubDigits,l._digitIsSub=this._digitIsSub,l}toArray(){const l=[];for(let g=0;g<this.length;++g){l.push(this.params[g]);const y=this._subParamsIdx[g]>>8,C=255&this._subParamsIdx[g];C-y>0&&l.push(Array.prototype.slice.call(this._subParams,y,C))}return l}reset(){this.length=0,this._subParamsLength=0,this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1}addParam(l){if(this._digitIsSub=!1,this.length>=this.maxLength)this._rejectDigits=!0;else{if(l<-1)throw new Error("values lesser than -1 are not allowed");this._subParamsIdx[this.length]=this._subParamsLength<<8|this._subParamsLength,this.params[this.length++]=l>d?d:l}}addSubParam(l){if(this._digitIsSub=!0,this.length)if(this._rejectDigits||this._subParamsLength>=this.maxSubParamsLength)this._rejectSubDigits=!0;else{if(l<-1)throw new Error("values lesser than -1 are not allowed");this._subParams[this._subParamsLength++]=l>d?d:l,this._subParamsIdx[this.length-1]++}}hasSubParams(l){return(255&this._subParamsIdx[l])-(this._subParamsIdx[l]>>8)>0}getSubParams(l){const g=this._subParamsIdx[l]>>8,y=255&this._subParamsIdx[l];return y-g>0?this._subParams.subarray(g,y):null}getSubParamsAll(){const l={};for(let g=0;g<this.length;++g){const y=this._subParamsIdx[g]>>8,C=255&this._subParamsIdx[g];C-y>0&&(l[g]=this._subParams.slice(y,C))}return l}addDigit(l){let g;if(this._rejectDigits||!(g=this._digitIsSub?this._subParamsLength:this.length)||this._digitIsSub&&this._rejectSubDigits)return;const y=this._digitIsSub?this._subParams:this.params,C=y[g-1];y[g-1]=~C?Math.min(10*C+l,d):l}}a.Params=_},5741:(W,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.AddonManager=void 0,a.AddonManager=class{constructor(){this._addons=[]}dispose(){for(let d=this._addons.length-1;d>=0;d--)this._addons[d].instance.dispose()}loadAddon(d,_){const v={instance:_,dispose:_.dispose,isDisposed:!1};this._addons.push(v),_.dispose=()=>this._wrappedAddonDispose(v),_.activate(d)}_wrappedAddonDispose(d){if(d.isDisposed)return;let _=-1;for(let v=0;v<this._addons.length;v++)if(this._addons[v]===d){_=v;break}if(_===-1)throw new Error("Could not dispose an addon that has not been loaded");d.isDisposed=!0,d.dispose.apply(d.instance),this._addons.splice(_,1)}}},8771:(W,a,d)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.BufferApiView=void 0;const _=d(3785),v=d(511);a.BufferApiView=class{constructor(l,g){this._buffer=l,this.type=g}init(l){return this._buffer=l,this}get cursorY(){return this._buffer.y}get cursorX(){return this._buffer.x}get viewportY(){return this._buffer.ydisp}get baseY(){return this._buffer.ybase}get length(){return this._buffer.lines.length}getLine(l){const g=this._buffer.lines.get(l);if(g)return new _.BufferLineApiView(g)}getNullCell(){return new v.CellData}}},3785:(W,a,d)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.BufferLineApiView=void 0;const _=d(511);a.BufferLineApiView=class{constructor(v){this._line=v}get isWrapped(){return this._line.isWrapped}get length(){return this._line.length}getCell(v,l){if(!(v<0||v>=this._line.length))return l?(this._line.loadCell(v,l),l):this._line.loadCell(v,new _.CellData)}translateToString(v,l,g){return this._line.translateToString(v,l,g)}}},8285:(W,a,d)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.BufferNamespaceApi=void 0;const _=d(8771),v=d(8460),l=d(844);class g extends l.Disposable{constructor(C){super(),this._core=C,this._onBufferChange=this.register(new v.EventEmitter),this.onBufferChange=this._onBufferChange.event,this._normal=new _.BufferApiView(this._core.buffers.normal,"normal"),this._alternate=new _.BufferApiView(this._core.buffers.alt,"alternate"),this._core.buffers.onBufferActivate((()=>this._onBufferChange.fire(this.active)))}get active(){if(this._core.buffers.active===this._core.buffers.normal)return this.normal;if(this._core.buffers.active===this._core.buffers.alt)return this.alternate;throw new Error("Active buffer is neither normal nor alternate")}get normal(){return this._normal.init(this._core.buffers.normal)}get alternate(){return this._alternate.init(this._core.buffers.alt)}}a.BufferNamespaceApi=g},7975:(W,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.ParserApi=void 0,a.ParserApi=class{constructor(d){this._core=d}registerCsiHandler(d,_){return this._core.registerCsiHandler(d,(v=>_(v.toArray())))}addCsiHandler(d,_){return this.registerCsiHandler(d,_)}registerDcsHandler(d,_){return this._core.registerDcsHandler(d,((v,l)=>_(v,l.toArray())))}addDcsHandler(d,_){return this.registerDcsHandler(d,_)}registerEscHandler(d,_){return this._core.registerEscHandler(d,_)}addEscHandler(d,_){return this.registerEscHandler(d,_)}registerOscHandler(d,_){return this._core.registerOscHandler(d,_)}addOscHandler(d,_){return this.registerOscHandler(d,_)}}},7090:(W,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.UnicodeApi=void 0,a.UnicodeApi=class{constructor(d){this._core=d}register(d){this._core.unicodeService.register(d)}get versions(){return this._core.unicodeService.versions}get activeVersion(){return this._core.unicodeService.activeVersion}set activeVersion(d){this._core.unicodeService.activeVersion=d}}},744:function(W,a,d){var _=this&&this.__decorate||function(r,c,o,h){var m,w=arguments.length,S=w<3?c:h===null?h=Object.getOwnPropertyDescriptor(c,o):h;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")S=Reflect.decorate(r,c,o,h);else for(var E=r.length-1;E>=0;E--)(m=r[E])&&(S=(w<3?m(S):w>3?m(c,o,S):m(c,o))||S);return w>3&&S&&Object.defineProperty(c,o,S),S},v=this&&this.__param||function(r,c){return function(o,h){c(o,h,r)}};Object.defineProperty(a,"__esModule",{value:!0}),a.BufferService=a.MINIMUM_ROWS=a.MINIMUM_COLS=void 0;const l=d(8460),g=d(844),y=d(5295),C=d(2585);a.MINIMUM_COLS=2,a.MINIMUM_ROWS=1;let f=a.BufferService=class extends g.Disposable{get buffer(){return this.buffers.active}constructor(r){super(),this.isUserScrolling=!1,this._onResize=this.register(new l.EventEmitter),this.onResize=this._onResize.event,this._onScroll=this.register(new l.EventEmitter),this.onScroll=this._onScroll.event,this.cols=Math.max(r.rawOptions.cols||0,a.MINIMUM_COLS),this.rows=Math.max(r.rawOptions.rows||0,a.MINIMUM_ROWS),this.buffers=this.register(new y.BufferSet(r,this))}resize(r,c){this.cols=r,this.rows=c,this.buffers.resize(r,c),this._onResize.fire({cols:r,rows:c})}reset(){this.buffers.reset(),this.isUserScrolling=!1}scroll(r,c=!1){const o=this.buffer;let h;h=this._cachedBlankLine,h&&h.length===this.cols&&h.getFg(0)===r.fg&&h.getBg(0)===r.bg||(h=o.getBlankLine(r,c),this._cachedBlankLine=h),h.isWrapped=c;const m=o.ybase+o.scrollTop,w=o.ybase+o.scrollBottom;if(o.scrollTop===0){const S=o.lines.isFull;w===o.lines.length-1?S?o.lines.recycle().copyFrom(h):o.lines.push(h.clone()):o.lines.splice(w+1,0,h.clone()),S?this.isUserScrolling&&(o.ydisp=Math.max(o.ydisp-1,0)):(o.ybase++,this.isUserScrolling||o.ydisp++)}else{const S=w-m+1;o.lines.shiftElements(m+1,S-1,-1),o.lines.set(w,h.clone())}this.isUserScrolling||(o.ydisp=o.ybase),this._onScroll.fire(o.ydisp)}scrollLines(r,c,o){const h=this.buffer;if(r<0){if(h.ydisp===0)return;this.isUserScrolling=!0}else r+h.ydisp>=h.ybase&&(this.isUserScrolling=!1);const m=h.ydisp;h.ydisp=Math.max(Math.min(h.ydisp+r,h.ybase),0),m!==h.ydisp&&(c||this._onScroll.fire(h.ydisp))}};a.BufferService=f=_([v(0,C.IOptionsService)],f)},7994:(W,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.CharsetService=void 0,a.CharsetService=class{constructor(){this.glevel=0,this._charsets=[]}reset(){this.charset=void 0,this._charsets=[],this.glevel=0}setgLevel(d){this.glevel=d,this.charset=this._charsets[d]}setgCharset(d,_){this._charsets[d]=_,this.glevel===d&&(this.charset=_)}}},1753:function(W,a,d){var _=this&&this.__decorate||function(h,m,w,S){var E,p=arguments.length,b=p<3?m:S===null?S=Object.getOwnPropertyDescriptor(m,w):S;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")b=Reflect.decorate(h,m,w,S);else for(var L=h.length-1;L>=0;L--)(E=h[L])&&(b=(p<3?E(b):p>3?E(m,w,b):E(m,w))||b);return p>3&&b&&Object.defineProperty(m,w,b),b},v=this&&this.__param||function(h,m){return function(w,S){m(w,S,h)}};Object.defineProperty(a,"__esModule",{value:!0}),a.CoreMouseService=void 0;const l=d(2585),g=d(8460),y=d(844),C={NONE:{events:0,restrict:()=>!1},X10:{events:1,restrict:h=>h.button!==4&&h.action===1&&(h.ctrl=!1,h.alt=!1,h.shift=!1,!0)},VT200:{events:19,restrict:h=>h.action!==32},DRAG:{events:23,restrict:h=>h.action!==32||h.button!==3},ANY:{events:31,restrict:h=>!0}};function f(h,m){let w=(h.ctrl?16:0)|(h.shift?4:0)|(h.alt?8:0);return h.button===4?(w|=64,w|=h.action):(w|=3&h.button,4&h.button&&(w|=64),8&h.button&&(w|=128),h.action===32?w|=32:h.action!==0||m||(w|=3)),w}const r=String.fromCharCode,c={DEFAULT:h=>{const m=[f(h,!1)+32,h.col+32,h.row+32];return m[0]>255||m[1]>255||m[2]>255?"":`\x1B[M${r(m[0])}${r(m[1])}${r(m[2])}`},SGR:h=>{const m=h.action===0&&h.button!==4?"m":"M";return`\x1B[<${f(h,!0)};${h.col};${h.row}${m}`},SGR_PIXELS:h=>{const m=h.action===0&&h.button!==4?"m":"M";return`\x1B[<${f(h,!0)};${h.x};${h.y}${m}`}};let o=a.CoreMouseService=class extends y.Disposable{constructor(h,m){super(),this._bufferService=h,this._coreService=m,this._protocols={},this._encodings={},this._activeProtocol="",this._activeEncoding="",this._lastEvent=null,this._onProtocolChange=this.register(new g.EventEmitter),this.onProtocolChange=this._onProtocolChange.event;for(const w of Object.keys(C))this.addProtocol(w,C[w]);for(const w of Object.keys(c))this.addEncoding(w,c[w]);this.reset()}addProtocol(h,m){this._protocols[h]=m}addEncoding(h,m){this._encodings[h]=m}get activeProtocol(){return this._activeProtocol}get areMouseEventsActive(){return this._protocols[this._activeProtocol].events!==0}set activeProtocol(h){if(!this._protocols[h])throw new Error(`unknown protocol "${h}"`);this._activeProtocol=h,this._onProtocolChange.fire(this._protocols[h].events)}get activeEncoding(){return this._activeEncoding}set activeEncoding(h){if(!this._encodings[h])throw new Error(`unknown encoding "${h}"`);this._activeEncoding=h}reset(){this.activeProtocol="NONE",this.activeEncoding="DEFAULT",this._lastEvent=null}triggerMouseEvent(h){if(h.col<0||h.col>=this._bufferService.cols||h.row<0||h.row>=this._bufferService.rows||h.button===4&&h.action===32||h.button===3&&h.action!==32||h.button!==4&&(h.action===2||h.action===3)||(h.col++,h.row++,h.action===32&&this._lastEvent&&this._equalEvents(this._lastEvent,h,this._activeEncoding==="SGR_PIXELS"))||!this._protocols[this._activeProtocol].restrict(h))return!1;const m=this._encodings[this._activeEncoding](h);return m&&(this._activeEncoding==="DEFAULT"?this._coreService.triggerBinaryEvent(m):this._coreService.triggerDataEvent(m,!0)),this._lastEvent=h,!0}explainEvents(h){return{down:!!(1&h),up:!!(2&h),drag:!!(4&h),move:!!(8&h),wheel:!!(16&h)}}_equalEvents(h,m,w){if(w){if(h.x!==m.x||h.y!==m.y)return!1}else if(h.col!==m.col||h.row!==m.row)return!1;return h.button===m.button&&h.action===m.action&&h.ctrl===m.ctrl&&h.alt===m.alt&&h.shift===m.shift}};a.CoreMouseService=o=_([v(0,l.IBufferService),v(1,l.ICoreService)],o)},6975:function(W,a,d){var _=this&&this.__decorate||function(o,h,m,w){var S,E=arguments.length,p=E<3?h:w===null?w=Object.getOwnPropertyDescriptor(h,m):w;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(o,h,m,w);else for(var b=o.length-1;b>=0;b--)(S=o[b])&&(p=(E<3?S(p):E>3?S(h,m,p):S(h,m))||p);return E>3&&p&&Object.defineProperty(h,m,p),p},v=this&&this.__param||function(o,h){return function(m,w){h(m,w,o)}};Object.defineProperty(a,"__esModule",{value:!0}),a.CoreService=void 0;const l=d(1439),g=d(8460),y=d(844),C=d(2585),f=Object.freeze({insertMode:!1}),r=Object.freeze({applicationCursorKeys:!1,applicationKeypad:!1,bracketedPasteMode:!1,origin:!1,reverseWraparound:!1,sendFocus:!1,wraparound:!0});let c=a.CoreService=class extends y.Disposable{constructor(o,h,m){super(),this._bufferService=o,this._logService=h,this._optionsService=m,this.isCursorInitialized=!1,this.isCursorHidden=!1,this._onData=this.register(new g.EventEmitter),this.onData=this._onData.event,this._onUserInput=this.register(new g.EventEmitter),this.onUserInput=this._onUserInput.event,this._onBinary=this.register(new g.EventEmitter),this.onBinary=this._onBinary.event,this._onRequestScrollToBottom=this.register(new g.EventEmitter),this.onRequestScrollToBottom=this._onRequestScrollToBottom.event,this.modes=(0,l.clone)(f),this.decPrivateModes=(0,l.clone)(r)}reset(){this.modes=(0,l.clone)(f),this.decPrivateModes=(0,l.clone)(r)}triggerDataEvent(o,h=!1){if(this._optionsService.rawOptions.disableStdin)return;const m=this._bufferService.buffer;h&&this._optionsService.rawOptions.scrollOnUserInput&&m.ybase!==m.ydisp&&this._onRequestScrollToBottom.fire(),h&&this._onUserInput.fire(),this._logService.debug(`sending data "${o}"`,(()=>o.split("").map((w=>w.charCodeAt(0))))),this._onData.fire(o)}triggerBinaryEvent(o){this._optionsService.rawOptions.disableStdin||(this._logService.debug(`sending binary "${o}"`,(()=>o.split("").map((h=>h.charCodeAt(0))))),this._onBinary.fire(o))}};a.CoreService=c=_([v(0,C.IBufferService),v(1,C.ILogService),v(2,C.IOptionsService)],c)},9074:(W,a,d)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.DecorationService=void 0;const _=d(8055),v=d(8460),l=d(844),g=d(6106);let y=0,C=0;class f extends l.Disposable{get decorations(){return this._decorations.values()}constructor(){super(),this._decorations=new g.SortedList((o=>o?.marker.line)),this._onDecorationRegistered=this.register(new v.EventEmitter),this.onDecorationRegistered=this._onDecorationRegistered.event,this._onDecorationRemoved=this.register(new v.EventEmitter),this.onDecorationRemoved=this._onDecorationRemoved.event,this.register((0,l.toDisposable)((()=>this.reset())))}registerDecoration(o){if(o.marker.isDisposed)return;const h=new r(o);if(h){const m=h.marker.onDispose((()=>h.dispose()));h.onDispose((()=>{h&&(this._decorations.delete(h)&&this._onDecorationRemoved.fire(h),m.dispose())})),this._decorations.insert(h),this._onDecorationRegistered.fire(h)}return h}reset(){for(const o of this._decorations.values())o.dispose();this._decorations.clear()}*getDecorationsAtCell(o,h,m){let w=0,S=0;for(const E of this._decorations.getKeyIterator(h))w=E.options.x??0,S=w+(E.options.width??1),o>=w&&o<S&&(!m||(E.options.layer??"bottom")===m)&&(yield E)}forEachDecorationAtCell(o,h,m,w){this._decorations.forEachByKey(h,(S=>{y=S.options.x??0,C=y+(S.options.width??1),o>=y&&o<C&&(!m||(S.options.layer??"bottom")===m)&&w(S)}))}}a.DecorationService=f;class r extends l.Disposable{get isDisposed(){return this._isDisposed}get backgroundColorRGB(){return this._cachedBg===null&&(this.options.backgroundColor?this._cachedBg=_.css.toColor(this.options.backgroundColor):this._cachedBg=void 0),this._cachedBg}get foregroundColorRGB(){return this._cachedFg===null&&(this.options.foregroundColor?this._cachedFg=_.css.toColor(this.options.foregroundColor):this._cachedFg=void 0),this._cachedFg}constructor(o){super(),this.options=o,this.onRenderEmitter=this.register(new v.EventEmitter),this.onRender=this.onRenderEmitter.event,this._onDispose=this.register(new v.EventEmitter),this.onDispose=this._onDispose.event,this._cachedBg=null,this._cachedFg=null,this.marker=o.marker,this.options.overviewRulerOptions&&!this.options.overviewRulerOptions.position&&(this.options.overviewRulerOptions.position="full")}dispose(){this._onDispose.fire(),super.dispose()}}},4348:(W,a,d)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.InstantiationService=a.ServiceCollection=void 0;const _=d(2585),v=d(8343);class l{constructor(...y){this._entries=new Map;for(const[C,f]of y)this.set(C,f)}set(y,C){const f=this._entries.get(y);return this._entries.set(y,C),f}forEach(y){for(const[C,f]of this._entries.entries())y(C,f)}has(y){return this._entries.has(y)}get(y){return this._entries.get(y)}}a.ServiceCollection=l,a.InstantiationService=class{constructor(){this._services=new l,this._services.set(_.IInstantiationService,this)}setService(g,y){this._services.set(g,y)}getService(g){return this._services.get(g)}createInstance(g,...y){const C=(0,v.getServiceDependencies)(g).sort(((c,o)=>c.index-o.index)),f=[];for(const c of C){const o=this._services.get(c.id);if(!o)throw new Error(`[createInstance] ${g.name} depends on UNKNOWN service ${c.id}.`);f.push(o)}const r=C.length>0?C[0].index:y.length;if(y.length!==r)throw new Error(`[createInstance] First service dependency of ${g.name} at position ${r+1} conflicts with ${y.length} static arguments`);return new g(...y,...f)}}},7866:function(W,a,d){var _=this&&this.__decorate||function(r,c,o,h){var m,w=arguments.length,S=w<3?c:h===null?h=Object.getOwnPropertyDescriptor(c,o):h;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")S=Reflect.decorate(r,c,o,h);else for(var E=r.length-1;E>=0;E--)(m=r[E])&&(S=(w<3?m(S):w>3?m(c,o,S):m(c,o))||S);return w>3&&S&&Object.defineProperty(c,o,S),S},v=this&&this.__param||function(r,c){return function(o,h){c(o,h,r)}};Object.defineProperty(a,"__esModule",{value:!0}),a.traceCall=a.setTraceLogger=a.LogService=void 0;const l=d(844),g=d(2585),y={trace:g.LogLevelEnum.TRACE,debug:g.LogLevelEnum.DEBUG,info:g.LogLevelEnum.INFO,warn:g.LogLevelEnum.WARN,error:g.LogLevelEnum.ERROR,off:g.LogLevelEnum.OFF};let C,f=a.LogService=class extends l.Disposable{get logLevel(){return this._logLevel}constructor(r){super(),this._optionsService=r,this._logLevel=g.LogLevelEnum.OFF,this._updateLogLevel(),this.register(this._optionsService.onSpecificOptionChange("logLevel",(()=>this._updateLogLevel()))),C=this}_updateLogLevel(){this._logLevel=y[this._optionsService.rawOptions.logLevel]}_evalLazyOptionalParams(r){for(let c=0;c<r.length;c++)typeof r[c]=="function"&&(r[c]=r[c]())}_log(r,c,o){this._evalLazyOptionalParams(o),r.call(console,(this._optionsService.options.logger?"":"xterm.js: ")+c,...o)}trace(r,...c){this._logLevel<=g.LogLevelEnum.TRACE&&this._log(this._optionsService.options.logger?.trace.bind(this._optionsService.options.logger)??console.log,r,c)}debug(r,...c){this._logLevel<=g.LogLevelEnum.DEBUG&&this._log(this._optionsService.options.logger?.debug.bind(this._optionsService.options.logger)??console.log,r,c)}info(r,...c){this._logLevel<=g.LogLevelEnum.INFO&&this._log(this._optionsService.options.logger?.info.bind(this._optionsService.options.logger)??console.info,r,c)}warn(r,...c){this._logLevel<=g.LogLevelEnum.WARN&&this._log(this._optionsService.options.logger?.warn.bind(this._optionsService.options.logger)??console.warn,r,c)}error(r,...c){this._logLevel<=g.LogLevelEnum.ERROR&&this._log(this._optionsService.options.logger?.error.bind(this._optionsService.options.logger)??console.error,r,c)}};a.LogService=f=_([v(0,g.IOptionsService)],f),a.setTraceLogger=function(r){C=r},a.traceCall=function(r,c,o){if(typeof o.value!="function")throw new Error("not supported");const h=o.value;o.value=function(...m){if(C.logLevel!==g.LogLevelEnum.TRACE)return h.apply(this,m);C.trace(`GlyphRenderer#${h.name}(${m.map((S=>JSON.stringify(S))).join(", ")})`);const w=h.apply(this,m);return C.trace(`GlyphRenderer#${h.name} return`,w),w}}},7302:(W,a,d)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.OptionsService=a.DEFAULT_OPTIONS=void 0;const _=d(8460),v=d(844),l=d(6114);a.DEFAULT_OPTIONS={cols:80,rows:24,cursorBlink:!1,cursorStyle:"block",cursorWidth:1,cursorInactiveStyle:"outline",customGlyphs:!0,drawBoldTextInBrightColors:!0,documentOverride:null,fastScrollModifier:"alt",fastScrollSensitivity:5,fontFamily:"courier-new, courier, monospace",fontSize:15,fontWeight:"normal",fontWeightBold:"bold",ignoreBracketedPasteMode:!1,lineHeight:1,letterSpacing:0,linkHandler:null,logLevel:"info",logger:null,scrollback:1e3,scrollOnUserInput:!0,scrollSensitivity:1,screenReaderMode:!1,smoothScrollDuration:0,macOptionIsMeta:!1,macOptionClickForcesSelection:!1,minimumContrastRatio:1,disableStdin:!1,allowProposedApi:!1,allowTransparency:!1,tabStopWidth:8,theme:{},rescaleOverlappingGlyphs:!1,rightClickSelectsWord:l.isMac,windowOptions:{},windowsMode:!1,windowsPty:{},wordSeparator:" ()[]{}',\"`",altClickMovesCursor:!0,convertEol:!1,termName:"xterm",cancelEvents:!1,overviewRulerWidth:0};const g=["normal","bold","100","200","300","400","500","600","700","800","900"];class y extends v.Disposable{constructor(f){super(),this._onOptionChange=this.register(new _.EventEmitter),this.onOptionChange=this._onOptionChange.event;const r={...a.DEFAULT_OPTIONS};for(const c in f)if(c in r)try{const o=f[c];r[c]=this._sanitizeAndValidateOption(c,o)}catch(o){console.error(o)}this.rawOptions=r,this.options={...r},this._setupOptions(),this.register((0,v.toDisposable)((()=>{this.rawOptions.linkHandler=null,this.rawOptions.documentOverride=null})))}onSpecificOptionChange(f,r){return this.onOptionChange((c=>{c===f&&r(this.rawOptions[f])}))}onMultipleOptionChange(f,r){return this.onOptionChange((c=>{f.indexOf(c)!==-1&&r()}))}_setupOptions(){const f=c=>{if(!(c in a.DEFAULT_OPTIONS))throw new Error(`No option with key "${c}"`);return this.rawOptions[c]},r=(c,o)=>{if(!(c in a.DEFAULT_OPTIONS))throw new Error(`No option with key "${c}"`);o=this._sanitizeAndValidateOption(c,o),this.rawOptions[c]!==o&&(this.rawOptions[c]=o,this._onOptionChange.fire(c))};for(const c in this.rawOptions){const o={get:f.bind(this,c),set:r.bind(this,c)};Object.defineProperty(this.options,c,o)}}_sanitizeAndValidateOption(f,r){switch(f){case"cursorStyle":if(r||(r=a.DEFAULT_OPTIONS[f]),!(function(c){return c==="block"||c==="underline"||c==="bar"})(r))throw new Error(`"${r}" is not a valid value for ${f}`);break;case"wordSeparator":r||(r=a.DEFAULT_OPTIONS[f]);break;case"fontWeight":case"fontWeightBold":if(typeof r=="number"&&1<=r&&r<=1e3)break;r=g.includes(r)?r:a.DEFAULT_OPTIONS[f];break;case"cursorWidth":r=Math.floor(r);case"lineHeight":case"tabStopWidth":if(r<1)throw new Error(`${f} cannot be less than 1, value: ${r}`);break;case"minimumContrastRatio":r=Math.max(1,Math.min(21,Math.round(10*r)/10));break;case"scrollback":if((r=Math.min(r,4294967295))<0)throw new Error(`${f} cannot be less than 0, value: ${r}`);break;case"fastScrollSensitivity":case"scrollSensitivity":if(r<=0)throw new Error(`${f} cannot be less than or equal to 0, value: ${r}`);break;case"rows":case"cols":if(!r&&r!==0)throw new Error(`${f} must be numeric, value: ${r}`);break;case"windowsPty":r=r??{}}return r}}a.OptionsService=y},2660:function(W,a,d){var _=this&&this.__decorate||function(y,C,f,r){var c,o=arguments.length,h=o<3?C:r===null?r=Object.getOwnPropertyDescriptor(C,f):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")h=Reflect.decorate(y,C,f,r);else for(var m=y.length-1;m>=0;m--)(c=y[m])&&(h=(o<3?c(h):o>3?c(C,f,h):c(C,f))||h);return o>3&&h&&Object.defineProperty(C,f,h),h},v=this&&this.__param||function(y,C){return function(f,r){C(f,r,y)}};Object.defineProperty(a,"__esModule",{value:!0}),a.OscLinkService=void 0;const l=d(2585);let g=a.OscLinkService=class{constructor(y){this._bufferService=y,this._nextId=1,this._entriesWithId=new Map,this._dataByLinkId=new Map}registerLink(y){const C=this._bufferService.buffer;if(y.id===void 0){const m=C.addMarker(C.ybase+C.y),w={data:y,id:this._nextId++,lines:[m]};return m.onDispose((()=>this._removeMarkerFromLink(w,m))),this._dataByLinkId.set(w.id,w),w.id}const f=y,r=this._getEntryIdKey(f),c=this._entriesWithId.get(r);if(c)return this.addLineToLink(c.id,C.ybase+C.y),c.id;const o=C.addMarker(C.ybase+C.y),h={id:this._nextId++,key:this._getEntryIdKey(f),data:f,lines:[o]};return o.onDispose((()=>this._removeMarkerFromLink(h,o))),this._entriesWithId.set(h.key,h),this._dataByLinkId.set(h.id,h),h.id}addLineToLink(y,C){const f=this._dataByLinkId.get(y);if(f&&f.lines.every((r=>r.line!==C))){const r=this._bufferService.buffer.addMarker(C);f.lines.push(r),r.onDispose((()=>this._removeMarkerFromLink(f,r)))}}getLinkData(y){return this._dataByLinkId.get(y)?.data}_getEntryIdKey(y){return`${y.id};;${y.uri}`}_removeMarkerFromLink(y,C){const f=y.lines.indexOf(C);f!==-1&&(y.lines.splice(f,1),y.lines.length===0&&(y.data.id!==void 0&&this._entriesWithId.delete(y.key),this._dataByLinkId.delete(y.id)))}};a.OscLinkService=g=_([v(0,l.IBufferService)],g)},8343:(W,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.createDecorator=a.getServiceDependencies=a.serviceRegistry=void 0;const d="di$target",_="di$dependencies";a.serviceRegistry=new Map,a.getServiceDependencies=function(v){return v[_]||[]},a.createDecorator=function(v){if(a.serviceRegistry.has(v))return a.serviceRegistry.get(v);const l=function(g,y,C){if(arguments.length!==3)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");(function(f,r,c){r[d]===r?r[_].push({id:f,index:c}):(r[_]=[{id:f,index:c}],r[d]=r)})(l,g,C)};return l.toString=()=>v,a.serviceRegistry.set(v,l),l}},2585:(W,a,d)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.IDecorationService=a.IUnicodeService=a.IOscLinkService=a.IOptionsService=a.ILogService=a.LogLevelEnum=a.IInstantiationService=a.ICharsetService=a.ICoreService=a.ICoreMouseService=a.IBufferService=void 0;const _=d(8343);var v;a.IBufferService=(0,_.createDecorator)("BufferService"),a.ICoreMouseService=(0,_.createDecorator)("CoreMouseService"),a.ICoreService=(0,_.createDecorator)("CoreService"),a.ICharsetService=(0,_.createDecorator)("CharsetService"),a.IInstantiationService=(0,_.createDecorator)("InstantiationService"),(function(l){l[l.TRACE=0]="TRACE",l[l.DEBUG=1]="DEBUG",l[l.INFO=2]="INFO",l[l.WARN=3]="WARN",l[l.ERROR=4]="ERROR",l[l.OFF=5]="OFF"})(v||(a.LogLevelEnum=v={})),a.ILogService=(0,_.createDecorator)("LogService"),a.IOptionsService=(0,_.createDecorator)("OptionsService"),a.IOscLinkService=(0,_.createDecorator)("OscLinkService"),a.IUnicodeService=(0,_.createDecorator)("UnicodeService"),a.IDecorationService=(0,_.createDecorator)("DecorationService")},1480:(W,a,d)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.UnicodeService=void 0;const _=d(8460),v=d(225);class l{static extractShouldJoin(y){return(1&y)!=0}static extractWidth(y){return y>>1&3}static extractCharKind(y){return y>>3}static createPropertyValue(y,C,f=!1){return(16777215&y)<<3|(3&C)<<1|(f?1:0)}constructor(){this._providers=Object.create(null),this._active="",this._onChange=new _.EventEmitter,this.onChange=this._onChange.event;const y=new v.UnicodeV6;this.register(y),this._active=y.version,this._activeProvider=y}dispose(){this._onChange.dispose()}get versions(){return Object.keys(this._providers)}get activeVersion(){return this._active}set activeVersion(y){if(!this._providers[y])throw new Error(`unknown Unicode version "${y}"`);this._active=y,this._activeProvider=this._providers[y],this._onChange.fire(y)}register(y){this._providers[y.version]=y}wcwidth(y){return this._activeProvider.wcwidth(y)}getStringCellWidth(y){let C=0,f=0;const r=y.length;for(let c=0;c<r;++c){let o=y.charCodeAt(c);if(55296<=o&&o<=56319){if(++c>=r)return C+this.wcwidth(o);const w=y.charCodeAt(c);56320<=w&&w<=57343?o=1024*(o-55296)+w-56320+65536:C+=this.wcwidth(w)}const h=this.charProperties(o,f);let m=l.extractWidth(h);l.extractShouldJoin(h)&&(m-=l.extractWidth(f)),C+=m,f=h}return C}charProperties(y,C){return this._activeProvider.charProperties(y,C)}}a.UnicodeService=l}},X={};function ce(W){var a=X[W];if(a!==void 0)return a.exports;var d=X[W]={exports:{}};return me[W].call(d.exports,d,d.exports,ce),d.exports}var de={};return(()=>{var W=de;Object.defineProperty(W,"__esModule",{value:!0}),W.Terminal=void 0;const a=ce(9042),d=ce(3236),_=ce(844),v=ce(5741),l=ce(8285),g=ce(7975),y=ce(7090),C=["cols","rows"];class f extends _.Disposable{constructor(c){super(),this._core=this.register(new d.Terminal(c)),this._addonManager=this.register(new v.AddonManager),this._publicOptions={...this._core.options};const o=m=>this._core.options[m],h=(m,w)=>{this._checkReadonlyOptions(m),this._core.options[m]=w};for(const m in this._core.options){const w={get:o.bind(this,m),set:h.bind(this,m)};Object.defineProperty(this._publicOptions,m,w)}}_checkReadonlyOptions(c){if(C.includes(c))throw new Error(`Option "${c}" can only be set in the constructor`)}_checkProposedApi(){if(!this._core.optionsService.rawOptions.allowProposedApi)throw new Error("You must set the allowProposedApi option to true to use proposed API")}get onBell(){return this._core.onBell}get onBinary(){return this._core.onBinary}get onCursorMove(){return this._core.onCursorMove}get onData(){return this._core.onData}get onKey(){return this._core.onKey}get onLineFeed(){return this._core.onLineFeed}get onRender(){return this._core.onRender}get onResize(){return this._core.onResize}get onScroll(){return this._core.onScroll}get onSelectionChange(){return this._core.onSelectionChange}get onTitleChange(){return this._core.onTitleChange}get onWriteParsed(){return this._core.onWriteParsed}get element(){return this._core.element}get parser(){return this._parser||(this._parser=new g.ParserApi(this._core)),this._parser}get unicode(){return this._checkProposedApi(),new y.UnicodeApi(this._core)}get textarea(){return this._core.textarea}get rows(){return this._core.rows}get cols(){return this._core.cols}get buffer(){return this._buffer||(this._buffer=this.register(new l.BufferNamespaceApi(this._core))),this._buffer}get markers(){return this._checkProposedApi(),this._core.markers}get modes(){const c=this._core.coreService.decPrivateModes;let o="none";switch(this._core.coreMouseService.activeProtocol){case"X10":o="x10";break;case"VT200":o="vt200";break;case"DRAG":o="drag";break;case"ANY":o="any"}return{applicationCursorKeysMode:c.applicationCursorKeys,applicationKeypadMode:c.applicationKeypad,bracketedPasteMode:c.bracketedPasteMode,insertMode:this._core.coreService.modes.insertMode,mouseTrackingMode:o,originMode:c.origin,reverseWraparoundMode:c.reverseWraparound,sendFocusMode:c.sendFocus,wraparoundMode:c.wraparound}}get options(){return this._publicOptions}set options(c){for(const o in c)this._publicOptions[o]=c[o]}blur(){this._core.blur()}focus(){this._core.focus()}input(c,o=!0){this._core.input(c,o)}resize(c,o){this._verifyIntegers(c,o),this._core.resize(c,o)}open(c){this._core.open(c)}attachCustomKeyEventHandler(c){this._core.attachCustomKeyEventHandler(c)}attachCustomWheelEventHandler(c){this._core.attachCustomWheelEventHandler(c)}registerLinkProvider(c){return this._core.registerLinkProvider(c)}registerCharacterJoiner(c){return this._checkProposedApi(),this._core.registerCharacterJoiner(c)}deregisterCharacterJoiner(c){this._checkProposedApi(),this._core.deregisterCharacterJoiner(c)}registerMarker(c=0){return this._verifyIntegers(c),this._core.registerMarker(c)}registerDecoration(c){return this._checkProposedApi(),this._verifyPositiveIntegers(c.x??0,c.width??0,c.height??0),this._core.registerDecoration(c)}hasSelection(){return this._core.hasSelection()}select(c,o,h){this._verifyIntegers(c,o,h),this._core.select(c,o,h)}getSelection(){return this._core.getSelection()}getSelectionPosition(){return this._core.getSelectionPosition()}clearSelection(){this._core.clearSelection()}selectAll(){this._core.selectAll()}selectLines(c,o){this._verifyIntegers(c,o),this._core.selectLines(c,o)}dispose(){super.dispose()}scrollLines(c){this._verifyIntegers(c),this._core.scrollLines(c)}scrollPages(c){this._verifyIntegers(c),this._core.scrollPages(c)}scrollToTop(){this._core.scrollToTop()}scrollToBottom(){this._core.scrollToBottom()}scrollToLine(c){this._verifyIntegers(c),this._core.scrollToLine(c)}clear(){this._core.clear()}write(c,o){this._core.write(c,o)}writeln(c,o){this._core.write(c),this._core.write(`\r
`,o)}paste(c){this._core.paste(c)}refresh(c,o){this._verifyIntegers(c,o),this._core.refresh(c,o)}reset(){this._core.reset()}clearTextureAtlas(){this._core.clearTextureAtlas()}loadAddon(c){this._addonManager.loadAddon(this,c)}static get strings(){return a}_verifyIntegers(...c){for(const o of c)if(o===1/0||isNaN(o)||o%1!=0)throw new Error("This API only accepts integers")}_verifyPositiveIntegers(...c){for(const o of c)if(o&&(o===1/0||isNaN(o)||o%1!=0||o<0))throw new Error("This API only accepts positive integers")}}W.Terminal=f})(),de})()))})(Ro)),Ro.exports}var gv=vv(),xo={exports:{}},Ff;function pv(){return Ff||(Ff=1,(function(oe,Me){(function(me,X){oe.exports=X()})(self,(()=>(()=>{var me={};return(()=>{var X=me;Object.defineProperty(X,"__esModule",{value:!0}),X.FitAddon=void 0,X.FitAddon=class{activate(ce){this._terminal=ce}dispose(){}fit(){const ce=this.proposeDimensions();if(!ce||!this._terminal||isNaN(ce.cols)||isNaN(ce.rows))return;const de=this._terminal._core;this._terminal.rows===ce.rows&&this._terminal.cols===ce.cols||(de._renderService.clear(),this._terminal.resize(ce.cols,ce.rows))}proposeDimensions(){if(!this._terminal||!this._terminal.element||!this._terminal.element.parentElement)return;const ce=this._terminal._core,de=ce._renderService.dimensions;if(de.css.cell.width===0||de.css.cell.height===0)return;const W=this._terminal.options.scrollback===0?0:ce.viewport.scrollBarWidth,a=window.getComputedStyle(this._terminal.element.parentElement),d=parseInt(a.getPropertyValue("height")),_=Math.max(0,parseInt(a.getPropertyValue("width"))),v=window.getComputedStyle(this._terminal.element),l=d-(parseInt(v.getPropertyValue("padding-top"))+parseInt(v.getPropertyValue("padding-bottom"))),g=_-(parseInt(v.getPropertyValue("padding-right"))+parseInt(v.getPropertyValue("padding-left")))-W;return{cols:Math.max(2,Math.floor(g/de.css.cell.width)),rows:Math.max(1,Math.floor(l/de.css.cell.height))}}}})(),me})()))})(xo)),xo.exports}var mv=pv(),Do={exports:{}},Pf;function Sv(){return Pf||(Pf=1,(function(oe,Me){(function(me,X){oe.exports=X()})(self,(()=>(()=>{var me={965:(W,a,d)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.GlyphRenderer=void 0;const _=d(374),v=d(509),l=d(855),g=d(859),y=d(381),C=11,f=C*Float32Array.BYTES_PER_ELEMENT;let r,c=0,o=0,h=0;class m extends g.Disposable{constructor(S,E,p,b){super(),this._terminal=S,this._gl=E,this._dimensions=p,this._optionsService=b,this._activeBuffer=0,this._vertices={count:0,attributes:new Float32Array(0),attributesBuffers:[new Float32Array(0),new Float32Array(0)]};const L=this._gl;v.TextureAtlas.maxAtlasPages===void 0&&(v.TextureAtlas.maxAtlasPages=Math.min(32,(0,_.throwIfFalsy)(L.getParameter(L.MAX_TEXTURE_IMAGE_UNITS))),v.TextureAtlas.maxTextureSize=(0,_.throwIfFalsy)(L.getParameter(L.MAX_TEXTURE_SIZE))),this._program=(0,_.throwIfFalsy)((0,y.createProgram)(L,`#version 300 es
layout (location = 0) in vec2 a_unitquad;
layout (location = 1) in vec2 a_cellpos;
layout (location = 2) in vec2 a_offset;
layout (location = 3) in vec2 a_size;
layout (location = 4) in float a_texpage;
layout (location = 5) in vec2 a_texcoord;
layout (location = 6) in vec2 a_texsize;

uniform mat4 u_projection;
uniform vec2 u_resolution;

out vec2 v_texcoord;
flat out int v_texpage;

void main() {
  vec2 zeroToOne = (a_offset / u_resolution) + a_cellpos + (a_unitquad * a_size);
  gl_Position = u_projection * vec4(zeroToOne, 0.0, 1.0);
  v_texpage = int(a_texpage);
  v_texcoord = a_texcoord + a_unitquad * a_texsize;
}`,(function(U){let N="";for(let F=1;F<U;F++)N+=` else if (v_texpage == ${F}) { outColor = texture(u_texture[${F}], v_texcoord); }`;return`#version 300 es
precision lowp float;

in vec2 v_texcoord;
flat in int v_texpage;

uniform sampler2D u_texture[${U}];

out vec4 outColor;

void main() {
  if (v_texpage == 0) {
    outColor = texture(u_texture[0], v_texcoord);
  } ${N}
}`})(v.TextureAtlas.maxAtlasPages))),this.register((0,g.toDisposable)((()=>L.deleteProgram(this._program)))),this._projectionLocation=(0,_.throwIfFalsy)(L.getUniformLocation(this._program,"u_projection")),this._resolutionLocation=(0,_.throwIfFalsy)(L.getUniformLocation(this._program,"u_resolution")),this._textureLocation=(0,_.throwIfFalsy)(L.getUniformLocation(this._program,"u_texture")),this._vertexArrayObject=L.createVertexArray(),L.bindVertexArray(this._vertexArrayObject);const B=new Float32Array([0,0,1,0,0,1,1,1]),D=L.createBuffer();this.register((0,g.toDisposable)((()=>L.deleteBuffer(D)))),L.bindBuffer(L.ARRAY_BUFFER,D),L.bufferData(L.ARRAY_BUFFER,B,L.STATIC_DRAW),L.enableVertexAttribArray(0),L.vertexAttribPointer(0,2,this._gl.FLOAT,!1,0,0);const M=new Uint8Array([0,1,2,3]),z=L.createBuffer();this.register((0,g.toDisposable)((()=>L.deleteBuffer(z)))),L.bindBuffer(L.ELEMENT_ARRAY_BUFFER,z),L.bufferData(L.ELEMENT_ARRAY_BUFFER,M,L.STATIC_DRAW),this._attributesBuffer=(0,_.throwIfFalsy)(L.createBuffer()),this.register((0,g.toDisposable)((()=>L.deleteBuffer(this._attributesBuffer)))),L.bindBuffer(L.ARRAY_BUFFER,this._attributesBuffer),L.enableVertexAttribArray(2),L.vertexAttribPointer(2,2,L.FLOAT,!1,f,0),L.vertexAttribDivisor(2,1),L.enableVertexAttribArray(3),L.vertexAttribPointer(3,2,L.FLOAT,!1,f,2*Float32Array.BYTES_PER_ELEMENT),L.vertexAttribDivisor(3,1),L.enableVertexAttribArray(4),L.vertexAttribPointer(4,1,L.FLOAT,!1,f,4*Float32Array.BYTES_PER_ELEMENT),L.vertexAttribDivisor(4,1),L.enableVertexAttribArray(5),L.vertexAttribPointer(5,2,L.FLOAT,!1,f,5*Float32Array.BYTES_PER_ELEMENT),L.vertexAttribDivisor(5,1),L.enableVertexAttribArray(6),L.vertexAttribPointer(6,2,L.FLOAT,!1,f,7*Float32Array.BYTES_PER_ELEMENT),L.vertexAttribDivisor(6,1),L.enableVertexAttribArray(1),L.vertexAttribPointer(1,2,L.FLOAT,!1,f,9*Float32Array.BYTES_PER_ELEMENT),L.vertexAttribDivisor(1,1),L.useProgram(this._program);const V=new Int32Array(v.TextureAtlas.maxAtlasPages);for(let U=0;U<v.TextureAtlas.maxAtlasPages;U++)V[U]=U;L.uniform1iv(this._textureLocation,V),L.uniformMatrix4fv(this._projectionLocation,!1,y.PROJECTION_MATRIX),this._atlasTextures=[];for(let U=0;U<v.TextureAtlas.maxAtlasPages;U++){const N=new y.GLTexture((0,_.throwIfFalsy)(L.createTexture()));this.register((0,g.toDisposable)((()=>L.deleteTexture(N.texture)))),L.activeTexture(L.TEXTURE0+U),L.bindTexture(L.TEXTURE_2D,N.texture),L.texParameteri(L.TEXTURE_2D,L.TEXTURE_WRAP_S,L.CLAMP_TO_EDGE),L.texParameteri(L.TEXTURE_2D,L.TEXTURE_WRAP_T,L.CLAMP_TO_EDGE),L.texImage2D(L.TEXTURE_2D,0,L.RGBA,1,1,0,L.RGBA,L.UNSIGNED_BYTE,new Uint8Array([255,0,0,255])),this._atlasTextures[U]=N}L.enable(L.BLEND),L.blendFunc(L.SRC_ALPHA,L.ONE_MINUS_SRC_ALPHA),this.handleResize()}beginFrame(){return!this._atlas||this._atlas.beginFrame()}updateCell(S,E,p,b,L,B,D,M,z){this._updateCell(this._vertices.attributes,S,E,p,b,L,B,D,M,z)}_updateCell(S,E,p,b,L,B,D,M,z,V){c=(p*this._terminal.cols+E)*C,b!==l.NULL_CELL_CODE&&b!==void 0?this._atlas&&(r=M&&M.length>1?this._atlas.getRasterizedGlyphCombinedChar(M,L,B,D,!1):this._atlas.getRasterizedGlyph(b,L,B,D,!1),o=Math.floor((this._dimensions.device.cell.width-this._dimensions.device.char.width)/2),L!==V&&r.offset.x>o?(h=r.offset.x-o,S[c]=-(r.offset.x-h)+this._dimensions.device.char.left,S[c+1]=-r.offset.y+this._dimensions.device.char.top,S[c+2]=(r.size.x-h)/this._dimensions.device.canvas.width,S[c+3]=r.size.y/this._dimensions.device.canvas.height,S[c+4]=r.texturePage,S[c+5]=r.texturePositionClipSpace.x+h/this._atlas.pages[r.texturePage].canvas.width,S[c+6]=r.texturePositionClipSpace.y,S[c+7]=r.sizeClipSpace.x-h/this._atlas.pages[r.texturePage].canvas.width,S[c+8]=r.sizeClipSpace.y):(S[c]=-r.offset.x+this._dimensions.device.char.left,S[c+1]=-r.offset.y+this._dimensions.device.char.top,S[c+2]=r.size.x/this._dimensions.device.canvas.width,S[c+3]=r.size.y/this._dimensions.device.canvas.height,S[c+4]=r.texturePage,S[c+5]=r.texturePositionClipSpace.x,S[c+6]=r.texturePositionClipSpace.y,S[c+7]=r.sizeClipSpace.x,S[c+8]=r.sizeClipSpace.y),this._optionsService.rawOptions.rescaleOverlappingGlyphs&&(0,_.allowRescaling)(b,z,r.size.x,this._dimensions.device.cell.width)&&(S[c+2]=(this._dimensions.device.cell.width-1)/this._dimensions.device.canvas.width)):S.fill(0,c,c+C-1-2)}clear(){const S=this._terminal,E=S.cols*S.rows*C;this._vertices.count!==E?this._vertices.attributes=new Float32Array(E):this._vertices.attributes.fill(0);let p=0;for(;p<this._vertices.attributesBuffers.length;p++)this._vertices.count!==E?this._vertices.attributesBuffers[p]=new Float32Array(E):this._vertices.attributesBuffers[p].fill(0);this._vertices.count=E,p=0;for(let b=0;b<S.rows;b++)for(let L=0;L<S.cols;L++)this._vertices.attributes[p+9]=L/S.cols,this._vertices.attributes[p+10]=b/S.rows,p+=C}handleResize(){const S=this._gl;S.useProgram(this._program),S.viewport(0,0,S.canvas.width,S.canvas.height),S.uniform2f(this._resolutionLocation,S.canvas.width,S.canvas.height),this.clear()}render(S){if(!this._atlas)return;const E=this._gl;E.useProgram(this._program),E.bindVertexArray(this._vertexArrayObject),this._activeBuffer=(this._activeBuffer+1)%2;const p=this._vertices.attributesBuffers[this._activeBuffer];let b=0;for(let L=0;L<S.lineLengths.length;L++){const B=L*this._terminal.cols*C,D=this._vertices.attributes.subarray(B,B+S.lineLengths[L]*C);p.set(D,b),b+=D.length}E.bindBuffer(E.ARRAY_BUFFER,this._attributesBuffer),E.bufferData(E.ARRAY_BUFFER,p.subarray(0,b),E.STREAM_DRAW);for(let L=0;L<this._atlas.pages.length;L++)this._atlas.pages[L].version!==this._atlasTextures[L].version&&this._bindAtlasPageTexture(E,this._atlas,L);E.drawElementsInstanced(E.TRIANGLE_STRIP,4,E.UNSIGNED_BYTE,0,b/C)}setAtlas(S){this._atlas=S;for(const E of this._atlasTextures)E.version=-1}_bindAtlasPageTexture(S,E,p){S.activeTexture(S.TEXTURE0+p),S.bindTexture(S.TEXTURE_2D,this._atlasTextures[p].texture),S.texParameteri(S.TEXTURE_2D,S.TEXTURE_WRAP_S,S.CLAMP_TO_EDGE),S.texParameteri(S.TEXTURE_2D,S.TEXTURE_WRAP_T,S.CLAMP_TO_EDGE),S.texImage2D(S.TEXTURE_2D,0,S.RGBA,S.RGBA,S.UNSIGNED_BYTE,E.pages[p].canvas),S.generateMipmap(S.TEXTURE_2D),this._atlasTextures[p].version=E.pages[p].version}setDimensions(S){this._dimensions=S}}a.GlyphRenderer=m},742:(W,a,d)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.RectangleRenderer=void 0;const _=d(374),v=d(859),l=d(310),g=d(381),y=8*Float32Array.BYTES_PER_ELEMENT;class C{constructor(){this.attributes=new Float32Array(160),this.count=0}}let f=0,r=0,c=0,o=0,h=0,m=0,w=0;class S extends v.Disposable{constructor(p,b,L,B){super(),this._terminal=p,this._gl=b,this._dimensions=L,this._themeService=B,this._vertices=new C,this._verticesCursor=new C;const D=this._gl;this._program=(0,_.throwIfFalsy)((0,g.createProgram)(D,`#version 300 es
layout (location = 0) in vec2 a_position;
layout (location = 1) in vec2 a_size;
layout (location = 2) in vec4 a_color;
layout (location = 3) in vec2 a_unitquad;

uniform mat4 u_projection;

out vec4 v_color;

void main() {
  vec2 zeroToOne = a_position + (a_unitquad * a_size);
  gl_Position = u_projection * vec4(zeroToOne, 0.0, 1.0);
  v_color = a_color;
}`,`#version 300 es
precision lowp float;

in vec4 v_color;

out vec4 outColor;

void main() {
  outColor = v_color;
}`)),this.register((0,v.toDisposable)((()=>D.deleteProgram(this._program)))),this._projectionLocation=(0,_.throwIfFalsy)(D.getUniformLocation(this._program,"u_projection")),this._vertexArrayObject=D.createVertexArray(),D.bindVertexArray(this._vertexArrayObject);const M=new Float32Array([0,0,1,0,0,1,1,1]),z=D.createBuffer();this.register((0,v.toDisposable)((()=>D.deleteBuffer(z)))),D.bindBuffer(D.ARRAY_BUFFER,z),D.bufferData(D.ARRAY_BUFFER,M,D.STATIC_DRAW),D.enableVertexAttribArray(3),D.vertexAttribPointer(3,2,this._gl.FLOAT,!1,0,0);const V=new Uint8Array([0,1,2,3]),U=D.createBuffer();this.register((0,v.toDisposable)((()=>D.deleteBuffer(U)))),D.bindBuffer(D.ELEMENT_ARRAY_BUFFER,U),D.bufferData(D.ELEMENT_ARRAY_BUFFER,V,D.STATIC_DRAW),this._attributesBuffer=(0,_.throwIfFalsy)(D.createBuffer()),this.register((0,v.toDisposable)((()=>D.deleteBuffer(this._attributesBuffer)))),D.bindBuffer(D.ARRAY_BUFFER,this._attributesBuffer),D.enableVertexAttribArray(0),D.vertexAttribPointer(0,2,D.FLOAT,!1,y,0),D.vertexAttribDivisor(0,1),D.enableVertexAttribArray(1),D.vertexAttribPointer(1,2,D.FLOAT,!1,y,2*Float32Array.BYTES_PER_ELEMENT),D.vertexAttribDivisor(1,1),D.enableVertexAttribArray(2),D.vertexAttribPointer(2,4,D.FLOAT,!1,y,4*Float32Array.BYTES_PER_ELEMENT),D.vertexAttribDivisor(2,1),this._updateCachedColors(B.colors),this.register(this._themeService.onChangeColors((N=>{this._updateCachedColors(N),this._updateViewportRectangle()})))}renderBackgrounds(){this._renderVertices(this._vertices)}renderCursor(){this._renderVertices(this._verticesCursor)}_renderVertices(p){const b=this._gl;b.useProgram(this._program),b.bindVertexArray(this._vertexArrayObject),b.uniformMatrix4fv(this._projectionLocation,!1,g.PROJECTION_MATRIX),b.bindBuffer(b.ARRAY_BUFFER,this._attributesBuffer),b.bufferData(b.ARRAY_BUFFER,p.attributes,b.DYNAMIC_DRAW),b.drawElementsInstanced(this._gl.TRIANGLE_STRIP,4,b.UNSIGNED_BYTE,0,p.count)}handleResize(){this._updateViewportRectangle()}setDimensions(p){this._dimensions=p}_updateCachedColors(p){this._bgFloat=this._colorToFloat32Array(p.background),this._cursorFloat=this._colorToFloat32Array(p.cursor)}_updateViewportRectangle(){this._addRectangleFloat(this._vertices.attributes,0,0,0,this._terminal.cols*this._dimensions.device.cell.width,this._terminal.rows*this._dimensions.device.cell.height,this._bgFloat)}updateBackgrounds(p){const b=this._terminal,L=this._vertices;let B,D,M,z,V,U,N,F,x,k,R,O=1;for(B=0;B<b.rows;B++){for(M=-1,z=0,V=0,U=!1,D=0;D<b.cols;D++)N=(B*b.cols+D)*l.RENDER_MODEL_INDICIES_PER_CELL,F=p.cells[N+l.RENDER_MODEL_BG_OFFSET],x=p.cells[N+l.RENDER_MODEL_FG_OFFSET],k=!!(67108864&x),(F!==z||x!==V&&(U||k))&&((z!==0||U&&V!==0)&&(R=8*O++,this._updateRectangle(L,R,V,z,M,D,B)),M=D,z=F,V=x,U=k);(z!==0||U&&V!==0)&&(R=8*O++,this._updateRectangle(L,R,V,z,M,b.cols,B))}L.count=O}updateCursor(p){const b=this._verticesCursor,L=p.cursor;if(!L||L.style==="block")return void(b.count=0);let B,D=0;L.style!=="bar"&&L.style!=="outline"||(B=8*D++,this._addRectangleFloat(b.attributes,B,L.x*this._dimensions.device.cell.width,L.y*this._dimensions.device.cell.height,L.style==="bar"?L.dpr*L.cursorWidth:L.dpr,this._dimensions.device.cell.height,this._cursorFloat)),L.style!=="underline"&&L.style!=="outline"||(B=8*D++,this._addRectangleFloat(b.attributes,B,L.x*this._dimensions.device.cell.width,(L.y+1)*this._dimensions.device.cell.height-L.dpr,L.width*this._dimensions.device.cell.width,L.dpr,this._cursorFloat)),L.style==="outline"&&(B=8*D++,this._addRectangleFloat(b.attributes,B,L.x*this._dimensions.device.cell.width,L.y*this._dimensions.device.cell.height,L.width*this._dimensions.device.cell.width,L.dpr,this._cursorFloat),B=8*D++,this._addRectangleFloat(b.attributes,B,(L.x+L.width)*this._dimensions.device.cell.width-L.dpr,L.y*this._dimensions.device.cell.height,L.dpr,this._dimensions.device.cell.height,this._cursorFloat)),b.count=D}_updateRectangle(p,b,L,B,D,M,z){if(67108864&L)switch(50331648&L){case 16777216:case 33554432:f=this._themeService.colors.ansi[255&L].rgba;break;case 50331648:f=(16777215&L)<<8;break;default:f=this._themeService.colors.foreground.rgba}else switch(50331648&B){case 16777216:case 33554432:f=this._themeService.colors.ansi[255&B].rgba;break;case 50331648:f=(16777215&B)<<8;break;default:f=this._themeService.colors.background.rgba}p.attributes.length<b+4&&(p.attributes=(0,g.expandFloat32Array)(p.attributes,this._terminal.rows*this._terminal.cols*8)),r=D*this._dimensions.device.cell.width,c=z*this._dimensions.device.cell.height,o=(f>>24&255)/255,h=(f>>16&255)/255,m=(f>>8&255)/255,w=1,this._addRectangle(p.attributes,b,r,c,(M-D)*this._dimensions.device.cell.width,this._dimensions.device.cell.height,o,h,m,w)}_addRectangle(p,b,L,B,D,M,z,V,U,N){p[b]=L/this._dimensions.device.canvas.width,p[b+1]=B/this._dimensions.device.canvas.height,p[b+2]=D/this._dimensions.device.canvas.width,p[b+3]=M/this._dimensions.device.canvas.height,p[b+4]=z,p[b+5]=V,p[b+6]=U,p[b+7]=N}_addRectangleFloat(p,b,L,B,D,M,z){p[b]=L/this._dimensions.device.canvas.width,p[b+1]=B/this._dimensions.device.canvas.height,p[b+2]=D/this._dimensions.device.canvas.width,p[b+3]=M/this._dimensions.device.canvas.height,p[b+4]=z[0],p[b+5]=z[1],p[b+6]=z[2],p[b+7]=z[3]}_colorToFloat32Array(p){return new Float32Array([(p.rgba>>24&255)/255,(p.rgba>>16&255)/255,(p.rgba>>8&255)/255,(255&p.rgba)/255])}}a.RectangleRenderer=S},310:(W,a,d)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.RenderModel=a.COMBINED_CHAR_BIT_MASK=a.RENDER_MODEL_EXT_OFFSET=a.RENDER_MODEL_FG_OFFSET=a.RENDER_MODEL_BG_OFFSET=a.RENDER_MODEL_INDICIES_PER_CELL=void 0;const _=d(296);a.RENDER_MODEL_INDICIES_PER_CELL=4,a.RENDER_MODEL_BG_OFFSET=1,a.RENDER_MODEL_FG_OFFSET=2,a.RENDER_MODEL_EXT_OFFSET=3,a.COMBINED_CHAR_BIT_MASK=2147483648,a.RenderModel=class{constructor(){this.cells=new Uint32Array(0),this.lineLengths=new Uint32Array(0),this.selection=(0,_.createSelectionRenderModel)()}resize(v,l){const g=v*l*a.RENDER_MODEL_INDICIES_PER_CELL;g!==this.cells.length&&(this.cells=new Uint32Array(g),this.lineLengths=new Uint32Array(l))}clear(){this.cells.fill(0,0),this.lineLengths.fill(0,0)}}},666:(W,a,d)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.JoinedCellData=a.WebglRenderer=void 0;const _=d(820),v=d(274),l=d(627),g=d(457),y=d(56),C=d(374),f=d(345),r=d(859),c=d(147),o=d(782),h=d(855),m=d(965),w=d(742),S=d(310),E=d(733);class p extends r.Disposable{constructor(D,M,z,V,U,N,F,x,k){super(),this._terminal=D,this._characterJoinerService=M,this._charSizeService=z,this._coreBrowserService=V,this._coreService=U,this._decorationService=N,this._optionsService=F,this._themeService=x,this._cursorBlinkStateManager=new r.MutableDisposable,this._charAtlasDisposable=this.register(new r.MutableDisposable),this._observerDisposable=this.register(new r.MutableDisposable),this._model=new S.RenderModel,this._workCell=new o.CellData,this._workCell2=new o.CellData,this._rectangleRenderer=this.register(new r.MutableDisposable),this._glyphRenderer=this.register(new r.MutableDisposable),this._onChangeTextureAtlas=this.register(new f.EventEmitter),this.onChangeTextureAtlas=this._onChangeTextureAtlas.event,this._onAddTextureAtlasCanvas=this.register(new f.EventEmitter),this.onAddTextureAtlasCanvas=this._onAddTextureAtlasCanvas.event,this._onRemoveTextureAtlasCanvas=this.register(new f.EventEmitter),this.onRemoveTextureAtlasCanvas=this._onRemoveTextureAtlasCanvas.event,this._onRequestRedraw=this.register(new f.EventEmitter),this.onRequestRedraw=this._onRequestRedraw.event,this._onContextLoss=this.register(new f.EventEmitter),this.onContextLoss=this._onContextLoss.event,this.register(this._themeService.onChangeColors((()=>this._handleColorChange()))),this._cellColorResolver=new v.CellColorResolver(this._terminal,this._optionsService,this._model.selection,this._decorationService,this._coreBrowserService,this._themeService),this._core=this._terminal._core,this._renderLayers=[new E.LinkRenderLayer(this._core.screenElement,2,this._terminal,this._core.linkifier,this._coreBrowserService,F,this._themeService)],this.dimensions=(0,C.createRenderDimensions)(),this._devicePixelRatio=this._coreBrowserService.dpr,this._updateDimensions(),this._updateCursorBlink(),this.register(F.onOptionChange((()=>this._handleOptionsChanged()))),this._canvas=this._coreBrowserService.mainDocument.createElement("canvas");const R={antialias:!1,depth:!1,preserveDrawingBuffer:k};if(this._gl=this._canvas.getContext("webgl2",R),!this._gl)throw new Error("WebGL2 not supported "+this._gl);this.register((0,_.addDisposableDomListener)(this._canvas,"webglcontextlost",(O=>{console.log("webglcontextlost event received"),O.preventDefault(),this._contextRestorationTimeout=setTimeout((()=>{this._contextRestorationTimeout=void 0,console.warn("webgl context not restored; firing onContextLoss"),this._onContextLoss.fire(O)}),3e3)}))),this.register((0,_.addDisposableDomListener)(this._canvas,"webglcontextrestored",(O=>{console.warn("webglcontextrestored event received"),clearTimeout(this._contextRestorationTimeout),this._contextRestorationTimeout=void 0,(0,l.removeTerminalFromCache)(this._terminal),this._initializeWebGLState(),this._requestRedrawViewport()}))),this._observerDisposable.value=(0,y.observeDevicePixelDimensions)(this._canvas,this._coreBrowserService.window,((O,G)=>this._setCanvasDevicePixelDimensions(O,G))),this.register(this._coreBrowserService.onWindowChange((O=>{this._observerDisposable.value=(0,y.observeDevicePixelDimensions)(this._canvas,O,((G,$)=>this._setCanvasDevicePixelDimensions(G,$)))}))),this._core.screenElement.appendChild(this._canvas),[this._rectangleRenderer.value,this._glyphRenderer.value]=this._initializeWebGLState(),this._isAttached=this._coreBrowserService.window.document.body.contains(this._core.screenElement),this.register((0,r.toDisposable)((()=>{for(const O of this._renderLayers)O.dispose();this._canvas.parentElement?.removeChild(this._canvas),(0,l.removeTerminalFromCache)(this._terminal)})))}get textureAtlas(){return this._charAtlas?.pages[0].canvas}_handleColorChange(){this._refreshCharAtlas(),this._clearModel(!0)}handleDevicePixelRatioChange(){this._devicePixelRatio!==this._coreBrowserService.dpr&&(this._devicePixelRatio=this._coreBrowserService.dpr,this.handleResize(this._terminal.cols,this._terminal.rows))}handleResize(D,M){this._updateDimensions(),this._model.resize(this._terminal.cols,this._terminal.rows);for(const z of this._renderLayers)z.resize(this._terminal,this.dimensions);this._canvas.width=this.dimensions.device.canvas.width,this._canvas.height=this.dimensions.device.canvas.height,this._canvas.style.width=`${this.dimensions.css.canvas.width}px`,this._canvas.style.height=`${this.dimensions.css.canvas.height}px`,this._core.screenElement.style.width=`${this.dimensions.css.canvas.width}px`,this._core.screenElement.style.height=`${this.dimensions.css.canvas.height}px`,this._rectangleRenderer.value?.setDimensions(this.dimensions),this._rectangleRenderer.value?.handleResize(),this._glyphRenderer.value?.setDimensions(this.dimensions),this._glyphRenderer.value?.handleResize(),this._refreshCharAtlas(),this._clearModel(!1)}handleCharSizeChanged(){this.handleResize(this._terminal.cols,this._terminal.rows)}handleBlur(){for(const D of this._renderLayers)D.handleBlur(this._terminal);this._cursorBlinkStateManager.value?.pause(),this._requestRedrawViewport()}handleFocus(){for(const D of this._renderLayers)D.handleFocus(this._terminal);this._cursorBlinkStateManager.value?.resume(),this._requestRedrawViewport()}handleSelectionChanged(D,M,z){for(const V of this._renderLayers)V.handleSelectionChanged(this._terminal,D,M,z);this._model.selection.update(this._core,D,M,z),this._requestRedrawViewport()}handleCursorMove(){for(const D of this._renderLayers)D.handleCursorMove(this._terminal);this._cursorBlinkStateManager.value?.restartBlinkAnimation()}_handleOptionsChanged(){this._updateDimensions(),this._refreshCharAtlas(),this._updateCursorBlink()}_initializeWebGLState(){return this._rectangleRenderer.value=new w.RectangleRenderer(this._terminal,this._gl,this.dimensions,this._themeService),this._glyphRenderer.value=new m.GlyphRenderer(this._terminal,this._gl,this.dimensions,this._optionsService),this.handleCharSizeChanged(),[this._rectangleRenderer.value,this._glyphRenderer.value]}_refreshCharAtlas(){if(this.dimensions.device.char.width<=0&&this.dimensions.device.char.height<=0)return void(this._isAttached=!1);const D=(0,l.acquireTextureAtlas)(this._terminal,this._optionsService.rawOptions,this._themeService.colors,this.dimensions.device.cell.width,this.dimensions.device.cell.height,this.dimensions.device.char.width,this.dimensions.device.char.height,this._coreBrowserService.dpr);this._charAtlas!==D&&(this._onChangeTextureAtlas.fire(D.pages[0].canvas),this._charAtlasDisposable.value=(0,r.getDisposeArrayDisposable)([(0,f.forwardEvent)(D.onAddTextureAtlasCanvas,this._onAddTextureAtlasCanvas),(0,f.forwardEvent)(D.onRemoveTextureAtlasCanvas,this._onRemoveTextureAtlasCanvas)])),this._charAtlas=D,this._charAtlas.warmUp(),this._glyphRenderer.value?.setAtlas(this._charAtlas)}_clearModel(D){this._model.clear(),D&&this._glyphRenderer.value?.clear()}clearTextureAtlas(){this._charAtlas?.clearTexture(),this._clearModel(!0),this._requestRedrawViewport()}clear(){this._clearModel(!0);for(const D of this._renderLayers)D.reset(this._terminal);this._cursorBlinkStateManager.value?.restartBlinkAnimation(),this._updateCursorBlink()}registerCharacterJoiner(D){return-1}deregisterCharacterJoiner(D){return!1}renderRows(D,M){if(!this._isAttached){if(!(this._coreBrowserService.window.document.body.contains(this._core.screenElement)&&this._charSizeService.width&&this._charSizeService.height))return;this._updateDimensions(),this._refreshCharAtlas(),this._isAttached=!0}for(const z of this._renderLayers)z.handleGridChanged(this._terminal,D,M);this._glyphRenderer.value&&this._rectangleRenderer.value&&(this._glyphRenderer.value.beginFrame()?(this._clearModel(!0),this._updateModel(0,this._terminal.rows-1)):this._updateModel(D,M),this._rectangleRenderer.value.renderBackgrounds(),this._glyphRenderer.value.render(this._model),this._cursorBlinkStateManager.value&&!this._cursorBlinkStateManager.value.isCursorVisible||this._rectangleRenderer.value.renderCursor())}_updateCursorBlink(){this._terminal.options.cursorBlink?this._cursorBlinkStateManager.value=new g.CursorBlinkStateManager((()=>{this._requestRedrawCursor()}),this._coreBrowserService):this._cursorBlinkStateManager.clear(),this._requestRedrawCursor()}_updateModel(D,M){const z=this._core;let V,U,N,F,x,k,R,O,G,$,ne,ae,P,H,Q=this._workCell;D=L(D,z.rows-1,0),M=L(M,z.rows-1,0);const q=this._terminal.buffer.active.baseY+this._terminal.buffer.active.cursorY,te=q-z.buffer.ydisp,le=Math.min(this._terminal.buffer.active.cursorX,z.cols-1);let pe=-1;const fe=this._coreService.isCursorInitialized&&!this._coreService.isCursorHidden&&(!this._cursorBlinkStateManager.value||this._cursorBlinkStateManager.value.isCursorVisible);this._model.cursor=void 0;let Ce=!1;for(U=D;U<=M;U++)for(N=U+z.buffer.ydisp,F=z.buffer.lines.get(N),this._model.lineLengths[U]=0,x=this._characterJoinerService.getJoinedCharacters(N),P=0;P<z.cols;P++)if(V=this._cellColorResolver.result.bg,F.loadCell(P,Q),P===0&&(V=this._cellColorResolver.result.bg),k=!1,R=P,x.length>0&&P===x[0][0]&&(k=!0,O=x.shift(),Q=new b(Q,F.translateToString(!0,O[0],O[1]),O[1]-O[0]),R=O[1]-1),G=Q.getChars(),$=Q.getCode(),ae=(U*z.cols+P)*S.RENDER_MODEL_INDICIES_PER_CELL,this._cellColorResolver.resolve(Q,P,N,this.dimensions.device.cell.width),fe&&N===q&&(P===le&&(this._model.cursor={x:le,y:te,width:Q.getWidth(),style:this._coreBrowserService.isFocused?z.options.cursorStyle||"block":z.options.cursorInactiveStyle,cursorWidth:z.options.cursorWidth,dpr:this._devicePixelRatio},pe=le+Q.getWidth()-1),P>=le&&P<=pe&&(this._coreBrowserService.isFocused&&(z.options.cursorStyle||"block")==="block"||this._coreBrowserService.isFocused===!1&&z.options.cursorInactiveStyle==="block")&&(this._cellColorResolver.result.fg=50331648|this._themeService.colors.cursorAccent.rgba>>8&16777215,this._cellColorResolver.result.bg=50331648|this._themeService.colors.cursor.rgba>>8&16777215)),$!==h.NULL_CELL_CODE&&(this._model.lineLengths[U]=P+1),(this._model.cells[ae]!==$||this._model.cells[ae+S.RENDER_MODEL_BG_OFFSET]!==this._cellColorResolver.result.bg||this._model.cells[ae+S.RENDER_MODEL_FG_OFFSET]!==this._cellColorResolver.result.fg||this._model.cells[ae+S.RENDER_MODEL_EXT_OFFSET]!==this._cellColorResolver.result.ext)&&(Ce=!0,G.length>1&&($|=S.COMBINED_CHAR_BIT_MASK),this._model.cells[ae]=$,this._model.cells[ae+S.RENDER_MODEL_BG_OFFSET]=this._cellColorResolver.result.bg,this._model.cells[ae+S.RENDER_MODEL_FG_OFFSET]=this._cellColorResolver.result.fg,this._model.cells[ae+S.RENDER_MODEL_EXT_OFFSET]=this._cellColorResolver.result.ext,ne=Q.getWidth(),this._glyphRenderer.value.updateCell(P,U,$,this._cellColorResolver.result.bg,this._cellColorResolver.result.fg,this._cellColorResolver.result.ext,G,ne,V),k))for(Q=this._workCell,P++;P<R;P++)H=(U*z.cols+P)*S.RENDER_MODEL_INDICIES_PER_CELL,this._glyphRenderer.value.updateCell(P,U,h.NULL_CELL_CODE,0,0,0,h.NULL_CELL_CHAR,0,0),this._model.cells[H]=h.NULL_CELL_CODE,this._model.cells[H+S.RENDER_MODEL_BG_OFFSET]=this._cellColorResolver.result.bg,this._model.cells[H+S.RENDER_MODEL_FG_OFFSET]=this._cellColorResolver.result.fg,this._model.cells[H+S.RENDER_MODEL_EXT_OFFSET]=this._cellColorResolver.result.ext;Ce&&this._rectangleRenderer.value.updateBackgrounds(this._model),this._rectangleRenderer.value.updateCursor(this._model)}_updateDimensions(){this._charSizeService.width&&this._charSizeService.height&&(this.dimensions.device.char.width=Math.floor(this._charSizeService.width*this._devicePixelRatio),this.dimensions.device.char.height=Math.ceil(this._charSizeService.height*this._devicePixelRatio),this.dimensions.device.cell.height=Math.floor(this.dimensions.device.char.height*this._optionsService.rawOptions.lineHeight),this.dimensions.device.char.top=this._optionsService.rawOptions.lineHeight===1?0:Math.round((this.dimensions.device.cell.height-this.dimensions.device.char.height)/2),this.dimensions.device.cell.width=this.dimensions.device.char.width+Math.round(this._optionsService.rawOptions.letterSpacing),this.dimensions.device.char.left=Math.floor(this._optionsService.rawOptions.letterSpacing/2),this.dimensions.device.canvas.height=this._terminal.rows*this.dimensions.device.cell.height,this.dimensions.device.canvas.width=this._terminal.cols*this.dimensions.device.cell.width,this.dimensions.css.canvas.height=Math.round(this.dimensions.device.canvas.height/this._devicePixelRatio),this.dimensions.css.canvas.width=Math.round(this.dimensions.device.canvas.width/this._devicePixelRatio),this.dimensions.css.cell.height=this.dimensions.device.cell.height/this._devicePixelRatio,this.dimensions.css.cell.width=this.dimensions.device.cell.width/this._devicePixelRatio)}_setCanvasDevicePixelDimensions(D,M){this._canvas.width===D&&this._canvas.height===M||(this._canvas.width=D,this._canvas.height=M,this._requestRedrawViewport())}_requestRedrawViewport(){this._onRequestRedraw.fire({start:0,end:this._terminal.rows-1})}_requestRedrawCursor(){const D=this._terminal.buffer.active.cursorY;this._onRequestRedraw.fire({start:D,end:D})}}a.WebglRenderer=p;class b extends c.AttributeData{constructor(D,M,z){super(),this.content=0,this.combinedData="",this.fg=D.fg,this.bg=D.bg,this.combinedData=M,this._width=z}isCombined(){return 2097152}getWidth(){return this._width}getChars(){return this.combinedData}getCode(){return 2097151}setFromCharData(D){throw new Error("not implemented")}getAsCharData(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]}}function L(B,D,M=0){return Math.max(Math.min(B,D),M)}a.JoinedCellData=b},381:(W,a,d)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.GLTexture=a.expandFloat32Array=a.createShader=a.createProgram=a.PROJECTION_MATRIX=void 0;const _=d(374);function v(l,g,y){const C=(0,_.throwIfFalsy)(l.createShader(g));if(l.shaderSource(C,y),l.compileShader(C),l.getShaderParameter(C,l.COMPILE_STATUS))return C;console.error(l.getShaderInfoLog(C)),l.deleteShader(C)}a.PROJECTION_MATRIX=new Float32Array([2,0,0,0,0,-2,0,0,0,0,1,0,-1,1,0,1]),a.createProgram=function(l,g,y){const C=(0,_.throwIfFalsy)(l.createProgram());if(l.attachShader(C,(0,_.throwIfFalsy)(v(l,l.VERTEX_SHADER,g))),l.attachShader(C,(0,_.throwIfFalsy)(v(l,l.FRAGMENT_SHADER,y))),l.linkProgram(C),l.getProgramParameter(C,l.LINK_STATUS))return C;console.error(l.getProgramInfoLog(C)),l.deleteProgram(C)},a.createShader=v,a.expandFloat32Array=function(l,g){const y=Math.min(2*l.length,g),C=new Float32Array(y);for(let f=0;f<l.length;f++)C[f]=l[f];return C},a.GLTexture=class{constructor(l){this.texture=l,this.version=-1}}},592:(W,a,d)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.BaseRenderLayer=void 0;const _=d(627),v=d(237),l=d(374),g=d(859);class y extends g.Disposable{constructor(f,r,c,o,h,m,w,S){super(),this._container=r,this._alpha=h,this._coreBrowserService=m,this._optionsService=w,this._themeService=S,this._deviceCharWidth=0,this._deviceCharHeight=0,this._deviceCellWidth=0,this._deviceCellHeight=0,this._deviceCharLeft=0,this._deviceCharTop=0,this._canvas=this._coreBrowserService.mainDocument.createElement("canvas"),this._canvas.classList.add(`xterm-${c}-layer`),this._canvas.style.zIndex=o.toString(),this._initCanvas(),this._container.appendChild(this._canvas),this.register(this._themeService.onChangeColors((E=>{this._refreshCharAtlas(f,E),this.reset(f)}))),this.register((0,g.toDisposable)((()=>{this._canvas.remove()})))}_initCanvas(){this._ctx=(0,l.throwIfFalsy)(this._canvas.getContext("2d",{alpha:this._alpha})),this._alpha||this._clearAll()}handleBlur(f){}handleFocus(f){}handleCursorMove(f){}handleGridChanged(f,r,c){}handleSelectionChanged(f,r,c,o=!1){}_setTransparency(f,r){if(r===this._alpha)return;const c=this._canvas;this._alpha=r,this._canvas=this._canvas.cloneNode(),this._initCanvas(),this._container.replaceChild(this._canvas,c),this._refreshCharAtlas(f,this._themeService.colors),this.handleGridChanged(f,0,f.rows-1)}_refreshCharAtlas(f,r){this._deviceCharWidth<=0&&this._deviceCharHeight<=0||(this._charAtlas=(0,_.acquireTextureAtlas)(f,this._optionsService.rawOptions,r,this._deviceCellWidth,this._deviceCellHeight,this._deviceCharWidth,this._deviceCharHeight,this._coreBrowserService.dpr),this._charAtlas.warmUp())}resize(f,r){this._deviceCellWidth=r.device.cell.width,this._deviceCellHeight=r.device.cell.height,this._deviceCharWidth=r.device.char.width,this._deviceCharHeight=r.device.char.height,this._deviceCharLeft=r.device.char.left,this._deviceCharTop=r.device.char.top,this._canvas.width=r.device.canvas.width,this._canvas.height=r.device.canvas.height,this._canvas.style.width=`${r.css.canvas.width}px`,this._canvas.style.height=`${r.css.canvas.height}px`,this._alpha||this._clearAll(),this._refreshCharAtlas(f,this._themeService.colors)}_fillBottomLineAtCells(f,r,c=1){this._ctx.fillRect(f*this._deviceCellWidth,(r+1)*this._deviceCellHeight-this._coreBrowserService.dpr-1,c*this._deviceCellWidth,this._coreBrowserService.dpr)}_clearAll(){this._alpha?this._ctx.clearRect(0,0,this._canvas.width,this._canvas.height):(this._ctx.fillStyle=this._themeService.colors.background.css,this._ctx.fillRect(0,0,this._canvas.width,this._canvas.height))}_clearCells(f,r,c,o){this._alpha?this._ctx.clearRect(f*this._deviceCellWidth,r*this._deviceCellHeight,c*this._deviceCellWidth,o*this._deviceCellHeight):(this._ctx.fillStyle=this._themeService.colors.background.css,this._ctx.fillRect(f*this._deviceCellWidth,r*this._deviceCellHeight,c*this._deviceCellWidth,o*this._deviceCellHeight))}_fillCharTrueColor(f,r,c,o){this._ctx.font=this._getFont(f,!1,!1),this._ctx.textBaseline=v.TEXT_BASELINE,this._clipCell(c,o,r.getWidth()),this._ctx.fillText(r.getChars(),c*this._deviceCellWidth+this._deviceCharLeft,o*this._deviceCellHeight+this._deviceCharTop+this._deviceCharHeight)}_clipCell(f,r,c){this._ctx.beginPath(),this._ctx.rect(f*this._deviceCellWidth,r*this._deviceCellHeight,c*this._deviceCellWidth,this._deviceCellHeight),this._ctx.clip()}_getFont(f,r,c){return`${c?"italic":""} ${r?f.options.fontWeightBold:f.options.fontWeight} ${f.options.fontSize*this._coreBrowserService.dpr}px ${f.options.fontFamily}`}}a.BaseRenderLayer=y},733:(W,a,d)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.LinkRenderLayer=void 0;const _=d(197),v=d(237),l=d(592);class g extends l.BaseRenderLayer{constructor(C,f,r,c,o,h,m){super(r,C,"link",f,!0,o,h,m),this.register(c.onShowLinkUnderline((w=>this._handleShowLinkUnderline(w)))),this.register(c.onHideLinkUnderline((w=>this._handleHideLinkUnderline(w))))}resize(C,f){super.resize(C,f),this._state=void 0}reset(C){this._clearCurrentLink()}_clearCurrentLink(){if(this._state){this._clearCells(this._state.x1,this._state.y1,this._state.cols-this._state.x1,1);const C=this._state.y2-this._state.y1-1;C>0&&this._clearCells(0,this._state.y1+1,this._state.cols,C),this._clearCells(0,this._state.y2,this._state.x2,1),this._state=void 0}}_handleShowLinkUnderline(C){if(C.fg===v.INVERTED_DEFAULT_COLOR?this._ctx.fillStyle=this._themeService.colors.background.css:C.fg!==void 0&&(0,_.is256Color)(C.fg)?this._ctx.fillStyle=this._themeService.colors.ansi[C.fg].css:this._ctx.fillStyle=this._themeService.colors.foreground.css,C.y1===C.y2)this._fillBottomLineAtCells(C.x1,C.y1,C.x2-C.x1);else{this._fillBottomLineAtCells(C.x1,C.y1,C.cols-C.x1);for(let f=C.y1+1;f<C.y2;f++)this._fillBottomLineAtCells(0,f,C.cols);this._fillBottomLineAtCells(0,C.y2,C.x2)}this._state=C}_handleHideLinkUnderline(C){this._clearCurrentLink()}}a.LinkRenderLayer=g},820:(W,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.addDisposableDomListener=void 0,a.addDisposableDomListener=function(d,_,v,l){d.addEventListener(_,v,l);let g=!1;return{dispose:()=>{g||(g=!0,d.removeEventListener(_,v,l))}}}},274:(W,a,d)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.CellColorResolver=void 0;const _=d(855),v=d(160),l=d(374);let g,y=0,C=0,f=!1,r=!1,c=!1,o=0;a.CellColorResolver=class{constructor(h,m,w,S,E,p){this._terminal=h,this._optionService=m,this._selectionRenderModel=w,this._decorationService=S,this._coreBrowserService=E,this._themeService=p,this.result={fg:0,bg:0,ext:0}}resolve(h,m,w,S){if(this.result.bg=h.bg,this.result.fg=h.fg,this.result.ext=268435456&h.bg?h.extended.ext:0,C=0,y=0,r=!1,f=!1,c=!1,g=this._themeService.colors,o=0,h.getCode()!==_.NULL_CELL_CODE&&h.extended.underlineStyle===4){const E=Math.max(1,Math.floor(this._optionService.rawOptions.fontSize*this._coreBrowserService.dpr/15));o=m*S%(2*Math.round(E))}if(this._decorationService.forEachDecorationAtCell(m,w,"bottom",(E=>{E.backgroundColorRGB&&(C=E.backgroundColorRGB.rgba>>8&16777215,r=!0),E.foregroundColorRGB&&(y=E.foregroundColorRGB.rgba>>8&16777215,f=!0)})),c=this._selectionRenderModel.isCellSelected(this._terminal,m,w),c){if(67108864&this.result.fg||(50331648&this.result.bg)!=0){if(67108864&this.result.fg)switch(50331648&this.result.fg){case 16777216:case 33554432:C=this._themeService.colors.ansi[255&this.result.fg].rgba;break;case 50331648:C=(16777215&this.result.fg)<<8|255;break;default:C=this._themeService.colors.foreground.rgba}else switch(50331648&this.result.bg){case 16777216:case 33554432:C=this._themeService.colors.ansi[255&this.result.bg].rgba;break;case 50331648:C=(16777215&this.result.bg)<<8|255}C=v.rgba.blend(C,4294967040&(this._coreBrowserService.isFocused?g.selectionBackgroundOpaque:g.selectionInactiveBackgroundOpaque).rgba|128)>>8&16777215}else C=(this._coreBrowserService.isFocused?g.selectionBackgroundOpaque:g.selectionInactiveBackgroundOpaque).rgba>>8&16777215;if(r=!0,g.selectionForeground&&(y=g.selectionForeground.rgba>>8&16777215,f=!0),(0,l.treatGlyphAsBackgroundColor)(h.getCode())){if(67108864&this.result.fg&&(50331648&this.result.bg)==0)y=(this._coreBrowserService.isFocused?g.selectionBackgroundOpaque:g.selectionInactiveBackgroundOpaque).rgba>>8&16777215;else{if(67108864&this.result.fg)switch(50331648&this.result.bg){case 16777216:case 33554432:y=this._themeService.colors.ansi[255&this.result.bg].rgba;break;case 50331648:y=(16777215&this.result.bg)<<8|255}else switch(50331648&this.result.fg){case 16777216:case 33554432:y=this._themeService.colors.ansi[255&this.result.fg].rgba;break;case 50331648:y=(16777215&this.result.fg)<<8|255;break;default:y=this._themeService.colors.foreground.rgba}y=v.rgba.blend(y,4294967040&(this._coreBrowserService.isFocused?g.selectionBackgroundOpaque:g.selectionInactiveBackgroundOpaque).rgba|128)>>8&16777215}f=!0}}this._decorationService.forEachDecorationAtCell(m,w,"top",(E=>{E.backgroundColorRGB&&(C=E.backgroundColorRGB.rgba>>8&16777215,r=!0),E.foregroundColorRGB&&(y=E.foregroundColorRGB.rgba>>8&16777215,f=!0)})),r&&(C=c?-16777216&h.bg&-134217729|C|50331648:-16777216&h.bg|C|50331648),f&&(y=-16777216&h.fg&-67108865|y|50331648),67108864&this.result.fg&&(r&&!f&&(y=(50331648&this.result.bg)==0?-134217728&this.result.fg|16777215&g.background.rgba>>8|50331648:-134217728&this.result.fg|67108863&this.result.bg,f=!0),!r&&f&&(C=(50331648&this.result.fg)==0?-67108864&this.result.bg|16777215&g.foreground.rgba>>8|50331648:-67108864&this.result.bg|67108863&this.result.fg,r=!0)),g=void 0,this.result.bg=r?C:this.result.bg,this.result.fg=f?y:this.result.fg,this.result.ext&=536870911,this.result.ext|=o<<29&3758096384}}},627:(W,a,d)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.removeTerminalFromCache=a.acquireTextureAtlas=void 0;const _=d(509),v=d(197),l=[];a.acquireTextureAtlas=function(g,y,C,f,r,c,o,h){const m=(0,v.generateConfig)(f,r,c,o,y,C,h);for(let E=0;E<l.length;E++){const p=l[E],b=p.ownedBy.indexOf(g);if(b>=0){if((0,v.configEquals)(p.config,m))return p.atlas;p.ownedBy.length===1?(p.atlas.dispose(),l.splice(E,1)):p.ownedBy.splice(b,1);break}}for(let E=0;E<l.length;E++){const p=l[E];if((0,v.configEquals)(p.config,m))return p.ownedBy.push(g),p.atlas}const w=g._core,S={atlas:new _.TextureAtlas(document,m,w.unicodeService),config:m,ownedBy:[g]};return l.push(S),S.atlas},a.removeTerminalFromCache=function(g){for(let y=0;y<l.length;y++){const C=l[y].ownedBy.indexOf(g);if(C!==-1){l[y].ownedBy.length===1?(l[y].atlas.dispose(),l.splice(y,1)):l[y].ownedBy.splice(C,1);break}}}},197:(W,a,d)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.is256Color=a.configEquals=a.generateConfig=void 0;const _=d(160);a.generateConfig=function(v,l,g,y,C,f,r){const c={foreground:f.foreground,background:f.background,cursor:_.NULL_COLOR,cursorAccent:_.NULL_COLOR,selectionForeground:_.NULL_COLOR,selectionBackgroundTransparent:_.NULL_COLOR,selectionBackgroundOpaque:_.NULL_COLOR,selectionInactiveBackgroundTransparent:_.NULL_COLOR,selectionInactiveBackgroundOpaque:_.NULL_COLOR,ansi:f.ansi.slice(),contrastCache:f.contrastCache,halfContrastCache:f.halfContrastCache};return{customGlyphs:C.customGlyphs,devicePixelRatio:r,letterSpacing:C.letterSpacing,lineHeight:C.lineHeight,deviceCellWidth:v,deviceCellHeight:l,deviceCharWidth:g,deviceCharHeight:y,fontFamily:C.fontFamily,fontSize:C.fontSize,fontWeight:C.fontWeight,fontWeightBold:C.fontWeightBold,allowTransparency:C.allowTransparency,drawBoldTextInBrightColors:C.drawBoldTextInBrightColors,minimumContrastRatio:C.minimumContrastRatio,colors:c}},a.configEquals=function(v,l){for(let g=0;g<v.colors.ansi.length;g++)if(v.colors.ansi[g].rgba!==l.colors.ansi[g].rgba)return!1;return v.devicePixelRatio===l.devicePixelRatio&&v.customGlyphs===l.customGlyphs&&v.lineHeight===l.lineHeight&&v.letterSpacing===l.letterSpacing&&v.fontFamily===l.fontFamily&&v.fontSize===l.fontSize&&v.fontWeight===l.fontWeight&&v.fontWeightBold===l.fontWeightBold&&v.allowTransparency===l.allowTransparency&&v.deviceCharWidth===l.deviceCharWidth&&v.deviceCharHeight===l.deviceCharHeight&&v.drawBoldTextInBrightColors===l.drawBoldTextInBrightColors&&v.minimumContrastRatio===l.minimumContrastRatio&&v.colors.foreground.rgba===l.colors.foreground.rgba&&v.colors.background.rgba===l.colors.background.rgba},a.is256Color=function(v){return(50331648&v)==16777216||(50331648&v)==33554432}},237:(W,a,d)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.TEXT_BASELINE=a.DIM_OPACITY=a.INVERTED_DEFAULT_COLOR=void 0;const _=d(399);a.INVERTED_DEFAULT_COLOR=257,a.DIM_OPACITY=.5,a.TEXT_BASELINE=_.isFirefox||_.isLegacyEdge?"bottom":"ideographic"},457:(W,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.CursorBlinkStateManager=void 0,a.CursorBlinkStateManager=class{constructor(d,_){this._renderCallback=d,this._coreBrowserService=_,this.isCursorVisible=!0,this._coreBrowserService.isFocused&&this._restartInterval()}get isPaused(){return!(this._blinkStartTimeout||this._blinkInterval)}dispose(){this._blinkInterval&&(this._coreBrowserService.window.clearInterval(this._blinkInterval),this._blinkInterval=void 0),this._blinkStartTimeout&&(this._coreBrowserService.window.clearTimeout(this._blinkStartTimeout),this._blinkStartTimeout=void 0),this._animationFrame&&(this._coreBrowserService.window.cancelAnimationFrame(this._animationFrame),this._animationFrame=void 0)}restartBlinkAnimation(){this.isPaused||(this._animationTimeRestarted=Date.now(),this.isCursorVisible=!0,this._animationFrame||(this._animationFrame=this._coreBrowserService.window.requestAnimationFrame((()=>{this._renderCallback(),this._animationFrame=void 0}))))}_restartInterval(d=600){this._blinkInterval&&(this._coreBrowserService.window.clearInterval(this._blinkInterval),this._blinkInterval=void 0),this._blinkStartTimeout=this._coreBrowserService.window.setTimeout((()=>{if(this._animationTimeRestarted){const _=600-(Date.now()-this._animationTimeRestarted);if(this._animationTimeRestarted=void 0,_>0)return void this._restartInterval(_)}this.isCursorVisible=!1,this._animationFrame=this._coreBrowserService.window.requestAnimationFrame((()=>{this._renderCallback(),this._animationFrame=void 0})),this._blinkInterval=this._coreBrowserService.window.setInterval((()=>{if(this._animationTimeRestarted){const _=600-(Date.now()-this._animationTimeRestarted);return this._animationTimeRestarted=void 0,void this._restartInterval(_)}this.isCursorVisible=!this.isCursorVisible,this._animationFrame=this._coreBrowserService.window.requestAnimationFrame((()=>{this._renderCallback(),this._animationFrame=void 0}))}),600)}),d)}pause(){this.isCursorVisible=!0,this._blinkInterval&&(this._coreBrowserService.window.clearInterval(this._blinkInterval),this._blinkInterval=void 0),this._blinkStartTimeout&&(this._coreBrowserService.window.clearTimeout(this._blinkStartTimeout),this._blinkStartTimeout=void 0),this._animationFrame&&(this._coreBrowserService.window.cancelAnimationFrame(this._animationFrame),this._animationFrame=void 0)}resume(){this.pause(),this._animationTimeRestarted=void 0,this._restartInterval(),this.restartBlinkAnimation()}}},860:(W,a,d)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.tryDrawCustomChar=a.powerlineDefinitions=a.boxDrawingDefinitions=a.blockElementDefinitions=void 0;const _=d(374);a.blockElementDefinitions={"":[{x:0,y:0,w:8,h:4}],"":[{x:0,y:7,w:8,h:1}],"":[{x:0,y:6,w:8,h:2}],"":[{x:0,y:5,w:8,h:3}],"":[{x:0,y:4,w:8,h:4}],"":[{x:0,y:3,w:8,h:5}],"":[{x:0,y:2,w:8,h:6}],"":[{x:0,y:1,w:8,h:7}],"":[{x:0,y:0,w:8,h:8}],"":[{x:0,y:0,w:7,h:8}],"":[{x:0,y:0,w:6,h:8}],"":[{x:0,y:0,w:5,h:8}],"":[{x:0,y:0,w:4,h:8}],"":[{x:0,y:0,w:3,h:8}],"":[{x:0,y:0,w:2,h:8}],"":[{x:0,y:0,w:1,h:8}],"":[{x:4,y:0,w:4,h:8}],"":[{x:0,y:0,w:8,h:1}],"":[{x:7,y:0,w:1,h:8}],"":[{x:0,y:4,w:4,h:4}],"":[{x:4,y:4,w:4,h:4}],"":[{x:0,y:0,w:4,h:4}],"":[{x:0,y:0,w:4,h:8},{x:0,y:4,w:8,h:4}],"":[{x:0,y:0,w:4,h:4},{x:4,y:4,w:4,h:4}],"":[{x:0,y:0,w:4,h:8},{x:4,y:0,w:4,h:4}],"":[{x:0,y:0,w:8,h:4},{x:4,y:0,w:4,h:8}],"":[{x:4,y:0,w:4,h:4}],"":[{x:4,y:0,w:4,h:4},{x:0,y:4,w:4,h:4}],"":[{x:4,y:0,w:4,h:8},{x:0,y:4,w:8,h:4}],"":[{x:1,y:0,w:1,h:8}],"":[{x:2,y:0,w:1,h:8}],"":[{x:3,y:0,w:1,h:8}],"":[{x:4,y:0,w:1,h:8}],"":[{x:5,y:0,w:1,h:8}],"":[{x:6,y:0,w:1,h:8}],"":[{x:0,y:1,w:8,h:1}],"":[{x:0,y:2,w:8,h:1}],"":[{x:0,y:3,w:8,h:1}],"":[{x:0,y:4,w:8,h:1}],"":[{x:0,y:5,w:8,h:1}],"":[{x:0,y:6,w:8,h:1}],"":[{x:0,y:0,w:1,h:8},{x:0,y:7,w:8,h:1}],"":[{x:0,y:0,w:1,h:8},{x:0,y:0,w:8,h:1}],"":[{x:7,y:0,w:1,h:8},{x:0,y:0,w:8,h:1}],"":[{x:7,y:0,w:1,h:8},{x:0,y:7,w:8,h:1}],"":[{x:0,y:0,w:8,h:1},{x:0,y:7,w:8,h:1}],"":[{x:0,y:0,w:8,h:1},{x:0,y:2,w:8,h:1},{x:0,y:4,w:8,h:1},{x:0,y:7,w:8,h:1}],"":[{x:0,y:0,w:8,h:2}],"":[{x:0,y:0,w:8,h:3}],"":[{x:0,y:0,w:8,h:5}],"":[{x:0,y:0,w:8,h:6}],"":[{x:0,y:0,w:8,h:7}],"":[{x:6,y:0,w:2,h:8}],"":[{x:5,y:0,w:3,h:8}],"":[{x:3,y:0,w:5,h:8}],"":[{x:2,y:0,w:6,h:8}],"":[{x:1,y:0,w:7,h:8}],"":[{x:0,y:0,w:2,h:2},{x:4,y:0,w:2,h:2},{x:2,y:2,w:2,h:2},{x:6,y:2,w:2,h:2},{x:0,y:4,w:2,h:2},{x:4,y:4,w:2,h:2},{x:2,y:6,w:2,h:2},{x:6,y:6,w:2,h:2}],"":[{x:2,y:0,w:2,h:2},{x:6,y:0,w:2,h:2},{x:0,y:2,w:2,h:2},{x:4,y:2,w:2,h:2},{x:2,y:4,w:2,h:2},{x:6,y:4,w:2,h:2},{x:0,y:6,w:2,h:2},{x:4,y:6,w:2,h:2}],"":[{x:0,y:2,w:8,h:2},{x:0,y:6,w:8,h:2}]};const v={"":[[1,0,0,0],[0,0,0,0],[0,0,1,0],[0,0,0,0]],"":[[1,0],[0,0],[0,1],[0,0]],"":[[0,1],[1,1],[1,0],[1,1]]};a.boxDrawingDefinitions={"":{1:"M0,.5 L1,.5"},"":{3:"M0,.5 L1,.5"},"":{1:"M.5,0 L.5,1"},"":{3:"M.5,0 L.5,1"},"":{1:"M0.5,1 L.5,.5 L1,.5"},"":{3:"M0.5,1 L.5,.5 L1,.5"},"":{1:"M0,.5 L.5,.5 L.5,1"},"":{3:"M0,.5 L.5,.5 L.5,1"},"":{1:"M.5,0 L.5,.5 L1,.5"},"":{3:"M.5,0 L.5,.5 L1,.5"},"":{1:"M.5,0 L.5,.5 L0,.5"},"":{3:"M.5,0 L.5,.5 L0,.5"},"":{1:"M.5,0 L.5,1 M.5,.5 L1,.5"},"":{3:"M.5,0 L.5,1 M.5,.5 L1,.5"},"":{1:"M.5,0 L.5,1 M.5,.5 L0,.5"},"":{3:"M.5,0 L.5,1 M.5,.5 L0,.5"},"":{1:"M0,.5 L1,.5 M.5,.5 L.5,1"},"":{3:"M0,.5 L1,.5 M.5,.5 L.5,1"},"":{1:"M0,.5 L1,.5 M.5,.5 L.5,0"},"":{3:"M0,.5 L1,.5 M.5,.5 L.5,0"},"":{1:"M0,.5 L1,.5 M.5,0 L.5,1"},"":{3:"M0,.5 L1,.5 M.5,0 L.5,1"},"":{1:"M.5,.5 L0,.5"},"":{3:"M.5,.5 L0,.5"},"":{1:"M.5,.5 L.5,0"},"":{3:"M.5,.5 L.5,0"},"":{1:"M.5,.5 L1,.5"},"":{3:"M.5,.5 L1,.5"},"":{1:"M.5,.5 L.5,1"},"":{3:"M.5,.5 L.5,1"},"":{1:(f,r)=>`M0,${.5-r} L1,${.5-r} M0,${.5+r} L1,${.5+r}`},"":{1:(f,r)=>`M${.5-f},0 L${.5-f},1 M${.5+f},0 L${.5+f},1`},"":{1:(f,r)=>`M.5,1 L.5,${.5-r} L1,${.5-r} M.5,${.5+r} L1,${.5+r}`},"":{1:(f,r)=>`M${.5-f},1 L${.5-f},.5 L1,.5 M${.5+f},.5 L${.5+f},1`},"":{1:(f,r)=>`M1,${.5-r} L${.5-f},${.5-r} L${.5-f},1 M1,${.5+r} L${.5+f},${.5+r} L${.5+f},1`},"":{1:(f,r)=>`M0,${.5-r} L.5,${.5-r} L.5,1 M0,${.5+r} L.5,${.5+r}`},"":{1:(f,r)=>`M${.5+f},1 L${.5+f},.5 L0,.5 M${.5-f},.5 L${.5-f},1`},"":{1:(f,r)=>`M0,${.5+r} L${.5-f},${.5+r} L${.5-f},1 M0,${.5-r} L${.5+f},${.5-r} L${.5+f},1`},"":{1:(f,r)=>`M.5,0 L.5,${.5+r} L1,${.5+r} M.5,${.5-r} L1,${.5-r}`},"":{1:(f,r)=>`M1,.5 L${.5-f},.5 L${.5-f},0 M${.5+f},.5 L${.5+f},0`},"":{1:(f,r)=>`M1,${.5-r} L${.5+f},${.5-r} L${.5+f},0 M1,${.5+r} L${.5-f},${.5+r} L${.5-f},0`},"":{1:(f,r)=>`M0,${.5+r} L.5,${.5+r} L.5,0 M0,${.5-r} L.5,${.5-r}`},"":{1:(f,r)=>`M0,.5 L${.5+f},.5 L${.5+f},0 M${.5-f},.5 L${.5-f},0`},"":{1:(f,r)=>`M0,${.5-r} L${.5-f},${.5-r} L${.5-f},0 M0,${.5+r} L${.5+f},${.5+r} L${.5+f},0`},"":{1:(f,r)=>`M.5,0 L.5,1 M.5,${.5-r} L1,${.5-r} M.5,${.5+r} L1,${.5+r}`},"":{1:(f,r)=>`M${.5-f},0 L${.5-f},1 M${.5+f},0 L${.5+f},1 M${.5+f},.5 L1,.5`},"":{1:(f,r)=>`M${.5-f},0 L${.5-f},1 M1,${.5+r} L${.5+f},${.5+r} L${.5+f},1 M1,${.5-r} L${.5+f},${.5-r} L${.5+f},0`},"":{1:(f,r)=>`M.5,0 L.5,1 M0,${.5-r} L.5,${.5-r} M0,${.5+r} L.5,${.5+r}`},"":{1:(f,r)=>`M0,.5 L${.5-f},.5 M${.5-f},0 L${.5-f},1 M${.5+f},0 L${.5+f},1`},"":{1:(f,r)=>`M${.5+f},0 L${.5+f},1 M0,${.5+r} L${.5-f},${.5+r} L${.5-f},1 M0,${.5-r} L${.5-f},${.5-r} L${.5-f},0`},"":{1:(f,r)=>`M0,${.5-r} L1,${.5-r} M0,${.5+r} L1,${.5+r} M.5,${.5+r} L.5,1`},"":{1:(f,r)=>`M0,.5 L1,.5 M${.5-f},.5 L${.5-f},1 M${.5+f},.5 L${.5+f},1`},"":{1:(f,r)=>`M0,${.5-r} L1,${.5-r} M0,${.5+r} L${.5-f},${.5+r} L${.5-f},1 M1,${.5+r} L${.5+f},${.5+r} L${.5+f},1`},"":{1:(f,r)=>`M.5,0 L.5,${.5-r} M0,${.5-r} L1,${.5-r} M0,${.5+r} L1,${.5+r}`},"":{1:(f,r)=>`M0,.5 L1,.5 M${.5-f},.5 L${.5-f},0 M${.5+f},.5 L${.5+f},0`},"":{1:(f,r)=>`M0,${.5+r} L1,${.5+r} M0,${.5-r} L${.5-f},${.5-r} L${.5-f},0 M1,${.5-r} L${.5+f},${.5-r} L${.5+f},0`},"":{1:(f,r)=>`M.5,0 L.5,1 M0,${.5-r} L1,${.5-r} M0,${.5+r} L1,${.5+r}`},"":{1:(f,r)=>`M0,.5 L1,.5 M${.5-f},0 L${.5-f},1 M${.5+f},0 L${.5+f},1`},"":{1:(f,r)=>`M0,${.5+r} L${.5-f},${.5+r} L${.5-f},1 M1,${.5+r} L${.5+f},${.5+r} L${.5+f},1 M0,${.5-r} L${.5-f},${.5-r} L${.5-f},0 M1,${.5-r} L${.5+f},${.5-r} L${.5+f},0`},"":{1:"M1,0 L0,1"},"":{1:"M0,0 L1,1"},"":{1:"M1,0 L0,1 M0,0 L1,1"},"":{1:"M.5,.5 L0,.5",3:"M.5,.5 L1,.5"},"":{1:"M.5,.5 L.5,0",3:"M.5,.5 L.5,1"},"":{1:"M.5,.5 L1,.5",3:"M.5,.5 L0,.5"},"":{1:"M.5,.5 L.5,1",3:"M.5,.5 L.5,0"},"":{1:"M.5,.5 L.5,1",3:"M.5,.5 L1,.5"},"":{1:"M.5,.5 L1,.5",3:"M.5,.5 L.5,1"},"":{1:"M.5,.5 L.5,1",3:"M.5,.5 L0,.5"},"":{1:"M.5,.5 L0,.5",3:"M.5,.5 L.5,1"},"":{1:"M.5,.5 L.5,0",3:"M.5,.5 L1,.5"},"":{1:"M.5,.5 L1,.5",3:"M.5,.5 L.5,0"},"":{1:"M.5,.5 L.5,0",3:"M.5,.5 L0,.5"},"":{1:"M.5,.5 L0,.5",3:"M.5,.5 L.5,0"},"":{1:"M.5,0 L.5,1",3:"M.5,.5 L1,.5"},"":{1:"M0.5,1 L.5,.5 L1,.5",3:"M.5,.5 L.5,0"},"":{1:"M.5,0 L.5,.5 L1,.5",3:"M.5,.5 L.5,1"},"":{1:"M.5,.5 L1,.5",3:"M.5,0 L.5,1"},"":{1:"M.5,.5 L.5,1",3:"M.5,0 L.5,.5 L1,.5"},"":{1:"M.5,.5 L.5,0",3:"M0.5,1 L.5,.5 L1,.5"},"":{1:"M.5,0 L.5,1",3:"M.5,.5 L0,.5"},"":{1:"M0,.5 L.5,.5 L.5,1",3:"M.5,.5 L.5,0"},"":{1:"M.5,0 L.5,.5 L0,.5",3:"M.5,.5 L.5,1"},"":{1:"M.5,.5 L0,.5",3:"M.5,0 L.5,1"},"":{1:"M.5,.5 L.5,1",3:"M.5,0 L.5,.5 L0,.5"},"":{1:"M.5,.5 L.5,0",3:"M0,.5 L.5,.5 L.5,1"},"":{1:"M0.5,1 L.5,.5 L1,.5",3:"M.5,.5 L0,.5"},"":{1:"M0,.5 L.5,.5 L.5,1",3:"M.5,.5 L1,.5"},"":{1:"M.5,.5 L.5,1",3:"M0,.5 L1,.5"},"":{1:"M0,.5 L1,.5",3:"M.5,.5 L.5,1"},"":{1:"M.5,.5 L1,.5",3:"M0,.5 L.5,.5 L.5,1"},"":{1:"M.5,.5 L0,.5",3:"M0.5,1 L.5,.5 L1,.5"},"":{1:"M.5,0 L.5,.5 L1,.5",3:"M.5,.5 L0,.5"},"":{1:"M.5,0 L.5,.5 L0,.5",3:"M.5,.5 L1,.5"},"":{1:"M.5,.5 L.5,0",3:"M0,.5 L1,.5"},"":{1:"M0,.5 L1,.5",3:"M.5,.5 L.5,0"},"":{1:"M.5,.5 L1,.5",3:"M.5,0 L.5,.5 L0,.5"},"":{1:"M.5,.5 L0,.5",3:"M.5,0 L.5,.5 L1,.5"},"":{1:"M.5,0 L.5,1 M.5,.5 L1,.5",3:"M.5,.5 L0,.5"},"":{1:"M.5,0 L.5,1 M.5,.5 L0,.5",3:"M.5,.5 L1,.5"},"":{1:"M.5,0 L.5,1",3:"M0,.5 L1,.5"},"":{1:"M0,.5 L1,.5 M.5,.5 L.5,1",3:"M.5,.5 L.5,0"},"":{1:"M.5,.5 L.5,0 M0,.5 L1,.5",3:"M.5,.5 L.5,1"},"":{1:"M0,.5 L1,.5",3:"M.5,0 L.5,1"},"":{1:"M0.5,1 L.5,.5 L1,.5",3:"M.5,0 L.5,.5 L0,.5"},"":{1:"M0,.5 L.5,.5 L.5,1",3:"M.5,0 L.5,.5 L1,.5"},"":{1:"M.5,0 L.5,.5 L1,.5",3:"M0,.5 L.5,.5 L.5,1"},"":{1:"M.5,0 L.5,.5 L0,.5",3:"M0.5,1 L.5,.5 L1,.5"},"":{1:"M.5,.5 L.5,1",3:"M.5,.5 L.5,0 M0,.5 L1,.5"},"":{1:"M.5,.5 L.5,0",3:"M0,.5 L1,.5 M.5,.5 L.5,1"},"":{1:"M.5,.5 L1,.5",3:"M.5,0 L.5,1 M.5,.5 L0,.5"},"":{1:"M.5,.5 L0,.5",3:"M.5,0 L.5,1 M.5,.5 L1,.5"},"":{1:"M.1,.5 L.4,.5 M.6,.5 L.9,.5"},"":{3:"M.1,.5 L.4,.5 M.6,.5 L.9,.5"},"":{1:"M.0667,.5 L.2667,.5 M.4,.5 L.6,.5 M.7333,.5 L.9333,.5"},"":{3:"M.0667,.5 L.2667,.5 M.4,.5 L.6,.5 M.7333,.5 L.9333,.5"},"":{1:"M.05,.5 L.2,.5 M.3,.5 L.45,.5 M.55,.5 L.7,.5 M.8,.5 L.95,.5"},"":{3:"M.05,.5 L.2,.5 M.3,.5 L.45,.5 M.55,.5 L.7,.5 M.8,.5 L.95,.5"},"":{1:"M.5,.1 L.5,.4 M.5,.6 L.5,.9"},"":{3:"M.5,.1 L.5,.4 M.5,.6 L.5,.9"},"":{1:"M.5,.0667 L.5,.2667 M.5,.4 L.5,.6 M.5,.7333 L.5,.9333"},"":{3:"M.5,.0667 L.5,.2667 M.5,.4 L.5,.6 M.5,.7333 L.5,.9333"},"":{1:"M.5,.05 L.5,.2 M.5,.3 L.5,.45 L.5,.55 M.5,.7 L.5,.95"},"":{3:"M.5,.05 L.5,.2 M.5,.3 L.5,.45 L.5,.55 M.5,.7 L.5,.95"},"":{1:(f,r)=>`M.5,1 L.5,${.5+r/.15*.5} C.5,${.5+r/.15*.5},.5,.5,1,.5`},"":{1:(f,r)=>`M.5,1 L.5,${.5+r/.15*.5} C.5,${.5+r/.15*.5},.5,.5,0,.5`},"":{1:(f,r)=>`M.5,0 L.5,${.5-r/.15*.5} C.5,${.5-r/.15*.5},.5,.5,0,.5`},"":{1:(f,r)=>`M.5,0 L.5,${.5-r/.15*.5} C.5,${.5-r/.15*.5},.5,.5,1,.5`}},a.powerlineDefinitions={"":{d:"M0,0 L1,.5 L0,1",type:0,rightPadding:2},"":{d:"M-1,-.5 L1,.5 L-1,1.5",type:1,leftPadding:1,rightPadding:1},"":{d:"M1,0 L0,.5 L1,1",type:0,leftPadding:2},"":{d:"M2,-.5 L0,.5 L2,1.5",type:1,leftPadding:1,rightPadding:1},"":{d:"M0,0 L0,1 C0.552,1,1,0.776,1,.5 C1,0.224,0.552,0,0,0",type:0,rightPadding:1},"":{d:"M.2,1 C.422,1,.8,.826,.78,.5 C.8,.174,0.422,0,.2,0",type:1,rightPadding:1},"":{d:"M1,0 L1,1 C0.448,1,0,0.776,0,.5 C0,0.224,0.448,0,1,0",type:0,leftPadding:1},"":{d:"M.8,1 C0.578,1,0.2,.826,.22,.5 C0.2,0.174,0.578,0,0.8,0",type:1,leftPadding:1},"":{d:"M-.5,-.5 L1.5,1.5 L-.5,1.5",type:0},"":{d:"M-.5,-.5 L1.5,1.5",type:1,leftPadding:1,rightPadding:1},"":{d:"M1.5,-.5 L-.5,1.5 L1.5,1.5",type:0},"":{d:"M1.5,-.5 L-.5,1.5 L-.5,-.5",type:0},"":{d:"M1.5,-.5 L-.5,1.5",type:1,leftPadding:1,rightPadding:1},"":{d:"M-.5,-.5 L1.5,1.5 L1.5,-.5",type:0}},a.powerlineDefinitions[""]=a.powerlineDefinitions[""],a.powerlineDefinitions[""]=a.powerlineDefinitions[""],a.tryDrawCustomChar=function(f,r,c,o,h,m,w,S){const E=a.blockElementDefinitions[r];if(E)return(function(B,D,M,z,V,U){for(let N=0;N<D.length;N++){const F=D[N],x=V/8,k=U/8;B.fillRect(M+F.x*x,z+F.y*k,F.w*x,F.h*k)}})(f,E,c,o,h,m),!0;const p=v[r];if(p)return(function(B,D,M,z,V,U){let N=l.get(D);N||(N=new Map,l.set(D,N));const F=B.fillStyle;if(typeof F!="string")throw new Error(`Unexpected fillStyle type "${F}"`);let x=N.get(F);if(!x){const k=D[0].length,R=D.length,O=B.canvas.ownerDocument.createElement("canvas");O.width=k,O.height=R;const G=(0,_.throwIfFalsy)(O.getContext("2d")),$=new ImageData(k,R);let ne,ae,P,H;if(F.startsWith("#"))ne=parseInt(F.slice(1,3),16),ae=parseInt(F.slice(3,5),16),P=parseInt(F.slice(5,7),16),H=F.length>7&&parseInt(F.slice(7,9),16)||1;else{if(!F.startsWith("rgba"))throw new Error(`Unexpected fillStyle color format "${F}" when drawing pattern glyph`);[ne,ae,P,H]=F.substring(5,F.length-1).split(",").map((Q=>parseFloat(Q)))}for(let Q=0;Q<R;Q++)for(let q=0;q<k;q++)$.data[4*(Q*k+q)]=ne,$.data[4*(Q*k+q)+1]=ae,$.data[4*(Q*k+q)+2]=P,$.data[4*(Q*k+q)+3]=D[Q][q]*(255*H);G.putImageData($,0,0),x=(0,_.throwIfFalsy)(B.createPattern(O,null)),N.set(F,x)}B.fillStyle=x,B.fillRect(M,z,V,U)})(f,p,c,o,h,m),!0;const b=a.boxDrawingDefinitions[r];if(b)return(function(B,D,M,z,V,U,N){B.strokeStyle=B.fillStyle;for(const[F,x]of Object.entries(D)){let k;B.beginPath(),B.lineWidth=N*Number.parseInt(F),k=typeof x=="function"?x(.15,.15/U*V):x;for(const R of k.split(" ")){const O=R[0],G=y[O];if(!G){console.error(`Could not find drawing instructions for "${O}"`);continue}const $=R.substring(1).split(",");$[0]&&$[1]&&G(B,C($,V,U,M,z,!0,N))}B.stroke(),B.closePath()}})(f,b,c,o,h,m,S),!0;const L=a.powerlineDefinitions[r];return!!L&&((function(B,D,M,z,V,U,N,F){const x=new Path2D;x.rect(M,z,V,U),B.clip(x),B.beginPath();const k=N/12;B.lineWidth=F*k;for(const R of D.d.split(" ")){const O=R[0],G=y[O];if(!G){console.error(`Could not find drawing instructions for "${O}"`);continue}const $=R.substring(1).split(",");$[0]&&$[1]&&G(B,C($,V,U,M,z,!1,F,(D.leftPadding??0)*(k/2),(D.rightPadding??0)*(k/2)))}D.type===1?(B.strokeStyle=B.fillStyle,B.stroke()):B.fill(),B.closePath()})(f,L,c,o,h,m,w,S),!0)};const l=new Map;function g(f,r,c=0){return Math.max(Math.min(f,r),c)}const y={C:(f,r)=>f.bezierCurveTo(r[0],r[1],r[2],r[3],r[4],r[5]),L:(f,r)=>f.lineTo(r[0],r[1]),M:(f,r)=>f.moveTo(r[0],r[1])};function C(f,r,c,o,h,m,w,S=0,E=0){const p=f.map((b=>parseFloat(b)||parseInt(b)));if(p.length<2)throw new Error("Too few arguments for instruction");for(let b=0;b<p.length;b+=2)p[b]*=r-S*w-E*w,m&&p[b]!==0&&(p[b]=g(Math.round(p[b]+.5)-.5,r,0)),p[b]+=o+S*w;for(let b=1;b<p.length;b+=2)p[b]*=c,m&&p[b]!==0&&(p[b]=g(Math.round(p[b]+.5)-.5,c,0)),p[b]+=h;return p}},56:(W,a,d)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.observeDevicePixelDimensions=void 0;const _=d(859);a.observeDevicePixelDimensions=function(v,l,g){let y=new l.ResizeObserver((C=>{const f=C.find((o=>o.target===v));if(!f)return;if(!("devicePixelContentBoxSize"in f))return y?.disconnect(),void(y=void 0);const r=f.devicePixelContentBoxSize[0].inlineSize,c=f.devicePixelContentBoxSize[0].blockSize;r>0&&c>0&&g(r,c)}));try{y.observe(v,{box:["device-pixel-content-box"]})}catch{y.disconnect(),y=void 0}return(0,_.toDisposable)((()=>y?.disconnect()))}},374:(W,a)=>{function d(v){return 57508<=v&&v<=57558}function _(v){return v>=128512&&v<=128591||v>=127744&&v<=128511||v>=128640&&v<=128767||v>=9728&&v<=9983||v>=9984&&v<=10175||v>=65024&&v<=65039||v>=129280&&v<=129535||v>=127462&&v<=127487}Object.defineProperty(a,"__esModule",{value:!0}),a.computeNextVariantOffset=a.createRenderDimensions=a.treatGlyphAsBackgroundColor=a.allowRescaling=a.isEmoji=a.isRestrictedPowerlineGlyph=a.isPowerlineGlyph=a.throwIfFalsy=void 0,a.throwIfFalsy=function(v){if(!v)throw new Error("value must not be falsy");return v},a.isPowerlineGlyph=d,a.isRestrictedPowerlineGlyph=function(v){return 57520<=v&&v<=57527},a.isEmoji=_,a.allowRescaling=function(v,l,g,y){return l===1&&g>Math.ceil(1.5*y)&&v!==void 0&&v>255&&!_(v)&&!d(v)&&!(function(C){return 57344<=C&&C<=63743})(v)},a.treatGlyphAsBackgroundColor=function(v){return d(v)||(function(l){return 9472<=l&&l<=9631})(v)},a.createRenderDimensions=function(){return{css:{canvas:{width:0,height:0},cell:{width:0,height:0}},device:{canvas:{width:0,height:0},cell:{width:0,height:0},char:{width:0,height:0,left:0,top:0}}}},a.computeNextVariantOffset=function(v,l,g=0){return(v-(2*Math.round(l)-g))%(2*Math.round(l))}},296:(W,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.createSelectionRenderModel=void 0;class d{constructor(){this.clear()}clear(){this.hasSelection=!1,this.columnSelectMode=!1,this.viewportStartRow=0,this.viewportEndRow=0,this.viewportCappedStartRow=0,this.viewportCappedEndRow=0,this.startCol=0,this.endCol=0,this.selectionStart=void 0,this.selectionEnd=void 0}update(v,l,g,y=!1){if(this.selectionStart=l,this.selectionEnd=g,!l||!g||l[0]===g[0]&&l[1]===g[1])return void this.clear();const C=v.buffers.active.ydisp,f=l[1]-C,r=g[1]-C,c=Math.max(f,0),o=Math.min(r,v.rows-1);c>=v.rows||o<0?this.clear():(this.hasSelection=!0,this.columnSelectMode=y,this.viewportStartRow=f,this.viewportEndRow=r,this.viewportCappedStartRow=c,this.viewportCappedEndRow=o,this.startCol=l[0],this.endCol=g[0])}isCellSelected(v,l,g){return!!this.hasSelection&&(g-=v.buffer.active.viewportY,this.columnSelectMode?this.startCol<=this.endCol?l>=this.startCol&&g>=this.viewportCappedStartRow&&l<this.endCol&&g<=this.viewportCappedEndRow:l<this.startCol&&g>=this.viewportCappedStartRow&&l>=this.endCol&&g<=this.viewportCappedEndRow:g>this.viewportStartRow&&g<this.viewportEndRow||this.viewportStartRow===this.viewportEndRow&&g===this.viewportStartRow&&l>=this.startCol&&l<this.endCol||this.viewportStartRow<this.viewportEndRow&&g===this.viewportEndRow&&l<this.endCol||this.viewportStartRow<this.viewportEndRow&&g===this.viewportStartRow&&l>=this.startCol)}}a.createSelectionRenderModel=function(){return new d}},509:(W,a,d)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.TextureAtlas=void 0;const _=d(237),v=d(860),l=d(374),g=d(160),y=d(345),C=d(485),f=d(385),r=d(147),c=d(855),o={texturePage:0,texturePosition:{x:0,y:0},texturePositionClipSpace:{x:0,y:0},offset:{x:0,y:0},size:{x:0,y:0},sizeClipSpace:{x:0,y:0}};let h;class m{get pages(){return this._pages}constructor(b,L,B){this._document=b,this._config=L,this._unicodeService=B,this._didWarmUp=!1,this._cacheMap=new C.FourKeyMap,this._cacheMapCombined=new C.FourKeyMap,this._pages=[],this._activePages=[],this._workBoundingBox={top:0,left:0,bottom:0,right:0},this._workAttributeData=new r.AttributeData,this._textureSize=512,this._onAddTextureAtlasCanvas=new y.EventEmitter,this.onAddTextureAtlasCanvas=this._onAddTextureAtlasCanvas.event,this._onRemoveTextureAtlasCanvas=new y.EventEmitter,this.onRemoveTextureAtlasCanvas=this._onRemoveTextureAtlasCanvas.event,this._requestClearModel=!1,this._createNewPage(),this._tmpCanvas=E(b,4*this._config.deviceCellWidth+4,this._config.deviceCellHeight+4),this._tmpCtx=(0,l.throwIfFalsy)(this._tmpCanvas.getContext("2d",{alpha:this._config.allowTransparency,willReadFrequently:!0}))}dispose(){for(const b of this.pages)b.canvas.remove();this._onAddTextureAtlasCanvas.dispose()}warmUp(){this._didWarmUp||(this._doWarmUp(),this._didWarmUp=!0)}_doWarmUp(){const b=new f.IdleTaskQueue;for(let L=33;L<126;L++)b.enqueue((()=>{if(!this._cacheMap.get(L,c.DEFAULT_COLOR,c.DEFAULT_COLOR,c.DEFAULT_EXT)){const B=this._drawToCache(L,c.DEFAULT_COLOR,c.DEFAULT_COLOR,c.DEFAULT_EXT);this._cacheMap.set(L,c.DEFAULT_COLOR,c.DEFAULT_COLOR,c.DEFAULT_EXT,B)}}))}beginFrame(){return this._requestClearModel}clearTexture(){if(this._pages[0].currentRow.x!==0||this._pages[0].currentRow.y!==0){for(const b of this._pages)b.clear();this._cacheMap.clear(),this._cacheMapCombined.clear(),this._didWarmUp=!1}}_createNewPage(){if(m.maxAtlasPages&&this._pages.length>=Math.max(4,m.maxAtlasPages)){const L=this._pages.filter((N=>2*N.canvas.width<=(m.maxTextureSize||4096))).sort(((N,F)=>F.canvas.width!==N.canvas.width?F.canvas.width-N.canvas.width:F.percentageUsed-N.percentageUsed));let B=-1,D=0;for(let N=0;N<L.length;N++)if(L[N].canvas.width!==D)B=N,D=L[N].canvas.width;else if(N-B==3)break;const M=L.slice(B,B+4),z=M.map((N=>N.glyphs[0].texturePage)).sort(((N,F)=>N>F?1:-1)),V=this.pages.length-M.length,U=this._mergePages(M,V);U.version++;for(let N=z.length-1;N>=0;N--)this._deletePage(z[N]);this.pages.push(U),this._requestClearModel=!0,this._onAddTextureAtlasCanvas.fire(U.canvas)}const b=new w(this._document,this._textureSize);return this._pages.push(b),this._activePages.push(b),this._onAddTextureAtlasCanvas.fire(b.canvas),b}_mergePages(b,L){const B=2*b[0].canvas.width,D=new w(this._document,B,b);for(const[M,z]of b.entries()){const V=M*z.canvas.width%B,U=Math.floor(M/2)*z.canvas.height;D.ctx.drawImage(z.canvas,V,U);for(const F of z.glyphs)F.texturePage=L,F.sizeClipSpace.x=F.size.x/B,F.sizeClipSpace.y=F.size.y/B,F.texturePosition.x+=V,F.texturePosition.y+=U,F.texturePositionClipSpace.x=F.texturePosition.x/B,F.texturePositionClipSpace.y=F.texturePosition.y/B;this._onRemoveTextureAtlasCanvas.fire(z.canvas);const N=this._activePages.indexOf(z);N!==-1&&this._activePages.splice(N,1)}return D}_deletePage(b){this._pages.splice(b,1);for(let L=b;L<this._pages.length;L++){const B=this._pages[L];for(const D of B.glyphs)D.texturePage--;B.version++}}getRasterizedGlyphCombinedChar(b,L,B,D,M){return this._getFromCacheMap(this._cacheMapCombined,b,L,B,D,M)}getRasterizedGlyph(b,L,B,D,M){return this._getFromCacheMap(this._cacheMap,b,L,B,D,M)}_getFromCacheMap(b,L,B,D,M,z=!1){return h=b.get(L,B,D,M),h||(h=this._drawToCache(L,B,D,M,z),b.set(L,B,D,M,h)),h}_getColorFromAnsiIndex(b){if(b>=this._config.colors.ansi.length)throw new Error("No color found for idx "+b);return this._config.colors.ansi[b]}_getBackgroundColor(b,L,B,D){if(this._config.allowTransparency)return g.NULL_COLOR;let M;switch(b){case 16777216:case 33554432:M=this._getColorFromAnsiIndex(L);break;case 50331648:const z=r.AttributeData.toColorRGB(L);M=g.channels.toColor(z[0],z[1],z[2]);break;default:M=B?g.color.opaque(this._config.colors.foreground):this._config.colors.background}return M}_getForegroundColor(b,L,B,D,M,z,V,U,N,F){const x=this._getMinimumContrastColor(b,L,B,D,M,z,V,N,U,F);if(x)return x;let k;switch(M){case 16777216:case 33554432:this._config.drawBoldTextInBrightColors&&N&&z<8&&(z+=8),k=this._getColorFromAnsiIndex(z);break;case 50331648:const R=r.AttributeData.toColorRGB(z);k=g.channels.toColor(R[0],R[1],R[2]);break;default:k=V?this._config.colors.background:this._config.colors.foreground}return this._config.allowTransparency&&(k=g.color.opaque(k)),U&&(k=g.color.multiplyOpacity(k,_.DIM_OPACITY)),k}_resolveBackgroundRgba(b,L,B){switch(b){case 16777216:case 33554432:return this._getColorFromAnsiIndex(L).rgba;case 50331648:return L<<8;default:return B?this._config.colors.foreground.rgba:this._config.colors.background.rgba}}_resolveForegroundRgba(b,L,B,D){switch(b){case 16777216:case 33554432:return this._config.drawBoldTextInBrightColors&&D&&L<8&&(L+=8),this._getColorFromAnsiIndex(L).rgba;case 50331648:return L<<8;default:return B?this._config.colors.background.rgba:this._config.colors.foreground.rgba}}_getMinimumContrastColor(b,L,B,D,M,z,V,U,N,F){if(this._config.minimumContrastRatio===1||F)return;const x=this._getContrastCache(N),k=x.getColor(b,D);if(k!==void 0)return k||void 0;const R=this._resolveBackgroundRgba(L,B,V),O=this._resolveForegroundRgba(M,z,V,U),G=g.rgba.ensureContrastRatio(R,O,this._config.minimumContrastRatio/(N?2:1));if(!G)return void x.setColor(b,D,null);const $=g.channels.toColor(G>>24&255,G>>16&255,G>>8&255);return x.setColor(b,D,$),$}_getContrastCache(b){return b?this._config.colors.halfContrastCache:this._config.colors.contrastCache}_drawToCache(b,L,B,D,M=!1){const z=typeof b=="number"?String.fromCharCode(b):b,V=Math.min(this._config.deviceCellWidth*Math.max(z.length,2)+4,this._textureSize);this._tmpCanvas.width<V&&(this._tmpCanvas.width=V);const U=Math.min(this._config.deviceCellHeight+8,this._textureSize);if(this._tmpCanvas.height<U&&(this._tmpCanvas.height=U),this._tmpCtx.save(),this._workAttributeData.fg=B,this._workAttributeData.bg=L,this._workAttributeData.extended.ext=D,this._workAttributeData.isInvisible())return o;const N=!!this._workAttributeData.isBold(),F=!!this._workAttributeData.isInverse(),x=!!this._workAttributeData.isDim(),k=!!this._workAttributeData.isItalic(),R=!!this._workAttributeData.isUnderline(),O=!!this._workAttributeData.isStrikethrough(),G=!!this._workAttributeData.isOverline();let $=this._workAttributeData.getFgColor(),ne=this._workAttributeData.getFgColorMode(),ae=this._workAttributeData.getBgColor(),P=this._workAttributeData.getBgColorMode();if(F){const he=$;$=ae,ae=he;const ye=ne;ne=P,P=ye}const H=this._getBackgroundColor(P,ae,F,x);this._tmpCtx.globalCompositeOperation="copy",this._tmpCtx.fillStyle=H.css,this._tmpCtx.fillRect(0,0,this._tmpCanvas.width,this._tmpCanvas.height),this._tmpCtx.globalCompositeOperation="source-over";const Q=N?this._config.fontWeightBold:this._config.fontWeight,q=k?"italic":"";this._tmpCtx.font=`${q} ${Q} ${this._config.fontSize*this._config.devicePixelRatio}px ${this._config.fontFamily}`,this._tmpCtx.textBaseline=_.TEXT_BASELINE;const te=z.length===1&&(0,l.isPowerlineGlyph)(z.charCodeAt(0)),le=z.length===1&&(0,l.isRestrictedPowerlineGlyph)(z.charCodeAt(0)),pe=this._getForegroundColor(L,P,ae,B,ne,$,F,x,N,(0,l.treatGlyphAsBackgroundColor)(z.charCodeAt(0)));this._tmpCtx.fillStyle=pe.css;const fe=le?0:4;let Ce=!1;this._config.customGlyphs!==!1&&(Ce=(0,v.tryDrawCustomChar)(this._tmpCtx,z,fe,fe,this._config.deviceCellWidth,this._config.deviceCellHeight,this._config.fontSize,this._config.devicePixelRatio));let Fe,ve=!te;if(Fe=typeof b=="number"?this._unicodeService.wcwidth(b):this._unicodeService.getStringCellWidth(b),R){this._tmpCtx.save();const he=Math.max(1,Math.floor(this._config.fontSize*this._config.devicePixelRatio/15)),ye=he%2==1?.5:0;if(this._tmpCtx.lineWidth=he,this._workAttributeData.isUnderlineColorDefault())this._tmpCtx.strokeStyle=this._tmpCtx.fillStyle;else if(this._workAttributeData.isUnderlineColorRGB())ve=!1,this._tmpCtx.strokeStyle=`rgb(${r.AttributeData.toColorRGB(this._workAttributeData.getUnderlineColor()).join(",")})`;else{ve=!1;let Ze=this._workAttributeData.getUnderlineColor();this._config.drawBoldTextInBrightColors&&this._workAttributeData.isBold()&&Ze<8&&(Ze+=8),this._tmpCtx.strokeStyle=this._getColorFromAnsiIndex(Ze).css}this._tmpCtx.beginPath();const $e=fe,Pe=Math.ceil(fe+this._config.deviceCharHeight)-ye-(M?2*he:0),zt=Pe+he,at=Pe+2*he;let St=this._workAttributeData.getUnderlineVariantOffset();for(let Ze=0;Ze<Fe;Ze++){this._tmpCtx.save();const qe=$e+Ze*this._config.deviceCellWidth,Le=$e+(Ze+1)*this._config.deviceCellWidth,Yt=qe+this._config.deviceCellWidth/2;switch(this._workAttributeData.extended.underlineStyle){case 2:this._tmpCtx.moveTo(qe,Pe),this._tmpCtx.lineTo(Le,Pe),this._tmpCtx.moveTo(qe,at),this._tmpCtx.lineTo(Le,at);break;case 3:const ot=he<=1?at:Math.ceil(fe+this._config.deviceCharHeight-he/2)-ye,xt=he<=1?Pe:Math.ceil(fe+this._config.deviceCharHeight+he/2)-ye,gt=new Path2D;gt.rect(qe,Pe,this._config.deviceCellWidth,at-Pe),this._tmpCtx.clip(gt),this._tmpCtx.moveTo(qe-this._config.deviceCellWidth/2,zt),this._tmpCtx.bezierCurveTo(qe-this._config.deviceCellWidth/2,xt,qe,xt,qe,zt),this._tmpCtx.bezierCurveTo(qe,ot,Yt,ot,Yt,zt),this._tmpCtx.bezierCurveTo(Yt,xt,Le,xt,Le,zt),this._tmpCtx.bezierCurveTo(Le,ot,Le+this._config.deviceCellWidth/2,ot,Le+this._config.deviceCellWidth/2,zt);break;case 4:const us=St===0?0:St>=he?2*he-St:he-St;St>=he||us===0?(this._tmpCtx.setLineDash([Math.round(he),Math.round(he)]),this._tmpCtx.moveTo(qe+us,Pe),this._tmpCtx.lineTo(Le,Pe)):(this._tmpCtx.setLineDash([Math.round(he),Math.round(he)]),this._tmpCtx.moveTo(qe,Pe),this._tmpCtx.lineTo(qe+us,Pe),this._tmpCtx.moveTo(qe+us+he,Pe),this._tmpCtx.lineTo(Le,Pe)),St=(0,l.computeNextVariantOffset)(Le-qe,he,St);break;case 5:const aa=.6,la=.3,Ci=Le-qe,Xi=Math.floor(aa*Ci),Yi=Math.floor(la*Ci),ii=Ci-Xi-Yi;this._tmpCtx.setLineDash([Xi,Yi,ii]),this._tmpCtx.moveTo(qe,Pe),this._tmpCtx.lineTo(Le,Pe);break;default:this._tmpCtx.moveTo(qe,Pe),this._tmpCtx.lineTo(Le,Pe)}this._tmpCtx.stroke(),this._tmpCtx.restore()}if(this._tmpCtx.restore(),!Ce&&this._config.fontSize>=12&&!this._config.allowTransparency&&z!==" "){this._tmpCtx.save(),this._tmpCtx.textBaseline="alphabetic";const Ze=this._tmpCtx.measureText(z);if(this._tmpCtx.restore(),"actualBoundingBoxDescent"in Ze&&Ze.actualBoundingBoxDescent>0){this._tmpCtx.save();const qe=new Path2D;qe.rect($e,Pe-Math.ceil(he/2),this._config.deviceCellWidth*Fe,at-Pe+Math.ceil(he/2)),this._tmpCtx.clip(qe),this._tmpCtx.lineWidth=3*this._config.devicePixelRatio,this._tmpCtx.strokeStyle=H.css,this._tmpCtx.strokeText(z,fe,fe+this._config.deviceCharHeight),this._tmpCtx.restore()}}}if(G){const he=Math.max(1,Math.floor(this._config.fontSize*this._config.devicePixelRatio/15)),ye=he%2==1?.5:0;this._tmpCtx.lineWidth=he,this._tmpCtx.strokeStyle=this._tmpCtx.fillStyle,this._tmpCtx.beginPath(),this._tmpCtx.moveTo(fe,fe+ye),this._tmpCtx.lineTo(fe+this._config.deviceCharWidth*Fe,fe+ye),this._tmpCtx.stroke()}if(Ce||this._tmpCtx.fillText(z,fe,fe+this._config.deviceCharHeight),z==="_"&&!this._config.allowTransparency){let he=S(this._tmpCtx.getImageData(fe,fe,this._config.deviceCellWidth,this._config.deviceCellHeight),H,pe,ve);if(he)for(let ye=1;ye<=5&&(this._tmpCtx.save(),this._tmpCtx.fillStyle=H.css,this._tmpCtx.fillRect(0,0,this._tmpCanvas.width,this._tmpCanvas.height),this._tmpCtx.restore(),this._tmpCtx.fillText(z,fe,fe+this._config.deviceCharHeight-ye),he=S(this._tmpCtx.getImageData(fe,fe,this._config.deviceCellWidth,this._config.deviceCellHeight),H,pe,ve),he);ye++);}if(O){const he=Math.max(1,Math.floor(this._config.fontSize*this._config.devicePixelRatio/10)),ye=this._tmpCtx.lineWidth%2==1?.5:0;this._tmpCtx.lineWidth=he,this._tmpCtx.strokeStyle=this._tmpCtx.fillStyle,this._tmpCtx.beginPath(),this._tmpCtx.moveTo(fe,fe+Math.floor(this._config.deviceCharHeight/2)-ye),this._tmpCtx.lineTo(fe+this._config.deviceCharWidth*Fe,fe+Math.floor(this._config.deviceCharHeight/2)-ye),this._tmpCtx.stroke()}this._tmpCtx.restore();const Rt=this._tmpCtx.getImageData(0,0,this._tmpCanvas.width,this._tmpCanvas.height);let Zt;if(Zt=this._config.allowTransparency?(function(he){for(let ye=0;ye<he.data.length;ye+=4)if(he.data[ye+3]>0)return!1;return!0})(Rt):S(Rt,H,pe,ve),Zt)return o;const Te=this._findGlyphBoundingBox(Rt,this._workBoundingBox,V,le,Ce,fe);let Ae,Re;for(;;){if(this._activePages.length===0){const he=this._createNewPage();Ae=he,Re=he.currentRow,Re.height=Te.size.y;break}Ae=this._activePages[this._activePages.length-1],Re=Ae.currentRow;for(const he of this._activePages)Te.size.y<=he.currentRow.height&&(Ae=he,Re=he.currentRow);for(let he=this._activePages.length-1;he>=0;he--)for(const ye of this._activePages[he].fixedRows)ye.height<=Re.height&&Te.size.y<=ye.height&&(Ae=this._activePages[he],Re=ye);if(Re.y+Te.size.y>=Ae.canvas.height||Re.height>Te.size.y+2){let he=!1;if(Ae.currentRow.y+Ae.currentRow.height+Te.size.y>=Ae.canvas.height){let ye;for(const $e of this._activePages)if($e.currentRow.y+$e.currentRow.height+Te.size.y<$e.canvas.height){ye=$e;break}if(ye)Ae=ye;else if(m.maxAtlasPages&&this._pages.length>=m.maxAtlasPages&&Re.y+Te.size.y<=Ae.canvas.height&&Re.height>=Te.size.y&&Re.x+Te.size.x<=Ae.canvas.width)he=!0;else{const $e=this._createNewPage();Ae=$e,Re=$e.currentRow,Re.height=Te.size.y,he=!0}}he||(Ae.currentRow.height>0&&Ae.fixedRows.push(Ae.currentRow),Re={x:0,y:Ae.currentRow.y+Ae.currentRow.height,height:Te.size.y},Ae.fixedRows.push(Re),Ae.currentRow={x:0,y:Re.y+Re.height,height:0})}if(Re.x+Te.size.x<=Ae.canvas.width)break;Re===Ae.currentRow?(Re.x=0,Re.y+=Re.height,Re.height=0):Ae.fixedRows.splice(Ae.fixedRows.indexOf(Re),1)}return Te.texturePage=this._pages.indexOf(Ae),Te.texturePosition.x=Re.x,Te.texturePosition.y=Re.y,Te.texturePositionClipSpace.x=Re.x/Ae.canvas.width,Te.texturePositionClipSpace.y=Re.y/Ae.canvas.height,Te.sizeClipSpace.x/=Ae.canvas.width,Te.sizeClipSpace.y/=Ae.canvas.height,Re.height=Math.max(Re.height,Te.size.y),Re.x+=Te.size.x,Ae.ctx.putImageData(Rt,Te.texturePosition.x-this._workBoundingBox.left,Te.texturePosition.y-this._workBoundingBox.top,this._workBoundingBox.left,this._workBoundingBox.top,Te.size.x,Te.size.y),Ae.addGlyph(Te),Ae.version++,Te}_findGlyphBoundingBox(b,L,B,D,M,z){L.top=0;const V=D?this._config.deviceCellHeight:this._tmpCanvas.height,U=D?this._config.deviceCellWidth:B;let N=!1;for(let F=0;F<V;F++){for(let x=0;x<U;x++){const k=F*this._tmpCanvas.width*4+4*x+3;if(b.data[k]!==0){L.top=F,N=!0;break}}if(N)break}L.left=0,N=!1;for(let F=0;F<z+U;F++){for(let x=0;x<V;x++){const k=x*this._tmpCanvas.width*4+4*F+3;if(b.data[k]!==0){L.left=F,N=!0;break}}if(N)break}L.right=U,N=!1;for(let F=z+U-1;F>=z;F--){for(let x=0;x<V;x++){const k=x*this._tmpCanvas.width*4+4*F+3;if(b.data[k]!==0){L.right=F,N=!0;break}}if(N)break}L.bottom=V,N=!1;for(let F=V-1;F>=0;F--){for(let x=0;x<U;x++){const k=F*this._tmpCanvas.width*4+4*x+3;if(b.data[k]!==0){L.bottom=F,N=!0;break}}if(N)break}return{texturePage:0,texturePosition:{x:0,y:0},texturePositionClipSpace:{x:0,y:0},size:{x:L.right-L.left+1,y:L.bottom-L.top+1},sizeClipSpace:{x:L.right-L.left+1,y:L.bottom-L.top+1},offset:{x:-L.left+z+(D||M?Math.floor((this._config.deviceCellWidth-this._config.deviceCharWidth)/2):0),y:-L.top+z+(D||M?this._config.lineHeight===1?0:Math.round((this._config.deviceCellHeight-this._config.deviceCharHeight)/2):0)}}}}a.TextureAtlas=m;class w{get percentageUsed(){return this._usedPixels/(this.canvas.width*this.canvas.height)}get glyphs(){return this._glyphs}addGlyph(b){this._glyphs.push(b),this._usedPixels+=b.size.x*b.size.y}constructor(b,L,B){if(this._usedPixels=0,this._glyphs=[],this.version=0,this.currentRow={x:0,y:0,height:0},this.fixedRows=[],B)for(const D of B)this._glyphs.push(...D.glyphs),this._usedPixels+=D._usedPixels;this.canvas=E(b,L,L),this.ctx=(0,l.throwIfFalsy)(this.canvas.getContext("2d",{alpha:!0}))}clear(){this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.currentRow.x=0,this.currentRow.y=0,this.currentRow.height=0,this.fixedRows.length=0,this.version++}}function S(p,b,L,B){const D=b.rgba>>>24,M=b.rgba>>>16&255,z=b.rgba>>>8&255,V=L.rgba>>>24,U=L.rgba>>>16&255,N=L.rgba>>>8&255,F=Math.floor((Math.abs(D-V)+Math.abs(M-U)+Math.abs(z-N))/12);let x=!0;for(let k=0;k<p.data.length;k+=4)p.data[k]===D&&p.data[k+1]===M&&p.data[k+2]===z||B&&Math.abs(p.data[k]-D)+Math.abs(p.data[k+1]-M)+Math.abs(p.data[k+2]-z)<F?p.data[k+3]=0:x=!1;return x}function E(p,b,L){const B=p.createElement("canvas");return B.width=b,B.height=L,B}},160:(W,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.contrastRatio=a.toPaddedHex=a.rgba=a.rgb=a.css=a.color=a.channels=a.NULL_COLOR=void 0;let d=0,_=0,v=0,l=0;var g,y,C,f,r;function c(h){const m=h.toString(16);return m.length<2?"0"+m:m}function o(h,m){return h<m?(m+.05)/(h+.05):(h+.05)/(m+.05)}a.NULL_COLOR={css:"#00000000",rgba:0},(function(h){h.toCss=function(m,w,S,E){return E!==void 0?`#${c(m)}${c(w)}${c(S)}${c(E)}`:`#${c(m)}${c(w)}${c(S)}`},h.toRgba=function(m,w,S,E=255){return(m<<24|w<<16|S<<8|E)>>>0},h.toColor=function(m,w,S,E){return{css:h.toCss(m,w,S,E),rgba:h.toRgba(m,w,S,E)}}})(g||(a.channels=g={})),(function(h){function m(w,S){return l=Math.round(255*S),[d,_,v]=r.toChannels(w.rgba),{css:g.toCss(d,_,v,l),rgba:g.toRgba(d,_,v,l)}}h.blend=function(w,S){if(l=(255&S.rgba)/255,l===1)return{css:S.css,rgba:S.rgba};const E=S.rgba>>24&255,p=S.rgba>>16&255,b=S.rgba>>8&255,L=w.rgba>>24&255,B=w.rgba>>16&255,D=w.rgba>>8&255;return d=L+Math.round((E-L)*l),_=B+Math.round((p-B)*l),v=D+Math.round((b-D)*l),{css:g.toCss(d,_,v),rgba:g.toRgba(d,_,v)}},h.isOpaque=function(w){return(255&w.rgba)==255},h.ensureContrastRatio=function(w,S,E){const p=r.ensureContrastRatio(w.rgba,S.rgba,E);if(p)return g.toColor(p>>24&255,p>>16&255,p>>8&255)},h.opaque=function(w){const S=(255|w.rgba)>>>0;return[d,_,v]=r.toChannels(S),{css:g.toCss(d,_,v),rgba:S}},h.opacity=m,h.multiplyOpacity=function(w,S){return l=255&w.rgba,m(w,l*S/255)},h.toColorRGB=function(w){return[w.rgba>>24&255,w.rgba>>16&255,w.rgba>>8&255]}})(y||(a.color=y={})),(function(h){let m,w;try{const S=document.createElement("canvas");S.width=1,S.height=1;const E=S.getContext("2d",{willReadFrequently:!0});E&&(m=E,m.globalCompositeOperation="copy",w=m.createLinearGradient(0,0,1,1))}catch{}h.toColor=function(S){if(S.match(/#[\da-f]{3,8}/i))switch(S.length){case 4:return d=parseInt(S.slice(1,2).repeat(2),16),_=parseInt(S.slice(2,3).repeat(2),16),v=parseInt(S.slice(3,4).repeat(2),16),g.toColor(d,_,v);case 5:return d=parseInt(S.slice(1,2).repeat(2),16),_=parseInt(S.slice(2,3).repeat(2),16),v=parseInt(S.slice(3,4).repeat(2),16),l=parseInt(S.slice(4,5).repeat(2),16),g.toColor(d,_,v,l);case 7:return{css:S,rgba:(parseInt(S.slice(1),16)<<8|255)>>>0};case 9:return{css:S,rgba:parseInt(S.slice(1),16)>>>0}}const E=S.match(/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(,\s*(0|1|\d?\.(\d+))\s*)?\)/);if(E)return d=parseInt(E[1]),_=parseInt(E[2]),v=parseInt(E[3]),l=Math.round(255*(E[5]===void 0?1:parseFloat(E[5]))),g.toColor(d,_,v,l);if(!m||!w)throw new Error("css.toColor: Unsupported css format");if(m.fillStyle=w,m.fillStyle=S,typeof m.fillStyle!="string")throw new Error("css.toColor: Unsupported css format");if(m.fillRect(0,0,1,1),[d,_,v,l]=m.getImageData(0,0,1,1).data,l!==255)throw new Error("css.toColor: Unsupported css format");return{rgba:g.toRgba(d,_,v,l),css:S}}})(C||(a.css=C={})),(function(h){function m(w,S,E){const p=w/255,b=S/255,L=E/255;return .2126*(p<=.03928?p/12.92:Math.pow((p+.055)/1.055,2.4))+.7152*(b<=.03928?b/12.92:Math.pow((b+.055)/1.055,2.4))+.0722*(L<=.03928?L/12.92:Math.pow((L+.055)/1.055,2.4))}h.relativeLuminance=function(w){return m(w>>16&255,w>>8&255,255&w)},h.relativeLuminance2=m})(f||(a.rgb=f={})),(function(h){function m(S,E,p){const b=S>>24&255,L=S>>16&255,B=S>>8&255;let D=E>>24&255,M=E>>16&255,z=E>>8&255,V=o(f.relativeLuminance2(D,M,z),f.relativeLuminance2(b,L,B));for(;V<p&&(D>0||M>0||z>0);)D-=Math.max(0,Math.ceil(.1*D)),M-=Math.max(0,Math.ceil(.1*M)),z-=Math.max(0,Math.ceil(.1*z)),V=o(f.relativeLuminance2(D,M,z),f.relativeLuminance2(b,L,B));return(D<<24|M<<16|z<<8|255)>>>0}function w(S,E,p){const b=S>>24&255,L=S>>16&255,B=S>>8&255;let D=E>>24&255,M=E>>16&255,z=E>>8&255,V=o(f.relativeLuminance2(D,M,z),f.relativeLuminance2(b,L,B));for(;V<p&&(D<255||M<255||z<255);)D=Math.min(255,D+Math.ceil(.1*(255-D))),M=Math.min(255,M+Math.ceil(.1*(255-M))),z=Math.min(255,z+Math.ceil(.1*(255-z))),V=o(f.relativeLuminance2(D,M,z),f.relativeLuminance2(b,L,B));return(D<<24|M<<16|z<<8|255)>>>0}h.blend=function(S,E){if(l=(255&E)/255,l===1)return E;const p=E>>24&255,b=E>>16&255,L=E>>8&255,B=S>>24&255,D=S>>16&255,M=S>>8&255;return d=B+Math.round((p-B)*l),_=D+Math.round((b-D)*l),v=M+Math.round((L-M)*l),g.toRgba(d,_,v)},h.ensureContrastRatio=function(S,E,p){const b=f.relativeLuminance(S>>8),L=f.relativeLuminance(E>>8);if(o(b,L)<p){if(L<b){const M=m(S,E,p),z=o(b,f.relativeLuminance(M>>8));if(z<p){const V=w(S,E,p);return z>o(b,f.relativeLuminance(V>>8))?M:V}return M}const B=w(S,E,p),D=o(b,f.relativeLuminance(B>>8));if(D<p){const M=m(S,E,p);return D>o(b,f.relativeLuminance(M>>8))?B:M}return B}},h.reduceLuminance=m,h.increaseLuminance=w,h.toChannels=function(S){return[S>>24&255,S>>16&255,S>>8&255,255&S]}})(r||(a.rgba=r={})),a.toPaddedHex=c,a.contrastRatio=o},345:(W,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.runAndSubscribe=a.forwardEvent=a.EventEmitter=void 0,a.EventEmitter=class{constructor(){this._listeners=[],this._disposed=!1}get event(){return this._event||(this._event=d=>(this._listeners.push(d),{dispose:()=>{if(!this._disposed){for(let _=0;_<this._listeners.length;_++)if(this._listeners[_]===d)return void this._listeners.splice(_,1)}}})),this._event}fire(d,_){const v=[];for(let l=0;l<this._listeners.length;l++)v.push(this._listeners[l]);for(let l=0;l<v.length;l++)v[l].call(void 0,d,_)}dispose(){this.clearListeners(),this._disposed=!0}clearListeners(){this._listeners&&(this._listeners.length=0)}},a.forwardEvent=function(d,_){return d((v=>_.fire(v)))},a.runAndSubscribe=function(d,_){return _(void 0),d((v=>_(v)))}},859:(W,a)=>{function d(_){for(const v of _)v.dispose();_.length=0}Object.defineProperty(a,"__esModule",{value:!0}),a.getDisposeArrayDisposable=a.disposeArray=a.toDisposable=a.MutableDisposable=a.Disposable=void 0,a.Disposable=class{constructor(){this._disposables=[],this._isDisposed=!1}dispose(){this._isDisposed=!0;for(const _ of this._disposables)_.dispose();this._disposables.length=0}register(_){return this._disposables.push(_),_}unregister(_){const v=this._disposables.indexOf(_);v!==-1&&this._disposables.splice(v,1)}},a.MutableDisposable=class{constructor(){this._isDisposed=!1}get value(){return this._isDisposed?void 0:this._value}set value(_){this._isDisposed||_===this._value||(this._value?.dispose(),this._value=_)}clear(){this.value=void 0}dispose(){this._isDisposed=!0,this._value?.dispose(),this._value=void 0}},a.toDisposable=function(_){return{dispose:_}},a.disposeArray=d,a.getDisposeArrayDisposable=function(_){return{dispose:()=>d(_)}}},485:(W,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.FourKeyMap=a.TwoKeyMap=void 0;class d{constructor(){this._data={}}set(v,l,g){this._data[v]||(this._data[v]={}),this._data[v][l]=g}get(v,l){return this._data[v]?this._data[v][l]:void 0}clear(){this._data={}}}a.TwoKeyMap=d,a.FourKeyMap=class{constructor(){this._data=new d}set(_,v,l,g,y){this._data.get(_,v)||this._data.set(_,v,new d),this._data.get(_,v).set(l,g,y)}get(_,v,l,g){return this._data.get(_,v)?.get(l,g)}clear(){this._data.clear()}}},399:(W,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.isChromeOS=a.isLinux=a.isWindows=a.isIphone=a.isIpad=a.isMac=a.getSafariVersion=a.isSafari=a.isLegacyEdge=a.isFirefox=a.isNode=void 0,a.isNode=typeof process<"u"&&"title"in process;const d=a.isNode?"node":navigator.userAgent,_=a.isNode?"node":navigator.platform;a.isFirefox=d.includes("Firefox"),a.isLegacyEdge=d.includes("Edge"),a.isSafari=/^((?!chrome|android).)*safari/i.test(d),a.getSafariVersion=function(){if(!a.isSafari)return 0;const v=d.match(/Version\/(\d+)/);return v===null||v.length<2?0:parseInt(v[1])},a.isMac=["Macintosh","MacIntel","MacPPC","Mac68K"].includes(_),a.isIpad=_==="iPad",a.isIphone=_==="iPhone",a.isWindows=["Windows","Win16","Win32","WinCE"].includes(_),a.isLinux=_.indexOf("Linux")>=0,a.isChromeOS=/\bCrOS\b/.test(d)},385:(W,a,d)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.DebouncedIdleTask=a.IdleTaskQueue=a.PriorityTaskQueue=void 0;const _=d(399);class v{constructor(){this._tasks=[],this._i=0}enqueue(y){this._tasks.push(y),this._start()}flush(){for(;this._i<this._tasks.length;)this._tasks[this._i]()||this._i++;this.clear()}clear(){this._idleCallback&&(this._cancelCallback(this._idleCallback),this._idleCallback=void 0),this._i=0,this._tasks.length=0}_start(){this._idleCallback||(this._idleCallback=this._requestCallback(this._process.bind(this)))}_process(y){this._idleCallback=void 0;let C=0,f=0,r=y.timeRemaining(),c=0;for(;this._i<this._tasks.length;){if(C=Date.now(),this._tasks[this._i]()||this._i++,C=Math.max(1,Date.now()-C),f=Math.max(C,f),c=y.timeRemaining(),1.5*f>c)return r-C<-20&&console.warn(`task queue exceeded allotted deadline by ${Math.abs(Math.round(r-C))}ms`),void this._start();r=c}this.clear()}}class l extends v{_requestCallback(y){return setTimeout((()=>y(this._createDeadline(16))))}_cancelCallback(y){clearTimeout(y)}_createDeadline(y){const C=Date.now()+y;return{timeRemaining:()=>Math.max(0,C-Date.now())}}}a.PriorityTaskQueue=l,a.IdleTaskQueue=!_.isNode&&"requestIdleCallback"in window?class extends v{_requestCallback(g){return requestIdleCallback(g)}_cancelCallback(g){cancelIdleCallback(g)}}:l,a.DebouncedIdleTask=class{constructor(){this._queue=new a.IdleTaskQueue}set(g){this._queue.clear(),this._queue.enqueue(g)}flush(){this._queue.flush()}}},147:(W,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.ExtendedAttrs=a.AttributeData=void 0;class d{constructor(){this.fg=0,this.bg=0,this.extended=new _}static toColorRGB(l){return[l>>>16&255,l>>>8&255,255&l]}static fromColorRGB(l){return(255&l[0])<<16|(255&l[1])<<8|255&l[2]}clone(){const l=new d;return l.fg=this.fg,l.bg=this.bg,l.extended=this.extended.clone(),l}isInverse(){return 67108864&this.fg}isBold(){return 134217728&this.fg}isUnderline(){return this.hasExtendedAttrs()&&this.extended.underlineStyle!==0?1:268435456&this.fg}isBlink(){return 536870912&this.fg}isInvisible(){return 1073741824&this.fg}isItalic(){return 67108864&this.bg}isDim(){return 134217728&this.bg}isStrikethrough(){return 2147483648&this.fg}isProtected(){return 536870912&this.bg}isOverline(){return 1073741824&this.bg}getFgColorMode(){return 50331648&this.fg}getBgColorMode(){return 50331648&this.bg}isFgRGB(){return(50331648&this.fg)==50331648}isBgRGB(){return(50331648&this.bg)==50331648}isFgPalette(){return(50331648&this.fg)==16777216||(50331648&this.fg)==33554432}isBgPalette(){return(50331648&this.bg)==16777216||(50331648&this.bg)==33554432}isFgDefault(){return(50331648&this.fg)==0}isBgDefault(){return(50331648&this.bg)==0}isAttributeDefault(){return this.fg===0&&this.bg===0}getFgColor(){switch(50331648&this.fg){case 16777216:case 33554432:return 255&this.fg;case 50331648:return 16777215&this.fg;default:return-1}}getBgColor(){switch(50331648&this.bg){case 16777216:case 33554432:return 255&this.bg;case 50331648:return 16777215&this.bg;default:return-1}}hasExtendedAttrs(){return 268435456&this.bg}updateExtended(){this.extended.isEmpty()?this.bg&=-268435457:this.bg|=268435456}getUnderlineColor(){if(268435456&this.bg&&~this.extended.underlineColor)switch(50331648&this.extended.underlineColor){case 16777216:case 33554432:return 255&this.extended.underlineColor;case 50331648:return 16777215&this.extended.underlineColor;default:return this.getFgColor()}return this.getFgColor()}getUnderlineColorMode(){return 268435456&this.bg&&~this.extended.underlineColor?50331648&this.extended.underlineColor:this.getFgColorMode()}isUnderlineColorRGB(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==50331648:this.isFgRGB()}isUnderlineColorPalette(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==16777216||(50331648&this.extended.underlineColor)==33554432:this.isFgPalette()}isUnderlineColorDefault(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==0:this.isFgDefault()}getUnderlineStyle(){return 268435456&this.fg?268435456&this.bg?this.extended.underlineStyle:1:0}getUnderlineVariantOffset(){return this.extended.underlineVariantOffset}}a.AttributeData=d;class _{get ext(){return this._urlId?-469762049&this._ext|this.underlineStyle<<26:this._ext}set ext(l){this._ext=l}get underlineStyle(){return this._urlId?5:(469762048&this._ext)>>26}set underlineStyle(l){this._ext&=-469762049,this._ext|=l<<26&469762048}get underlineColor(){return 67108863&this._ext}set underlineColor(l){this._ext&=-67108864,this._ext|=67108863&l}get urlId(){return this._urlId}set urlId(l){this._urlId=l}get underlineVariantOffset(){const l=(3758096384&this._ext)>>29;return l<0?4294967288^l:l}set underlineVariantOffset(l){this._ext&=536870911,this._ext|=l<<29&3758096384}constructor(l=0,g=0){this._ext=0,this._urlId=0,this._ext=l,this._urlId=g}clone(){return new _(this._ext,this._urlId)}isEmpty(){return this.underlineStyle===0&&this._urlId===0}}a.ExtendedAttrs=_},782:(W,a,d)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.CellData=void 0;const _=d(133),v=d(855),l=d(147);class g extends l.AttributeData{constructor(){super(...arguments),this.content=0,this.fg=0,this.bg=0,this.extended=new l.ExtendedAttrs,this.combinedData=""}static fromCharData(C){const f=new g;return f.setFromCharData(C),f}isCombined(){return 2097152&this.content}getWidth(){return this.content>>22}getChars(){return 2097152&this.content?this.combinedData:2097151&this.content?(0,_.stringFromCodePoint)(2097151&this.content):""}getCode(){return this.isCombined()?this.combinedData.charCodeAt(this.combinedData.length-1):2097151&this.content}setFromCharData(C){this.fg=C[v.CHAR_DATA_ATTR_INDEX],this.bg=0;let f=!1;if(C[v.CHAR_DATA_CHAR_INDEX].length>2)f=!0;else if(C[v.CHAR_DATA_CHAR_INDEX].length===2){const r=C[v.CHAR_DATA_CHAR_INDEX].charCodeAt(0);if(55296<=r&&r<=56319){const c=C[v.CHAR_DATA_CHAR_INDEX].charCodeAt(1);56320<=c&&c<=57343?this.content=1024*(r-55296)+c-56320+65536|C[v.CHAR_DATA_WIDTH_INDEX]<<22:f=!0}else f=!0}else this.content=C[v.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|C[v.CHAR_DATA_WIDTH_INDEX]<<22;f&&(this.combinedData=C[v.CHAR_DATA_CHAR_INDEX],this.content=2097152|C[v.CHAR_DATA_WIDTH_INDEX]<<22)}getAsCharData(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]}}a.CellData=g},855:(W,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.WHITESPACE_CELL_CODE=a.WHITESPACE_CELL_WIDTH=a.WHITESPACE_CELL_CHAR=a.NULL_CELL_CODE=a.NULL_CELL_WIDTH=a.NULL_CELL_CHAR=a.CHAR_DATA_CODE_INDEX=a.CHAR_DATA_WIDTH_INDEX=a.CHAR_DATA_CHAR_INDEX=a.CHAR_DATA_ATTR_INDEX=a.DEFAULT_EXT=a.DEFAULT_ATTR=a.DEFAULT_COLOR=void 0,a.DEFAULT_COLOR=0,a.DEFAULT_ATTR=256|a.DEFAULT_COLOR<<9,a.DEFAULT_EXT=0,a.CHAR_DATA_ATTR_INDEX=0,a.CHAR_DATA_CHAR_INDEX=1,a.CHAR_DATA_WIDTH_INDEX=2,a.CHAR_DATA_CODE_INDEX=3,a.NULL_CELL_CHAR="",a.NULL_CELL_WIDTH=1,a.NULL_CELL_CODE=0,a.WHITESPACE_CELL_CHAR=" ",a.WHITESPACE_CELL_WIDTH=1,a.WHITESPACE_CELL_CODE=32},133:(W,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.Utf8ToUtf32=a.StringToUtf32=a.utf32ToString=a.stringFromCodePoint=void 0,a.stringFromCodePoint=function(d){return d>65535?(d-=65536,String.fromCharCode(55296+(d>>10))+String.fromCharCode(d%1024+56320)):String.fromCharCode(d)},a.utf32ToString=function(d,_=0,v=d.length){let l="";for(let g=_;g<v;++g){let y=d[g];y>65535?(y-=65536,l+=String.fromCharCode(55296+(y>>10))+String.fromCharCode(y%1024+56320)):l+=String.fromCharCode(y)}return l},a.StringToUtf32=class{constructor(){this._interim=0}clear(){this._interim=0}decode(d,_){const v=d.length;if(!v)return 0;let l=0,g=0;if(this._interim){const y=d.charCodeAt(g++);56320<=y&&y<=57343?_[l++]=1024*(this._interim-55296)+y-56320+65536:(_[l++]=this._interim,_[l++]=y),this._interim=0}for(let y=g;y<v;++y){const C=d.charCodeAt(y);if(55296<=C&&C<=56319){if(++y>=v)return this._interim=C,l;const f=d.charCodeAt(y);56320<=f&&f<=57343?_[l++]=1024*(C-55296)+f-56320+65536:(_[l++]=C,_[l++]=f)}else C!==65279&&(_[l++]=C)}return l}},a.Utf8ToUtf32=class{constructor(){this.interim=new Uint8Array(3)}clear(){this.interim.fill(0)}decode(d,_){const v=d.length;if(!v)return 0;let l,g,y,C,f=0,r=0,c=0;if(this.interim[0]){let m=!1,w=this.interim[0];w&=(224&w)==192?31:(240&w)==224?15:7;let S,E=0;for(;(S=63&this.interim[++E])&&E<4;)w<<=6,w|=S;const p=(224&this.interim[0])==192?2:(240&this.interim[0])==224?3:4,b=p-E;for(;c<b;){if(c>=v)return 0;if(S=d[c++],(192&S)!=128){c--,m=!0;break}this.interim[E++]=S,w<<=6,w|=63&S}m||(p===2?w<128?c--:_[f++]=w:p===3?w<2048||w>=55296&&w<=57343||w===65279||(_[f++]=w):w<65536||w>1114111||(_[f++]=w)),this.interim.fill(0)}const o=v-4;let h=c;for(;h<v;){for(;!(!(h<o)||128&(l=d[h])||128&(g=d[h+1])||128&(y=d[h+2])||128&(C=d[h+3]));)_[f++]=l,_[f++]=g,_[f++]=y,_[f++]=C,h+=4;if(l=d[h++],l<128)_[f++]=l;else if((224&l)==192){if(h>=v)return this.interim[0]=l,f;if(g=d[h++],(192&g)!=128){h--;continue}if(r=(31&l)<<6|63&g,r<128){h--;continue}_[f++]=r}else if((240&l)==224){if(h>=v)return this.interim[0]=l,f;if(g=d[h++],(192&g)!=128){h--;continue}if(h>=v)return this.interim[0]=l,this.interim[1]=g,f;if(y=d[h++],(192&y)!=128){h--;continue}if(r=(15&l)<<12|(63&g)<<6|63&y,r<2048||r>=55296&&r<=57343||r===65279)continue;_[f++]=r}else if((248&l)==240){if(h>=v)return this.interim[0]=l,f;if(g=d[h++],(192&g)!=128){h--;continue}if(h>=v)return this.interim[0]=l,this.interim[1]=g,f;if(y=d[h++],(192&y)!=128){h--;continue}if(h>=v)return this.interim[0]=l,this.interim[1]=g,this.interim[2]=y,f;if(C=d[h++],(192&C)!=128){h--;continue}if(r=(7&l)<<18|(63&g)<<12|(63&y)<<6|63&C,r<65536||r>1114111)continue;_[f++]=r}}return f}}},776:function(W,a,d){var _=this&&this.__decorate||function(r,c,o,h){var m,w=arguments.length,S=w<3?c:h===null?h=Object.getOwnPropertyDescriptor(c,o):h;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")S=Reflect.decorate(r,c,o,h);else for(var E=r.length-1;E>=0;E--)(m=r[E])&&(S=(w<3?m(S):w>3?m(c,o,S):m(c,o))||S);return w>3&&S&&Object.defineProperty(c,o,S),S},v=this&&this.__param||function(r,c){return function(o,h){c(o,h,r)}};Object.defineProperty(a,"__esModule",{value:!0}),a.traceCall=a.setTraceLogger=a.LogService=void 0;const l=d(859),g=d(97),y={trace:g.LogLevelEnum.TRACE,debug:g.LogLevelEnum.DEBUG,info:g.LogLevelEnum.INFO,warn:g.LogLevelEnum.WARN,error:g.LogLevelEnum.ERROR,off:g.LogLevelEnum.OFF};let C,f=a.LogService=class extends l.Disposable{get logLevel(){return this._logLevel}constructor(r){super(),this._optionsService=r,this._logLevel=g.LogLevelEnum.OFF,this._updateLogLevel(),this.register(this._optionsService.onSpecificOptionChange("logLevel",(()=>this._updateLogLevel()))),C=this}_updateLogLevel(){this._logLevel=y[this._optionsService.rawOptions.logLevel]}_evalLazyOptionalParams(r){for(let c=0;c<r.length;c++)typeof r[c]=="function"&&(r[c]=r[c]())}_log(r,c,o){this._evalLazyOptionalParams(o),r.call(console,(this._optionsService.options.logger?"":"xterm.js: ")+c,...o)}trace(r,...c){this._logLevel<=g.LogLevelEnum.TRACE&&this._log(this._optionsService.options.logger?.trace.bind(this._optionsService.options.logger)??console.log,r,c)}debug(r,...c){this._logLevel<=g.LogLevelEnum.DEBUG&&this._log(this._optionsService.options.logger?.debug.bind(this._optionsService.options.logger)??console.log,r,c)}info(r,...c){this._logLevel<=g.LogLevelEnum.INFO&&this._log(this._optionsService.options.logger?.info.bind(this._optionsService.options.logger)??console.info,r,c)}warn(r,...c){this._logLevel<=g.LogLevelEnum.WARN&&this._log(this._optionsService.options.logger?.warn.bind(this._optionsService.options.logger)??console.warn,r,c)}error(r,...c){this._logLevel<=g.LogLevelEnum.ERROR&&this._log(this._optionsService.options.logger?.error.bind(this._optionsService.options.logger)??console.error,r,c)}};a.LogService=f=_([v(0,g.IOptionsService)],f),a.setTraceLogger=function(r){C=r},a.traceCall=function(r,c,o){if(typeof o.value!="function")throw new Error("not supported");const h=o.value;o.value=function(...m){if(C.logLevel!==g.LogLevelEnum.TRACE)return h.apply(this,m);C.trace(`GlyphRenderer#${h.name}(${m.map((S=>JSON.stringify(S))).join(", ")})`);const w=h.apply(this,m);return C.trace(`GlyphRenderer#${h.name} return`,w),w}}},726:(W,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.createDecorator=a.getServiceDependencies=a.serviceRegistry=void 0;const d="di$target",_="di$dependencies";a.serviceRegistry=new Map,a.getServiceDependencies=function(v){return v[_]||[]},a.createDecorator=function(v){if(a.serviceRegistry.has(v))return a.serviceRegistry.get(v);const l=function(g,y,C){if(arguments.length!==3)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");(function(f,r,c){r[d]===r?r[_].push({id:f,index:c}):(r[_]=[{id:f,index:c}],r[d]=r)})(l,g,C)};return l.toString=()=>v,a.serviceRegistry.set(v,l),l}},97:(W,a,d)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.IDecorationService=a.IUnicodeService=a.IOscLinkService=a.IOptionsService=a.ILogService=a.LogLevelEnum=a.IInstantiationService=a.ICharsetService=a.ICoreService=a.ICoreMouseService=a.IBufferService=void 0;const _=d(726);var v;a.IBufferService=(0,_.createDecorator)("BufferService"),a.ICoreMouseService=(0,_.createDecorator)("CoreMouseService"),a.ICoreService=(0,_.createDecorator)("CoreService"),a.ICharsetService=(0,_.createDecorator)("CharsetService"),a.IInstantiationService=(0,_.createDecorator)("InstantiationService"),(function(l){l[l.TRACE=0]="TRACE",l[l.DEBUG=1]="DEBUG",l[l.INFO=2]="INFO",l[l.WARN=3]="WARN",l[l.ERROR=4]="ERROR",l[l.OFF=5]="OFF"})(v||(a.LogLevelEnum=v={})),a.ILogService=(0,_.createDecorator)("LogService"),a.IOptionsService=(0,_.createDecorator)("OptionsService"),a.IOscLinkService=(0,_.createDecorator)("OscLinkService"),a.IUnicodeService=(0,_.createDecorator)("UnicodeService"),a.IDecorationService=(0,_.createDecorator)("DecorationService")}},X={};function ce(W){var a=X[W];if(a!==void 0)return a.exports;var d=X[W]={exports:{}};return me[W].call(d.exports,d,d.exports,ce),d.exports}var de={};return(()=>{var W=de;Object.defineProperty(W,"__esModule",{value:!0}),W.WebglAddon=void 0;const a=ce(345),d=ce(859),_=ce(399),v=ce(666),l=ce(776);class g extends d.Disposable{constructor(C){if(_.isSafari&&(0,_.getSafariVersion)()<16){const f={antialias:!1,depth:!1,preserveDrawingBuffer:!0};if(!document.createElement("canvas").getContext("webgl2",f))throw new Error("Webgl2 is only supported on Safari 16 and above")}super(),this._preserveDrawingBuffer=C,this._onChangeTextureAtlas=this.register(new a.EventEmitter),this.onChangeTextureAtlas=this._onChangeTextureAtlas.event,this._onAddTextureAtlasCanvas=this.register(new a.EventEmitter),this.onAddTextureAtlasCanvas=this._onAddTextureAtlasCanvas.event,this._onRemoveTextureAtlasCanvas=this.register(new a.EventEmitter),this.onRemoveTextureAtlasCanvas=this._onRemoveTextureAtlasCanvas.event,this._onContextLoss=this.register(new a.EventEmitter),this.onContextLoss=this._onContextLoss.event}activate(C){const f=C._core;if(!C.element)return void this.register(f.onWillOpen((()=>this.activate(C))));this._terminal=C;const r=f.coreService,c=f.optionsService,o=f,h=o._renderService,m=o._characterJoinerService,w=o._charSizeService,S=o._coreBrowserService,E=o._decorationService,p=o._logService,b=o._themeService;(0,l.setTraceLogger)(p),this._renderer=this.register(new v.WebglRenderer(C,m,w,S,r,E,c,b,this._preserveDrawingBuffer)),this.register((0,a.forwardEvent)(this._renderer.onContextLoss,this._onContextLoss)),this.register((0,a.forwardEvent)(this._renderer.onChangeTextureAtlas,this._onChangeTextureAtlas)),this.register((0,a.forwardEvent)(this._renderer.onAddTextureAtlasCanvas,this._onAddTextureAtlasCanvas)),this.register((0,a.forwardEvent)(this._renderer.onRemoveTextureAtlasCanvas,this._onRemoveTextureAtlasCanvas)),h.setRenderer(this._renderer),this.register((0,d.toDisposable)((()=>{const L=this._terminal._core._renderService;L.setRenderer(this._terminal._core._createRenderer()),L.handleResize(C.cols,C.rows)})))}get textureAtlas(){return this._renderer?.textureAtlas}clearTextureAtlas(){this._renderer?.clearTextureAtlas()}}W.WebglAddon=g})(),de})()))})(Do)),Do.exports}var yv=Sv(),Mo={exports:{}},qf;function Cv(){return qf||(qf=1,(function(oe,Me){(function(me,X){oe.exports=X()})(self,(()=>(()=>{var me={575:function(W,a,d){typeof self<"u"||typeof window<"u"||d.g!==void 0&&d.g,W.exports=(function(){var _,v="3.7.7",l=v,g=typeof Buffer=="function",y=typeof TextDecoder=="function"?new TextDecoder:void 0,C=typeof TextEncoder=="function"?new TextEncoder:void 0,f=Array.prototype.slice.call("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="),r=(_={},f.forEach((function(q,te){return _[q]=te})),_),c=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,o=String.fromCharCode.bind(String),h=typeof Uint8Array.from=="function"?Uint8Array.from.bind(Uint8Array):function(q){return new Uint8Array(Array.prototype.slice.call(q,0))},m=function(q){return q.replace(/=/g,"").replace(/[+\/]/g,(function(te){return te=="+"?"-":"_"}))},w=function(q){return q.replace(/[^A-Za-z0-9\+\/]/g,"")},S=function(q){for(var te,le,pe,fe,Ce="",Fe=q.length%3,ve=0;ve<q.length;){if((le=q.charCodeAt(ve++))>255||(pe=q.charCodeAt(ve++))>255||(fe=q.charCodeAt(ve++))>255)throw new TypeError("invalid character found");Ce+=f[(te=le<<16|pe<<8|fe)>>18&63]+f[te>>12&63]+f[te>>6&63]+f[63&te]}return Fe?Ce.slice(0,Fe-3)+"===".substring(Fe):Ce},E=typeof btoa=="function"?function(q){return btoa(q)}:g?function(q){return Buffer.from(q,"binary").toString("base64")}:S,p=g?function(q){return Buffer.from(q).toString("base64")}:function(q){for(var te=[],le=0,pe=q.length;le<pe;le+=4096)te.push(o.apply(null,q.subarray(le,le+4096)));return E(te.join(""))},b=function(q,te){return te===void 0&&(te=!1),te?m(p(q)):p(q)},L=function(q){if(q.length<2)return(te=q.charCodeAt(0))<128?q:te<2048?o(192|te>>>6)+o(128|63&te):o(224|te>>>12&15)+o(128|te>>>6&63)+o(128|63&te);var te=65536+1024*(q.charCodeAt(0)-55296)+(q.charCodeAt(1)-56320);return o(240|te>>>18&7)+o(128|te>>>12&63)+o(128|te>>>6&63)+o(128|63&te)},B=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,D=function(q){return q.replace(B,L)},M=g?function(q){return Buffer.from(q,"utf8").toString("base64")}:C?function(q){return p(C.encode(q))}:function(q){return E(D(q))},z=function(q,te){return te===void 0&&(te=!1),te?m(M(q)):M(q)},V=function(q){return z(q,!0)},U=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,N=function(q){switch(q.length){case 4:var te=((7&q.charCodeAt(0))<<18|(63&q.charCodeAt(1))<<12|(63&q.charCodeAt(2))<<6|63&q.charCodeAt(3))-65536;return o(55296+(te>>>10))+o(56320+(1023&te));case 3:return o((15&q.charCodeAt(0))<<12|(63&q.charCodeAt(1))<<6|63&q.charCodeAt(2));default:return o((31&q.charCodeAt(0))<<6|63&q.charCodeAt(1))}},F=function(q){return q.replace(U,N)},x=function(q){if(q=q.replace(/\s+/g,""),!c.test(q))throw new TypeError("malformed base64.");q+="==".slice(2-(3&q.length));for(var te,le,pe,fe="",Ce=0;Ce<q.length;)te=r[q.charAt(Ce++)]<<18|r[q.charAt(Ce++)]<<12|(le=r[q.charAt(Ce++)])<<6|(pe=r[q.charAt(Ce++)]),fe+=le===64?o(te>>16&255):pe===64?o(te>>16&255,te>>8&255):o(te>>16&255,te>>8&255,255&te);return fe},k=typeof atob=="function"?function(q){return atob(w(q))}:g?function(q){return Buffer.from(q,"base64").toString("binary")}:x,R=g?function(q){return h(Buffer.from(q,"base64"))}:function(q){return h(k(q).split("").map((function(te){return te.charCodeAt(0)})))},O=function(q){return R($(q))},G=g?function(q){return Buffer.from(q,"base64").toString("utf8")}:y?function(q){return y.decode(R(q))}:function(q){return F(k(q))},$=function(q){return w(q.replace(/[-_]/g,(function(te){return te=="-"?"+":"/"})))},ne=function(q){return G($(q))},ae=function(q){return{value:q,enumerable:!1,writable:!0,configurable:!0}},P=function(){var q=function(te,le){return Object.defineProperty(String.prototype,te,ae(le))};q("fromBase64",(function(){return ne(this)})),q("toBase64",(function(te){return z(this,te)})),q("toBase64URI",(function(){return z(this,!0)})),q("toBase64URL",(function(){return z(this,!0)})),q("toUint8Array",(function(){return O(this)}))},H=function(){var q=function(te,le){return Object.defineProperty(Uint8Array.prototype,te,ae(le))};q("toBase64",(function(te){return b(this,te)})),q("toBase64URI",(function(){return b(this,!0)})),q("toBase64URL",(function(){return b(this,!0)}))},Q={version:v,VERSION:l,atob:k,atobPolyfill:x,btoa:E,btoaPolyfill:S,fromBase64:ne,toBase64:z,encode:z,encodeURI:V,encodeURL:V,utob:D,btou:F,decode:ne,isValid:function(q){if(typeof q!="string")return!1;var te=q.replace(/\s+/g,"").replace(/={0,2}$/,"");return!/[^\s0-9a-zA-Z\+/]/.test(te)||!/[^\s0-9a-zA-Z\-_]/.test(te)},fromUint8Array:b,toUint8Array:O,extendString:P,extendUint8Array:H,extendBuiltins:function(){P(),H()},Base64:{}};return Object.keys(Q).forEach((function(q){return Q.Base64[q]=Q[q]})),Q})()}},X={};function ce(W){var a=X[W];if(a!==void 0)return a.exports;var d=X[W]={exports:{}};return me[W].call(d.exports,d,d.exports,ce),d.exports}ce.g=(function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}})();var de={};return(()=>{var W=de;Object.defineProperty(W,"__esModule",{value:!0}),W.Base64=W.BrowserClipboardProvider=W.ClipboardAddon=void 0;const a=ce(575);W.ClipboardAddon=class{constructor(v=new _,l=new d){this._base64=v,this._provider=l}activate(v){this._terminal=v,this._disposable=v.parser.registerOscHandler(52,(l=>this._setOrReportClipboard(l)))}dispose(){return this._disposable?.dispose()}_readText(v,l){const g=this._base64.encodeText(l);this._terminal?.input(`\x1B]52;${v};${g}\x07`,!1)}_setOrReportClipboard(v){const l=v.split(";");if(l.length<2)return!0;const g=l[0],y=l[1];if(y==="?"){const r=this._provider.readText(g);return r instanceof Promise?r.then((c=>(this._readText(g,c),!0))):(this._readText(g,r),!0)}let C="";try{C=this._base64.decodeText(y)}catch{}const f=this._provider.writeText(g,C);return!(f instanceof Promise)||f.then((()=>!0))}};class d{async readText(l){return l!=="c"?Promise.resolve(""):navigator.clipboard.readText()}async writeText(l,g){return l!=="c"?Promise.resolve():navigator.clipboard.writeText(g)}}W.BrowserClipboardProvider=d;class _{encodeText(l){return a.Base64.encode(l)}decodeText(l){const g=a.Base64.decode(l);return a.Base64.isValid(l)&&a.Base64.encode(g)===l?g:""}}W.Base64=_})(),de})()))})(Mo)),Mo.exports}var bv=Cv();function wv({context:oe}){const Me=Ks.useRef(null);return Ks.useEffect(()=>{const me=Me.current;if(!me)return;const X=new gv.Terminal({fontFamily:"monospace",fontSize:13,theme:{background:"#1e1e1e"},cursorBlink:!0}),ce=new mv.FitAddon,de=new bv.ClipboardAddon;X.loadAddon(ce),X.loadAddon(de);const W=new yv.WebglAddon;W.onContextLoss(()=>W.dispose()),X.loadAddon(W),X.open(me),ce.fit();const{cols:a,rows:d}=X,_=_v("pty:data",{id:oe.cardId},g=>{const y=g.data;X.write(new Uint8Array(y))});X.onData(g=>{ra("pty_write",{id:oe.cardId,data:Array.from(new TextEncoder().encode(g))}).catch(console.error)}),ra("pty_spawn",{id:oe.cardId,cols:a,rows:d}).catch(console.error);let v=null;const l=new ResizeObserver(()=>{v&&clearTimeout(v),v=setTimeout(()=>{ce.fit(),ra("pty_resize",{id:oe.cardId,cols:X.cols,rows:X.rows}).catch(console.error)},50)});return l.observe(me),()=>{v&&clearTimeout(v),l.disconnect(),_(),X.dispose(),ra("pty_destroy",{id:oe.cardId}).catch(console.error)}},[oe.cardId]),na.jsx("div",{ref:Me,style:{width:"100%",height:"100%",background:"#1e1e1e"}})}function Ev(){const oe=dv();return oe?na.jsx(wv,{context:oe}):null}fv.createRoot(document.getElementById("root")).render(na.jsx(Ks.StrictMode,{children:na.jsx(Ev,{})}));
